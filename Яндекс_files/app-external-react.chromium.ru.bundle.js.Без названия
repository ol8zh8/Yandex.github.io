if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.2154");}window.YandexZen=window.YandexZen||{},window.YandexZen.app=function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,l=[];s<o.length;s++)i=o[s],r[i]&&l.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={1:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"app-external-react-"+({2:"content-carousel",3:"delimiter",4:"featuring-carousel",5:"featuring-promo-card",6:"feed-personal-carousel",7:"hint-eula",8:"hint-personal",9:"profile-onboarding-card-view",10:"social-profile-status",11:"source-block-text",12:"star-similar-interests",13:"user-question"}[e]||e)+".chromium.ru.bundle.js"}(e),a=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");a.type=i,a.request=o,n[1](a)}r[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.__rezenJsonpFunction__ke2v3fbj_gexatewb0al__=window.__rezenJsonpFunction__ke2v3fbj_gexatewb0al__||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=a;return i(i.s=342)}([function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"j",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"n",function(){return p}),n.d(t,"i",function(){return b}),n.d(t,"c",function(){return m}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"o",function(){return v}),n.d(t,"m",function(){return g}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return _}),n.d(t,"a",function(){return k}),n.d(t,"k",function(){return E}),n.d(t,"l",function(){return C});n(10);var r=n(48),i=n(197);const o=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e;class a{constructor(e){this.isLoose=e,this.path=[]}deepen(e,t){this.path.push(e);const n=t();return this.path.pop(),n}assert(e,t,n){if(e)return;const r=`Parsing error at ${this.path.join(".")}: expected ${t}, got ${n}`;if(!this.isLoose)throw new Error(r);console.error(r)}}const s=e=>e,c=e=>e,l=e=>s((t,n)=>{n.assert(o(t),"object",typeof t);const r={};for(const o of Object.keys(e))r[o]=n.deepen(o,()=>c(e[o])(t[Object(i.a)(o)],n));return r}),u=e=>s((t,n)=>(n.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map((t,r)=>n.deepen(String(r),()=>c(e)(t,n))))),d=e=>s((t,n)=>(n.assert(typeof t===e,e,typeof t),t)),p=d("string"),b=d("number"),m=d("boolean"),h=e=>s((t,n)=>(n.assert(t===e,`${typeof e} '${e}'`,`${typeof t} '${t}'`),e)),f=e=>s((t,n)=>void 0===t?void 0:c(e)(t,n)),v=(...e)=>{const t=e.map(e=>`'${e}'`).join(", ");return s((n,r)=>(r.assert("string"==typeof n,"string union",typeof n),r.assert(e.includes(n),`one of [${t}]`,`'${n}'`),n))},g=e=>s((t,n)=>{n.assert(o(t),"record",typeof t);const i={};for(const o of Object(r.a)(t))i[o]=n.deepen(`"${o}"`,()=>c(e)(t[o],n));return i}),y=s((e,t)=>(t.assert(void 0!==e,"json","undefined"),e)),O=(e,t)=>{const n=Object.keys(t).map(e=>`'${e}'`).join(", ");return s((r,i)=>{i.assert(o(r),"object",typeof r);const a=r[e];return i.assert("string"==typeof a,`value of key '${e}' string`,typeof a),i.assert(a in t,`value of key '${e}' in [${n}]`,a),c(t[a])(r,i)})},_=e=>s((t,n)=>Object.assign({},...Object(r.a)(e).map(r=>c(e[r])(t,n)))),k=(e,t)=>s((n,r)=>t(c(e)(n,r))),E=(e,t)=>c(e)(t,new a(!0)),C=(e,t)=>c(e)(t,new a(!1))},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d});n(10);let r,i,o,a;!function(e){e.ONE_COLUMN="one_column",e.TWO_COLUMNS="two_column",e.TWO_COLUMN_SMALL_CARDS="two_column_small_cards",e.THREE_COLUMNS="three_column",e.THREE_COLUMNS_FIRST_BIG="three_column_first_big",e.THREE_COLUMNS_SMALL_CARDS="three_column_small_cards",e.THREE_COLUMNS_INFINITY="three_column_infinity"}(r||(r={})),function(e){e.CARD_PLACEHOLDER="card-placeholder",e.FEATURING_CAROUSEL="carousel_card",e.COMMENT="comment",e.DIRECT="ad",e.TEXT="text_card",e.IMAGE="image_card",e.FEATURING_PROMO="featuring_promo",e.GIF="gif",e.HINT_EULA="hint_eula",e.HINT_PERSONAL="hint_personal",e.FEEDBACK_SUGGEST="feedback_suggest",e.LEARN_BLOCK_INTERESTS="learn_block_interests",e.ICEBOARDING_GRID="iceboarding-grid",e.PERSONAL_CAROUSEL="personal_carousel",e.CONTENT_CAROUSEL="content_personal_carousel",e.PLACEHOLDER="placeholder",e.POST="post",e.PROFILE_ACTIVITY_ONBOARDING="profile-activity-onboarding",e.SIMILAR_INTERESTS="similar_interests",e.USER_QUESTION="user-feedback-question",e.AUTH="auth",e.DELIMITER="delimiter",e.CARD_FILLER="card_filler",e.SOCIAL_PROFILE_STATUS="social_profile_status",e.SOCIAL_PROFILE_TEXT="social_profile_text",e.RTB="rtb_card",e.ADSENSE="adsense_card",e.GALLERY="gallery"}(i||(i={})),function(e){e.SMALL="small",e.BIG="big",e.FREE="free"}(o||(o={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(a||(a={}));const s=new Set([i.USER_QUESTION]),c={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9},l={columnCount:3,initialDisplayedRowsNumber:6,rowDisplayStep:9},u={[i.IMAGE]:[o.SMALL,o.BIG],[i.GALLERY]:[o.SMALL],[i.TEXT]:[o.SMALL,o.BIG],[i.POST]:[o.SMALL],[i.DIRECT]:[o.SMALL,o.BIG],[i.HINT_EULA]:[o.FREE],[i.HINT_PERSONAL]:[o.FREE],[i.ICEBOARDING_GRID]:[o.FREE],[i.GIF]:[o.SMALL,o.BIG],[i.CARD_PLACEHOLDER]:[o.SMALL,o.BIG],[i.PLACEHOLDER]:[o.FREE],[i.USER_QUESTION]:[o.FREE],[i.SIMILAR_INTERESTS]:[o.FREE],[i.FEATURING_PROMO]:[o.SMALL],[i.FEATURING_CAROUSEL]:[o.FREE],[i.PERSONAL_CAROUSEL]:[o.FREE],[i.CONTENT_CAROUSEL]:[o.FREE],[i.COMMENT]:[o.SMALL],[i.PROFILE_ACTIVITY_ONBOARDING]:[o.SMALL],[i.DELIMITER]:[o.FREE],[i.RTB]:[o.SMALL,o.BIG],[i.ADSENSE]:[o.SMALL,o.BIG],[i.CARD_FILLER]:[o.SMALL,o.BIG],[i.SOCIAL_PROFILE_TEXT]:[o.FREE],[i.SOCIAL_PROFILE_STATUS]:[o.FREE],[i.AUTH]:[o.SMALL],[i.FEEDBACK_SUGGEST]:[o.FREE],[i.LEARN_BLOCK_INTERESTS]:[o.FREE]},d={[r.ONE_COLUMN]:{columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8},[r.TWO_COLUMNS]:c,[r.TWO_COLUMN_SMALL_CARDS]:c,[r.THREE_COLUMNS]:l,[r.THREE_COLUMNS_FIRST_BIG]:l,[r.THREE_COLUMNS_SMALL_CARDS]:l,[r.THREE_COLUMNS_INFINITY]:l}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"l",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"o",function(){return b}),n.d(t,"r",function(){return m}),n.d(t,"s",function(){return h}),n.d(t,"u",function(){return f}),n.d(t,"v",function(){return v}),n.d(t,"w",function(){return g}),n.d(t,"x",function(){return y}),n.d(t,"P",function(){return O}),n.d(t,"Q",function(){return _}),n.d(t,"y",function(){return k}),n.d(t,"z",function(){return E}),n.d(t,"A",function(){return C}),n.d(t,"B",function(){return j}),n.d(t,"C",function(){return w}),n.d(t,"X",function(){return S}),n.d(t,"E",function(){return T}),n.d(t,"F",function(){return x}),n.d(t,"J",function(){return A}),n.d(t,"K",function(){return I}),n.d(t,"jb",function(){return P}),n.d(t,"pb",function(){return N}),n.d(t,"N",function(){return R}),n.d(t,"O",function(){return L}),n.d(t,"R",function(){return M}),n.d(t,"T",function(){return B}),n.d(t,"U",function(){return D}),n.d(t,"V",function(){return F}),n.d(t,"I",function(){return V}),n.d(t,"Z",function(){return U}),n.d(t,"ab",function(){return z}),n.d(t,"bb",function(){return H}),n.d(t,"db",function(){return $}),n.d(t,"fb",function(){return W}),n.d(t,"gb",function(){return q}),n.d(t,"hb",function(){return G}),n.d(t,"ib",function(){return K}),n.d(t,"lb",function(){return Y}),n.d(t,"mb",function(){return Z}),n.d(t,"nb",function(){return Q}),n.d(t,"qb",function(){return X}),n.d(t,"sb",function(){return J}),n.d(t,"ub",function(){return ee}),n.d(t,"W",function(){return te}),n.d(t,"vb",function(){return ne}),n.d(t,"wb",function(){return re}),n.d(t,"xb",function(){return ie}),n.d(t,"yb",function(){return oe}),n.d(t,"D",function(){return ae}),n.d(t,"Ab",function(){return se}),n.d(t,"Bb",function(){return ce}),n.d(t,"Cb",function(){return le}),n.d(t,"zb",function(){return ue}),n.d(t,"Eb",function(){return de}),n.d(t,"Hb",function(){return pe}),n.d(t,"Ib",function(){return be}),n.d(t,"Kb",function(){return me}),n.d(t,"Lb",function(){return he}),n.d(t,"Mb",function(){return fe}),n.d(t,"Nb",function(){return ve}),n.d(t,"Jb",function(){return ge}),n.d(t,"Xb",function(){return ye}),n.d(t,"Yb",function(){return Oe}),n.d(t,"bc",function(){return _e}),n.d(t,"cc",function(){return ke}),n.d(t,"Zb",function(){return Ee}),n.d(t,"ac",function(){return Ce}),n.d(t,"dc",function(){return je}),n.d(t,"tb",function(){return we}),n.d(t,"ec",function(){return Se}),n.d(t,"fc",function(){return Te}),n.d(t,"gc",function(){return xe}),n.d(t,"hc",function(){return Ae}),n.d(t,"Y",function(){return Ie}),n.d(t,"q",function(){return Pe}),n.d(t,"k",function(){return Ne}),n.d(t,"H",function(){return Re}),n.d(t,"G",function(){return Le}),n.d(t,"Sb",function(){return Me}),n.d(t,"Tb",function(){return Be}),n.d(t,"Rb",function(){return De}),n.d(t,"Wb",function(){return Fe}),n.d(t,"Vb",function(){return Ve}),n.d(t,"Ob",function(){return Ue}),n.d(t,"Pb",function(){return ze}),n.d(t,"Qb",function(){return He}),n.d(t,"kb",function(){return $e}),n.d(t,"Ub",function(){return We}),n.d(t,"f",function(){return qe}),n.d(t,"e",function(){return Ge}),n.d(t,"M",function(){return Ke}),n.d(t,"Db",function(){return Ye}),n.d(t,"S",function(){return Ze}),n.d(t,"L",function(){return Qe}),n.d(t,"t",function(){return Xe}),n.d(t,"Fb",function(){return Je}),n.d(t,"rb",function(){return et}),n.d(t,"ob",function(){return tt}),n.d(t,"p",function(){return nt}),n.d(t,"Gb",function(){return rt}),n.d(t,"b",function(){return it}),n.d(t,"cb",function(){return ot}),n.d(t,"eb",function(){return at});const r="ADD_USER",i="APPLY_EXPORT_DATA",o="CHECK_SOURCE",a="CLEAR_FEED",s="CLOSE_CAROUSEL",c="CLOSE_CAROUSEL_ITEM",l="ACCEPT_DISPLAY_SCENARIOS",u="DOC_CLICK",d="DOC_READ",p="DOC_SHORT",b="DOC_SHOW",m="INIT_COMMENTS",h="INIT_FROM_STATE",f="INSERT_ITEM_AFTER_WITH_LINK",v="ITEM_COMPLAINTS_CANCEL",g="ITEM_COMPLAINTS_OPEN",y="ITEM_COMPLAINTS_SEND",O="SET_ALL_ANSWERS_UNCHECKED",_="SET_ANSWER_IS_CHECKED",k="ITEM_FEEDBACK_BLOCK",E="ITEM_FEEDBACK_CANCEL",C="ITEM_FEEDBACK_DISLIKE",j="ITEM_FEEDBACK_CANCEL_BLOCK",w="ITEM_MITTENS_JUMP",S="SET_CHILD_ITEM_ID",T="MERGE_SOURCE",x="MERGE_STATE_BRANCH",A="RECEIVE_ITEMS",I="REMOVE_ITEM",P="SET_ITEM_ORDER",N="SET_REPLACE_QUEUE",R="SET_ADFOX_FULLSCREEN_VISIBLE",L="SET_ADFOX_SMART_VISIBLE",M="SET_APP_BUTTON_TIMEOUT",B="SET_BLOCK_FEED_BANNER_VISIBLE",D="SET_BODY_SCROLL",F="SET_CARD_FEEDBACK",V="PREVENT_SHOW_FEEDBACK_SUGGEST",U="SET_COMMENTS_COUNTS",z="SET_COMMENT_IN_CARD_STATE",H="SET_COUNT_ROWS_BEFORE_BLOCK",$="SET_CURRENT_NOTIFIER",W="SET_DISPLAYED_ROWS_NUMBER",q="SET_FEED_LOADING_PROGRESS_VISIBLE",G="SET_GRID_TYPE",K="SET_IS_CHILD_WINDOW",Y="SET_NOTIFIERS_ENABLED",Z="SET_NOTIFIERS_OFFSET_MODE_TOP",Q="SET_OPEN_CARD_SCROLL",X="SET_SMS_TOOLTIP_VISIBLE",J="SET_VIDEO_AUTOPLAY",ee="SET_VIDEO_MUTE",te="SET_CARD_VIDEO_MUTE",ne="SET_VIDEO_VOLUME",re="SHOW_ADFOX_INTERSTITIAL",ie="SOURCE_BLOCK",oe="SOURCE_DISLIKE",ae="MERGE_CHANNEL_SOURCE",se="SOURCE_SUBSCRIBE",ce="SOURCE_UNBLOCK",le="SOURCE_UNSUBSCRIBE",ue="SOURCE_SET_COMPLAINT_REASONS",de="UNCHECK_SOURCE",pe="USER_BLOCKED_REQUEST",be="USER_FOLLOWERS_REQUEST",me="USER_PROFILE_ONBOARDING_COMPLETE",he="USER_PROFILE_REQUEST",fe="USER_PROFILE_RESTORE",ve="USER_SUBSCRIPTIONS_REQUEST",ge="USER_PROFILE_NOTIFICATIONS_CHANGE",ye="VIDEO_DISABLE",Oe="VIDEO_ENABLE",_e="VIDEO_MODAL_SET_SOURCES",ke="VIDEO_MODAL_TOGGLE",Ee="VIDEO_MODAL_CHANGE",Ce="VIDEO_MODAL_GET_RECOMMEND",je="VIDEO_POPUP_SET_DATA",we="SET_VIDEO_FEED_DISPLAYED_ROWS_NUMBER",Se="VIDEO_READ",Te="VIDEO_RESET",xe="VIDEO_START",Ae="VIDEO_TOGGLE_MODAL",Ie="SET_CLOSE_MODAL_PATH",Pe="FORCE_MODAL_ROUTE",Ne="CLOSE_MODAL",Re="ON_MODAL_OPEN",Le="MODAL_FAILED",Me="VIDEO_CARD_CHANGE_INTERSECTING",Be="VIDEO_CARD_CHANGE_VISIBILITY",De="VIDEO_CARD_CHANGE_INTERACTION",Fe="VIDEO_CHANGE_ACTIVE_CARD",Ve="VIDEO_CARD_SET_FIRST_ON_SCREEN",Ue="VIDEO_CALL_TO_ACTION_SHOWN",ze="VIDEO_CALL_TO_ACTION_WIDGET_PRICE_LOADED",He="VIDEO_CALL_TO_ACTION_WRAPPED",$e="SET_NATIVE_NAVBAR",We="VIDEO_CARD_FEED_ITEM_SET_VISIBILITY",qe="CATEGORY_RECEIVE",Ge="CATEGORIES_RECEIVE",Ke="SEARCH_RECEIVE",Ye="SWITCH_SITE_STATE",Ze="SET_ARTICLE_DELETED",Qe="REMOVE_SIMILAR_LINK",Xe="INSERT_ITEM_AFTER",Je="UPDATE_FEED_KEY",et="SET_TOP_PACK_ID",tt="SET_REACTION_SHOWN",nt="FEED_UPDATE",rt="UPDATE_VISIBLE_FEED_ROWS",it="ADD_INTERVIEW",ot="SET_CURRENT_INTERVIEW_ID",at="SET_CURRENT_SCREEN_ID"},function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p});n(10);var r=n(197);const i=e=>(t={})=>Object.keys(e).reduce((n,i)=>Object.assign({},n,{[i]:e[i](t[Object(r.a)(i)])}),{}),o=(e,t)=>n=>t.includes(n)?n:e,a=(e={})=>t=>"object"==typeof t?t:e,s=(e,t)=>(n=t)=>t=>typeof t===e?t:n,c=s("number",0),l=s("boolean",!1),u=s("string",""),d=e=>e,p=e=>t=>Array.isArray(t)?t.filter(t=>e.includes(t)):[]},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(134),a=n.n(o),s=i.a.createContext(null);var c=function(e){e()},l=function(){return c},u=null,d={notify:function(){}};var p=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=d,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=l(),t=[],n=[];return{clear:function(){n=u,t=u},notify:function(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==u&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=d)},e}();function b(e){var t=e.store,n=e.context,o=e.children,a=Object(r.useMemo)(function(){var e=new p(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}},[t]),c=Object(r.useMemo)(function(){return t.getState()},[t]);Object(r.useEffect)(function(){var e=a.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}},[a,c]);var l=n||s;return i.a.createElement(l.Provider,{value:a},o)}b.propTypes={store:a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired}),context:a.a.object,children:a.a.any};var m=b;function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var v=n(170),g=n.n(v),y=n(104),O=n.n(y),_=n(295),k="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,E=[],C=[null,null];function j(e,t){var n=e[1];return[t.payload,n+1]}var w=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=n.methodName,l=void 0===c?"connectAdvanced":c,u=n.renderCountProp,d=void 0===u?void 0:u,b=n.shouldHandleStateChanges,m=void 0===b||b,v=n.storeKey,y=void 0===v?"store":v,S=n.withRef,T=void 0!==S&&S,x=n.forwardRef,A=void 0!==x&&x,I=n.context,P=void 0===I?s:I,N=f(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);O()(void 0===d,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),O()(!T,"withRef is removed. To access the wrapped instance, use a ref on the connected component");O()("store"===y,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var R=P;return function(t){var n=t.displayName||t.name||"Component",o=a(n),s=h({},N,{getDisplayName:a,methodName:l,renderCountProp:d,shouldHandleStateChanges:m,storeKey:y,displayName:o,wrappedComponentName:n,WrappedComponent:t}),c=N.pure;var u=c?r.useMemo:function(e){return e()};function b(n){var a=Object(r.useMemo)(function(){var e=n.forwardedRef,t=f(n,["forwardedRef"]);return[n.context,e,t]},[n]),c=a[0],l=a[1],d=a[2],b=Object(r.useMemo)(function(){return c&&c.Consumer&&Object(_.isContextConsumer)(i.a.createElement(c.Consumer,null))?c:R},[c,R]),v=Object(r.useContext)(b),g=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),y=Boolean(v)&&Boolean(v.store);O()(g||y,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var S=g?n.store:v.store,T=Object(r.useMemo)(function(){return function(t){return e(t.dispatch,s)}(S)},[S]),x=Object(r.useMemo)(function(){if(!m)return C;var e=new p(S,g?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[S,g,v]),A=x[0],I=x[1],P=Object(r.useMemo)(function(){return g?v:h({},v,{subscription:A})},[g,v,A]),N=Object(r.useReducer)(j,E,w),L=N[0][0],M=N[1];if(L&&L.error)throw L.error;var B=Object(r.useRef)(),D=Object(r.useRef)(d),F=Object(r.useRef)(),V=Object(r.useRef)(!1),U=u(function(){return F.current&&d===D.current?F.current:T(S.getState(),d)},[S,L,d]);k(function(){D.current=d,B.current=U,V.current=!1,F.current&&(F.current=null,I())}),k(function(){if(m){var e=!1,t=null,n=function(){if(!e){var n,r,i=S.getState();try{n=T(i,D.current)}catch(e){r=e,t=e}r||(t=null),n===B.current?V.current||I():(B.current=n,F.current=n,V.current=!0,M({type:"STORE_UPDATED",payload:{error:r}}))}};A.onStateChange=n,A.trySubscribe(),n();return function(){if(e=!0,A.tryUnsubscribe(),A.onStateChange=null,t)throw t}}},[S,A,T]);var z=Object(r.useMemo)(function(){return i.a.createElement(t,h({},U,{ref:l}))},[l,t,U]);return Object(r.useMemo)(function(){return m?i.a.createElement(b.Provider,{value:P},z):z},[b,z,P])}var v=c?i.a.memo(b):b;if(v.WrappedComponent=t,v.displayName=o,A){var S=i.a.forwardRef(function(e,t){return i.a.createElement(v,h({},e,{forwardedRef:t}))});return S.displayName=o,S.WrappedComponent=t,g()(S,t)}return g()(v,t)}}var T=Object.prototype.hasOwnProperty;function x(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(x(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!T.call(t,n[i])||!x(e[n[i]],t[n[i]]))return!1;return!0}var I=n(102);function P(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function N(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=N(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=N(i),i=r(t,n)),i},r}}var L=[function(e){return"function"==typeof e?R(e):void 0},function(e){return e?void 0:P(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?P(function(t){return Object(I.b)(e,t)}):void 0}];var M=[function(e){return"function"==typeof e?R(e):void 0},function(e){return e?void 0:P(function(){return{}})}];function B(e,t,n){return h({},n,{},e,{},t)}var D=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?i&&o(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return B}}];function F(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function V(e,t,n,r,i){var o,a,s,c,l,u=i.areStatesEqual,d=i.areOwnPropsEqual,p=i.areStatePropsEqual,b=!1;function m(i,b){var m=!d(b,a),h=!u(i,o);return o=i,a=b,m&&h?(s=e(o,a),t.dependsOnOwnProps&&(c=t(r,a)),l=n(s,c,a)):m?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(r,a)),l=n(s,c,a)):h?function(){var t=e(o,a),r=!p(t,s);return s=t,r&&(l=n(s,c,a)),l}():l}return function(i,u){return b?m(i,u):function(i,u){return s=e(o=i,a=u),c=t(r,a),l=n(s,c,a),b=!0,l}(i,u)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=f(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),c=i(e,o);return(o.pure?V:F)(a,s,c,e,o)}function z(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function H(e,t){return e===t}var $=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,i=t.mapStateToPropsFactories,o=void 0===i?M:i,a=t.mapDispatchToPropsFactories,s=void 0===a?L:a,c=t.mergePropsFactories,l=void 0===c?D:c,u=t.selectorFactory,d=void 0===u?U:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,c=a.pure,u=void 0===c||c,p=a.areStatesEqual,b=void 0===p?H:p,m=a.areOwnPropsEqual,v=void 0===m?A:m,g=a.areStatePropsEqual,y=void 0===g?A:g,O=a.areMergedPropsEqual,_=void 0===O?A:O,k=f(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=z(e,o,"mapStateToProps"),C=z(t,s,"mapDispatchToProps"),j=z(n,l,"mergeProps");return r(d,h({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:C,initMergeProps:j,pure:u,areStatesEqual:b,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:_},k))}}();function W(){var e=Object(r.useContext)(s);return O()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function q(e){void 0===e&&(e=s);var t=e===s?W:function(){return Object(r.useContext)(e)};return function(){return t().store}}var G=q();var K=function(e){void 0===e&&(e=s);var t=e===s?G:q(e);return function(){return t().dispatch}}(),Y=function(e,t){return e===t};var Z=function(e){void 0===e&&(e=s);var t=e===s?W:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=Y),O()(e,"You must pass a selector to useSelectors");var i=t();return function(e,t,n,i){var o,a=Object(r.useReducer)(function(e){return e+1},0)[1],s=Object(r.useMemo)(function(){return new p(n,i)},[n,i]),c=Object(r.useRef)(),l=Object(r.useRef)(),u=Object(r.useRef)();try{o=e!==l.current||c.current?e(n.getState()):u.current}catch(e){var d="An error occurred while selecting the store state: "+e.message+".";throw c.current&&(d+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\nOriginal stack trace:"),new Error(d)}return k(function(){l.current=e,u.current=o,c.current=void 0}),k(function(){function e(){try{var e=l.current(n.getState());if(t(e,u.current))return;u.current=e}catch(e){c.current=e}a({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}},[n,s]),o}(e,n,i.store,i.subscription)}}(),Q=n(89);n.d(t,"a",function(){return m}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return $}),n.d(t,"c",function(){return Q.unstable_batchedUpdates}),n.d(t,"f",function(){return K}),n.d(t,"g",function(){return Z}),n.d(t,"h",function(){return G}),n.d(t,"e",function(){return A}),function(e){c=e}(Q.unstable_batchedUpdates)},function(e,t,n){"use strict";let r,i,o,a,s,c,l,u,d,p;n.d(t,"e",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"u",function(){return o}),n.d(t,"k",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"l",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"q",function(){return b}),n.d(t,"n",function(){return m}),n.d(t,"s",function(){return h}),n.d(t,"r",function(){return f}),n.d(t,"h",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"g",function(){return y}),n.d(t,"o",function(){return O}),n.d(t,"m",function(){return _}),n.d(t,"p",function(){return k}),n.d(t,"f",function(){return E}),n.d(t,"d",function(){return C}),n.d(t,"t",function(){return j}),n.d(t,"v",function(){return x}),function(e){e.Light="white",e.Dark="black"}(r||(r={})),function(e){e.Initial="initial",e.Pending="pending",e.Error="error",e.Success="success"}(i||(i={})),function(e){e.SUBSCRIBED="subscribed",e.BLOCKED="blocked",e.NOT_SUBSCRIBED="not_subscribed"}(o||(o={})),function(e){e.Normal="normal",e.Header="header",e.PinnedCarousel="pinned-carousel"}(a||(a={})),function(e){e.Normal="normal",e.Navbar="navbar",e.AdfoxSmartBanner="adfox-smart-banner",e.BlockFeedBanner="block-feed-banner"}(s||(s={})),function(e){e.Top="top",e.Bottom="bottom"}(c||(c={})),function(e){e.Black="black",e.White="white"}(l||(l={})),function(e){e.App="app",e.More="more",e.Error="error",e.Load="load"}(u||(u={})),function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(d||(d={})),function(e){e.Feed="feed",e.Category="category",e.Categories="categories",e.Profile="profile",e.SwitchableSubs="switchable_subs",e.Suggest="suggest",e.Blocked="blocked",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.Preferences="preferences",e.Language="language",e.SendAppLinkSms="send_app_link_sms",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos",e.GetVideoPopupData="get_video_popup_data"}(p||(p={}));let b,m,h,f,v,g,y,O,_,k,E,C,j,w,S,T,x,A;!function(e){e.Blur="blur",e.Fade="fade"}(b||(b={})),function(e){e.Pinned="pinned",e.Feed="feed",e.PinnedLib="pinned-lib"}(m||(m={})),function(e){e.Yabro1="yabro-1",e.Generic="generic"}(h||(h={})),function(e){e.Placeholder="Placeholder",e.Zen="Zen"}(f||(f={})),function(e){e.NAV_TOP_FIXED="top-fix",e.NAV_BOTTOM_FIXED="bottom-fix",e.NAV_TOP_FREE="top-free"}(v||(v={})),function(e){e.Coccoc="coccoc",e.Default="default"}(g||(g={})),function(e){e.A1="1a",e.A2="2a",e.B2="2b",e.OLD="old"}(y||(y={})),function(e){e.BIG="big",e.SMALL="small",e.FREE="free"}(O||(O={})),function(e){e.Suggest="catalog_suggest",e.Carousel="catalog_carousel",e.Category="catalog_category",e.Subs="subscriptions",e.Blocked="profile_blocked",e.Onboarding="onboarding_popup",e.Similar="feed",e.Feed="feed",e.Interest="interest",e.Channel="channel",e.Activity="activity_feed",e.Subscriptions="subscriptions",e.LeftColumn="left_column",e.VideoRecommend="video_recommend"}(_||(_={})),function(e){e.Suggest="suggest",e.Carousel="list_of_categories",e.Category="category",e.Subs="subscriptions",e.Blocked="blocked",e.Onboarding="onboarding_popup",e.Similar="similar",e.Feed="layout",e.Subscribers="user_subscribers",e.LeftColumn="left_column"}(k||(k={})),function(e){e.Native="native",e.Main="main",e.Channel="channel",e.Interest="interest",e.Activity="activity",e.Subscriptions="subscriptions"}(E||(E={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(C||(C={})),function(e){e.Active="active",e.Sleeping="sleeping",e.Deleted="deleted",e.NotExist="not_exist"}(j||(j={})),function(e){e.SourceSubscribeFromMainFeedCard="1001",e.SourceSubscribeFromFeedbackMenu="1002",e.SourceSubscribeFromCarousel="1003",e.SourceLikeFromFeed="1004",e.SourceSubscribeFormZenLib="4001",e.SourceSubscribeFormZenLibCarousel="4002",e.LikeFormZenLib="4002",e.SourceSubscribeFromPage="6001",e.SourceSubscribeFromPageCard="6002",e.SourceLikeFromPage="6003"}(w||(w={})),function(e){e.Like="like",e.Subscribe="subscribe"}(S||(S={})),function(e){e.VideoCardDesktop="video-card-desktop",e.DirectDesktop="direct-desktop",e.Similar="similar",e.IceboardingFeedItem="iceboarding-feed-item",e.HintEula="hint-eula",e.HintPersonal="hint-personal",e.UserQuestion="user-question",e.StarSimilarInterests="star-similar-interests",e.FeaturingPromoCard="featuring-promo-card",e.FeaturingCarousel="featuring-carousel",e.ContentCarousel="content-carousel",e.ProfileOnboardingCardView="profile-onboarding-card-view",e.Delimiter="delimiter",e.Feedback="feedback",e.CardPost="card-post",e.FeedPersonalCarousel="feed-personal-carousel",e.SocialProfileStatus="social-profile-status",e.FeedbackSuggest="feedback-suggest",e.LearnBlockInterests="learn-block-interests",e.SourceBlockText="source-block-text",e.Index="index",e.Modal="modal",e.CardVideo="card-video",e.CardAdsense="card-adsense",e.DirectMobile="direct-mobile",e.AuthCard="auth-card",e.CardToothMobile="card-tooth-mobile",e.VideoMobile="video-mobile",e.LegoNotifier="lego-notifier",e.RumInterceptor="rum-interceptor",e.Interview="interview"}(T||(T={})),function(e){e.Click="click",e.Scroll="scroll",e.ClickScroll="click-scroll"}(x||(x={})),function(e){e.HeaderMessengerButton="2003",e.ProfileMessengerButton="8001",e.ChannelMessengerButton="6004"}(A||(A={}))},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c});n(10);let r,i,o,a;!function(e){e.PackShown="packShown",e.BulkEventLogged="bulkEventLogger",e.ApiResponseTtlExpired="apiResponseTtlExpired",e.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",e.NotShownPackUpdated="notShownPackUpdated",e.LastShownPackUpdated="lastShownPackUpdated",e.UpdatePreload="updatePreload"}(r||(r={})),function(e){e.Onboarding="onboarding",e.Export="export",e.Layout="layout",e.More="more",e.Bulk="bulk",e.ClientLogs="client_logs",e.Subs="subs",e.Profile="profile",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Subscribers="subscribers",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.Multisearch="multisearch",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.GetVideoPopupData="get_video_popup_data",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SocialActivityFeed="social_activity_feed",e.SocialProfileEdit="social_profile_edit",e.ProfileCompleteOnboarding="profile_complete_onboarding",e.ProfileDeactivate="profile_deactivate",e.ProfileCancelDeactivate="profile_cancel_deactivate",e.AllChannelsLink="all_channels_link",e.CurrentUserInterests="current-user-interests",e.CurrentUserSubscriptions="current-user-subscriptions",e.Teasers="teasers",e.SupportLink="support_link",e.AdArticle="ad_article"}(i||(i={})),function(e){e.SessionCache="cacheStorage",e.MultiSessionCache="multiCacheStorage"}(o||(o={})),function(e){e.Network="network",e.CacheBeforeNetwork="cache-before-network",e.CacheAfterNetwork="cache-after-network"}(a||(a={}));const s=5e3,c={zenFeatures:{},clientExperiments:null,apiResponseValidator:()=>null,links:Object.keys(i).reduce((e,t)=>(e[t]=null,e),{}),userInfo:{},cache:{type:o.SessionCache,namespace:"common",isPrefetchEnabled:!0},chromeExtensionId:null,feedFilter:void 0,shouldSendStatsToCoccoc:!1}},function(e,t,n){"use strict";var r=n(9),i=n(18),o=n(2),a=n(6),s=n(14),c=n(118),l=n(177),u=n(25);var d=n(52),p=n(98);n.d(t,"f",function(){return b}),n.d(t,"n",function(){return m}),n.d(t,"s",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"w",function(){return v}),n.d(t,"x",function(){return g}),n.d(t,"v",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"k",function(){return _}),n.d(t,"m",function(){return E}),n.d(t,"p",function(){return C}),n.d(t,"c",function(){return j}),n.d(t,"i",function(){return w}),n.d(t,"j",function(){return S}),n.d(t,"q",function(){return x}),n.d(t,"u",function(){return A}),n.d(t,"b",function(){return P}),n.d(t,"h",function(){return N}),n.d(t,"l",function(){return R}),n.d(t,"a",function(){return L}),n.d(t,"r",function(){return M}),n.d(t,"g",function(){return B}),n.d(t,"t",function(){return D}),n.d(t,"o",function(){return F});const b=e=>e.feed,m=(e,t)=>{if(e.feed&&e.feed.items[t])return e.feed.items[t]},h=e=>{if(e.feed&&e.feed.replaceQueue)return e.feed.replaceQueue},f=(e,t)=>e.feed&&e.feed.items[t]?e.feed.items[t]:e.videoModal&&e.videoModal.videoFeed[t]?e.videoModal.videoFeed[t]:void 0,v=(e,t,n)=>{const r=m(e,t);if(Object(u.b)(r,`item with id '${t}' not found`),r.type!==n)throw new Error(`expects item.type '${n}' but got '${r.type}'`);return r},g=(e,t,n)=>{const r=f(e,t);if(!r)throw new Error(`item with id '${t}' not found`);if(!n.includes(r.type))throw new Error(`expects item.type '${n.join(",")}' but got '${r.type}'`);return r},y=(e,t,n,r)=>{const i=v(e,t,r);if(!i.items)throw new Error("expects items field");const o=Object(d.e)(i.items).find(({id:e})=>e===n);if(!o)throw new Error(`not found child item with id '${n}'`);return o},O=()=>(e=>{let t=[];return(...n)=>{const r=e(...n);return((e,t)=>e.length===t.length&&e.every((e,n)=>t[n]===e))(r,t)||(t=r),t}})((e,t,n,r)=>{const i=v(e,t,n);if(!i.items)throw new Error("expects items field");return Object(d.e)(i.items).filter(r).map(({id:e})=>e)}),_=e=>Boolean(e.pinnedCarousel&&e.pinnedCarousel.id),k=(()=>{const e={itemsOrder:[],result:[]};return t=>{const{items:n,itemsOrder:r}=b(t);return e&&e.itemsOrder===r?e.result:(e.itemsOrder=r,e.result=r.map(e=>{const{type:t,pos:r,packId:i,replaceWith:o}=Object.assign({replaceWith:void 0,pos:void 0,packId:void 0},n[e]);return{id:e,type:t,pos:r,packId:i,replaceWith:o}}),e.result)}})(),E=Object(r.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),C=e=>e.feed.itemsOrder,j=Object(r.createSelector)(b,e=>{const{gridType:t}=e;return o.g[t].columnCount}),w=(e,t)=>{return(t?e.slice(0,t):e).map(e=>{return e.some(e=>e.type===o.e.PLACEHOLDER)?a.r.Placeholder:a.r.Zen})},S=Object(r.createSelector)(k,e=>e.feed.gridType,s.a,(e,t,{multiplePlaceholdersSkipItemTypes:n})=>{const r=[],i={},a={},s=o.g[t],c=Object(p.b)(t),{rowsBelowPlaceholders:l,handleRow:u,placeholdersGroupIndexes:d}=((e=(()=>!0))=>{const t={},n={};let r=[],i=!1,a=void 0;return{rowsBelowPlaceholders:t,placeholdersGroupIndexes:n,handleRow:(s,c)=>{s.some(e=>e.type===o.e.PLACEHOLDER)?(i=!0,r.push(c)):(e(s)&&(a="number"==typeof a?a+1:0),i&&(i=!1,r.forEach((e,r)=>{t[e]=a,n[e]=r}),r=[]))}}})(e=>!e.some(e=>n.includes(e.type)));let b=-1;return e.forEach(e=>{0===r.length&&r.push([]),r[r.length-1].reduce((e,n)=>e+Object(p.a)(n.size,t),0)>=s.columnCount&&r.push([]);const n=Object(p.d)(e.type);n&&b++,void 0===n&&console.error("Unsupported ItemType",e);const a=n?c.getSizeByIndex(b):o.d.FREE,l=o.f[e.type];l&&l.includes(a)||console.warn("Invalid item size:",a,e.type,e.id);const u=Object(p.a)(a,t),d=r[r.length-1].reduce((e,n)=>e+Object(p.a)(n.size,t),0);d+u>s.columnCount&&(console.warn(`Invalid layouting, try insert in row ${d}/${s.columnCount} item with width ${u}`),r.push([]));const m=r.length-1,h=Object.assign({},e,{size:a,row:m});i[e.id]=h,r[m].push(h)}),{elements:i,rows:r,additionalData:a}}),T=Object(r.createSelector)(k,e=>e.filter(({type:e})=>e===o.e.PLACEHOLDER||e===o.e.CARD_PLACEHOLDER).map(({id:e})=>e)),x=Object(r.createSelector)(T,(e,t)=>t,(e,t)=>e.indexOf(t)),A=Object(r.createSelector)(e=>e.params.isAdaptiveDesign,e=>e?a.s.Generic:null),I=(e,t)=>{return v(e,t,o.e.USER_QUESTION).parentId},P=Object(r.createSelector)(I,(e,t)=>{const n=S(e),r=I(e,t),i=n.elements[r].row;return n.rows[i]},j,(e,t,n)=>{const r=t[0].id,i=t[t.length-1].id;if(1===n)return o.b.Center;switch(e){case r:return o.b.Left;case i:return o.b.Right;default:return o.b.Center}}),N=(e,t)=>{const n=I(e,t);return S(e).elements[n].size},R=Object(r.createSelector)(i.m,e=>"white"===e),L=Object(r.createSelector)(j,A,s.a,(e,t,{isAdsense:n})=>({columnCount:e,rubberyType:t,isAdsense:n,isMordaDesktop:Boolean(!0),isRedesign:Boolean(!1)})),M=(Object(r.createSelector)(({feed:e})=>e.displayedRowsNumber,({feed:e})=>e.countRowsBeforeBlock,(e,t)=>e===t),Object(r.createSelector)(S,c.a,(e,t)=>{const n=t?4:2;let r=0;for(let t=0;r<e.rows.length&&t<n;r++){e.rows[r].some(e=>e.type===o.e.PLACEHOLDER)||t++}return r})),B=e=>e?l.a.Desktop:l.a.Mobile,D=Object(r.createSelector)(b,c.b,({gridType:e},t)=>t?180:o.g[e].rowDisplayStep),F=(e,t)=>{const n=S(e).elements[t];return n?n.size:(console.warn("No gridElement found"),o.d.FREE)}},function(e,t,n){"use strict";function r(e,t){return e===t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),u=i(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=s,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var a=t.createSelector=o(i)},function(e,t,n){"use strict";var r=n(345),i={};i[n(243)("toStringTag")]="z",i+""!="[object z]"&&n(277)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},,function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var i=n&&!0===n.clone;return i&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,i,o){var a=n.slice();return i.forEach(function(i,s){void 0===a[s]?a[s]=t(i,o):e(i)?a[s]=r(n[s],i,o):-1===n.indexOf(i)&&a.push(t(i,o))}),a}function r(i,o,a){var s=Array.isArray(o),c=a||{arrayMerge:n},l=c.arrayMerge||n;return s?Array.isArray(i)?l(i,o,a):t(o,a):function(n,i,o){var a={};return e(n)&&Object.keys(n).forEach(function(e){a[e]=t(n[e],o)}),Object.keys(i).forEach(function(s){e(i[s])&&n[s]?a[s]=r(n[s],i[s],o):a[s]=t(i[s],o)}),a}(i,o,a)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),r=t(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),i=r.svg,o=r.xlink,a={};a[i.name]=i.uri,a[o.name]=o.uri;var s=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(s(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var i=n&&!0===n.clone;return i&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,i,o){var a=n.slice();return i.forEach(function(i,s){void 0===a[s]?a[s]=t(i,o):e(i)?a[s]=r(n[s],i,o):-1===n.indexOf(i)&&a.push(t(i,o))}),a}function r(i,o,a){var s=Array.isArray(o),c=a||{arrayMerge:n},l=c.arrayMerge||n;return s?Array.isArray(i)?l(i,o,a):t(o,a):function(n,i,o){var a={};return e(n)&&Object.keys(n).forEach(function(e){a[e]=t(n[e],o)}),Object.keys(i).forEach(function(s){e(i[s])&&n[s]?a[s]=r(n[s],i[s],o):a[s]=t(i[s],o)}),a}(i,o,a)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var n=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),r=n.svg,i=n.xlink,o={};o[r.name]=r.uri,o[i.name]=i.uri;var a,s=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(t(o,n||{}))+">"+e+"</svg>"},c=n.svg,l=n.xlink,u={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[c.name]=c.uri,a[l.name]=l.uri,a)},d=function(e){this.config=t(u,e||{}),this.symbols=[]};d.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},d.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},d.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},d.prototype.has=function(e){return null!==this.find(e)},d.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return s(t,e)},d.prototype.toString=function(){return this.stringify()},d.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var p=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var b=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},m=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return b(s(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(p),h={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},f=function(e){return Array.prototype.slice.call(e,0)},v=navigator.userAgent,g={isChrome:/chrome/i.test(v),isFirefox:/firefox/i.test(v),isIE:/msie/i.test(v)||/trident/i.test(v),isEdge:/edge/i.test(v)},y=function(e){var t=[];return f(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},O=function(e){return(e||window.location.href).split("#")[0]},_=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},k=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),f(e.querySelectorAll("symbol")).forEach(function(e){f(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var E=n.xlink.uri,C="xlink:href",j=/[{}|\\\^\[\]`"<>]/g;function w(e){return e.replace(j,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var S,T=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],x=T.map(function(e){return"["+e+"]"}).join(","),A=function(e,t,n,r){var i=w(n),o=w(r);(function(e,t){return f(e).reduce(function(e,n){if(!n.attributes)return e;var r=f(n.attributes),i=t?r.filter(t):r;return e.concat(i)},[])})(e.querySelectorAll(x),function(e){var t=e.localName,n=e.value;return-1!==T.indexOf(t)&&-1!==n.indexOf("url("+i)}).forEach(function(e){return e.value=e.value.replace(i,o)}),function(e,t,n){f(e).forEach(function(e){var r=e.getAttribute(C);if(r&&0===r.indexOf(t)){var i=r.replace(t,n);e.setAttributeNS(E,C,i)}})}(t,i,o)},I={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},P=function(e){function n(n){var r=this;void 0===n&&(n={}),e.call(this,t(h,n));var i=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=i,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(n),o.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");i.on(I.MOUNT,function(){return r.updateUrls("#",a)})}var s=this._handleLocationChange.bind(this);this._handleLocationChange=s,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,s),o.locationChangeAngularEmitter&&_(o.locationChangeEvent),i.on(I.MOUNT,function(e){o.moveGradientsOutsideSymbol&&k(e)}),i.on(I.SYMBOL_MOUNT,function(e){o.moveGradientsOutsideSymbol&&k(e.parentNode),(g.isIE||g.isEdge)&&y(e)})}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=g.isFirefox)},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},n.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(I.SYMBOL_MOUNT,t.node)),n},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(I.SYMBOL_MOUNT,e.node)}),f(r.querySelectorAll("symbol")).forEach(function(e){var t=m.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(I.MOUNT,r),r},n.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(I.MOUNT,r),r},n.prototype.render=function(){return b(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return A(this.node,n,O(e)+"#",O(t)+"#"),!0},Object.defineProperties(n.prototype,r),n}(d),N=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?S=window.__SVG_SPRITE__:(S=new P({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=S);var R=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?S.attach(e):S.mount(document.body,!0)};return document.body?R():N(R),S})},function(e,t,n){"use strict";var r=n(9),i=(n(10),n(43));class o{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){if(!this._data.hasOwnProperty(e))return!1;const t=this._data[e];return"object"==typeof t&&"exp"in t&&Boolean(t.exp)}getAllExps(){return Object.keys(this._data).filter(e=>i.a.get(this._data,[e,"exp"]))}findExps(e){return Object.keys(this._data).filter(t=>i.a.get(this._data,[t,"exp"])&&t.match(e))}}var a=n(6),s=n(4),c=n(2);let l,u,d;!function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d"}(l||(l={})),function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d"}(u||(u={})),function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f"}(d||(d={}));var p=n(87);const b=Object(s.e)({rezenSiteMobileSimilar:Object(s.c)(Object(s.e)({viewType:Object(s.f)(a.g.OLD,[a.g.A1,a.g.A2,a.g.B2,a.g.OLD])})),rezenPcode:Object(s.c)(Object(s.e)({version:Object(s.d)()})),rezenSmsPopup:Object(s.c)(Object(s.e)({afterSuccessTimeout:Object(s.d)(3e3),afterErrorTimeout:Object(s.d)(2e3),tabletUrl:Object(s.h)("https://redirect.appmetrica.yandex.com/serve/890899778634799153"),headerIconVisibilityCooldown:Object(s.d)(18e6),headerButtonTextVariant:Object(s.f)(l.Default,[l.A,l.B,l.C,l.D]),popupTextVariant:Object(s.f)(d.Default,[d.A,d.B,d.C,d.D,d.E,d.F]),popupButtonTextVariant:Object(s.f)(u.Default,[u.A,u.B,u.C,u.D])})),interfaceBranding:Object(s.f)(a.c.Default,[a.c.Coccoc,a.c.Default]),rezenBlockFeedBanner:Object(s.c)(Object(s.e)({isEnabled:Object(s.b)(),rowsBeforeBlock:Object(s.d)(3),isWithoutClose:Object(s.b)(),isWithoutReturn:Object(s.b)(),isClickableBackground:Object(s.b)(),closeExpire:Object(s.d)(1),closeExpireClick:Object(s.d)(14),textVariant:Object(s.f)("a",["a","b"]),url:Object(s.h)("https://redirect.appmetrica.yandex.com/serve/314246221256507436")})),adQueue:Object(s.c)(Object(s.e)({enabled:Object(s.b)(),size:Object(s.d)(10),ttl:Object(s.d)(36e5)})),rezenPromoBadgeLink:Object(s.h)(""),socialProfile:Object(s.c)(Object(s.e)({onboardingEnabled:Object(s.b)(),onboardingTimeout:Object(s.d)(500),profileEnabled:Object(s.b)(),zenkitNotificaitons:Object(s.b)(!0),redesign:Object(s.b)()})),rezenInterestsOnboardingSiteDesktop:Object(s.c)(Object(s.e)({isIceForceShow:Object(s.b)()})),rezenAdvertisersLink:Object(s.h)(""),extendFeedback:Object(s.c)(Object(s.e)({isPopup:Object(s.b)(),isDislikeOptionsEnabled:Object(s.b)()})),rezenAdfoxFullscreen:Object(s.c)(Object(s.e)({isEnabled:Object(s.b)(),isForceShow:Object(s.b)(),closeExpires:Object(s.d)(14),targetNames:Object(s.g)()})),rezenAdfoxSmart:Object(s.c)(Object(s.e)({isEnabled:Object(s.b)(),isForceShow:Object(s.b)(),closeExpires:Object(s.d)(7),targetNames:Object(s.g)()})),rezenAppButton:Object(s.c)(Object(s.e)({isEnabled:Object(s.b)(),isYellow:Object(s.b)(),url:Object(s.h)("https://redirect.appmetrica.yandex.com/serve/1179076386090959125"),closeTimeout:Object(s.d)()})),notifiers:Object(s.c)(Object(s.e)({theme:Object(s.f)(a.l.Black,[a.l.Black,a.l.White])})),rezenEnableAllChannelsLink:Object(s.b)(),rezenRefclidSessionTimeout:Object(s.d)(),newLogoEnabled:Object(s.b)(),rezenSiteDesktopNotifier:Object(s.c)(Object(s.e)({isEnable:Object(s.b)()})),rezenSiteMobileNotifier:Object(s.c)(Object(s.e)({isEnable:Object(s.b)()})),zenlibBrowserBase:Object(s.h)(),commentsBundleUrlTmpl:Object(s.h)("https://yastatic.net/s3/zen-lib/45.4.2/comments/comments.{commentsBundleUrl}.{lang}.bundle.js"),videoModalCommentsApiUrlTmpl:Object(s.h)(),isVideoSubscribeCardViewCircle:Object(s.b)(),videoSubscribeShowForSeconds:Object(s.d)(5),samsungMobileRenderHeaderFixed:Object(s.b)(),samsungMobileLogoUrlTemplate:Object(s.h)(),samsungMobileShouldSendStatsToCoccoc:Object(s.b)(),teethType:Object(s.h)(),commentInCard:Object(s.c)(Object(s.e)({enabled:Object(s.b)(),removeSnippet:Object(s.b)(),hotBubble:Object(s.b)()})),showEmptyCarouselSearchLink:Object(s.b)(!0),disableMobileNavbar:Object(s.b)(!1),rezenRenderQueue:Object(s.c)(Object(s.e)({isEnabled:Object(s.b)()})),enableCardChannelLink:Object(s.b)(!1),subscriptionsFeedEnabled:Object(s.b)(!1),cookieOfTheDay:Object(s.h)("bltsr"),header2Enabled:Object(s.b)(!1),multiplePlaceholdersSkipItemTypes:Object(s.a)(Object.values(c.e)),subscribeLoginPopupMessage:Object(s.f)(p.a.empty,[p.a.mainpage,p.a.betterRecommend,p.a.saveSource]),likeLoginPopupMessage:Object(s.f)(p.a.empty,[p.a.tuneFeed,p.a.betterRecommend,p.a.saveInProfile]),channelPage:Object(s.e)({isNewDesignEnabled:Object(s.b)(!1),isExpandedDescription:Object(s.b)(!1)}),isVideoCardsVersion2:Object(s.b)(!1),videoVisibleContentDelay:Object(s.d)(3e3),isVideoCardsDynamicPoster:Object(s.b)(!1),isVideoCardsHoverAnimation:Object(s.b)(!1),videoCallToActionTimestamp:Object(s.d)(5),isMobileSimilarsEnabled:Object(s.b)(!1),contentCarousel:Object(s.c)(Object(s.e)({isViewExp:Object(s.b)(!1)})),isMoreSimilarVideosLoadingEnabled:Object(s.b)(!1),marginMoreSimilarVideosLoading:Object(s.d)(500),viberShareButton:Object(s.c)(Object(s.e)({isButtonEnabled:Object(s.b)(!1),partnerAppMinVersion:Object(s.h)(""),isShortenerEnabled:Object(s.b)(!1),shortenerResponseTimeout:Object(s.d)(1e4)})),videoCallToActionWrapTime:Object(s.d)(5),videoPlayerApiVersion:Object(s.h)("1.0-3226"),videoPlayerApiMaxBufferLength:Object(s.d)(30),videoPlayerSizeRatio:Object(s.c)(Object(s.e)({min:Object(s.d)(.5),max:Object(s.d)(5/4),maxHorizontal:Object(s.d)(.8)})),isVideoMuteWhenAutopause:Object(s.b)(!1),isVideoDescriptionEnabled:Object(s.b)(!1),isVideoUseSingletonPlayer:Object(s.b)(!1),isVideoFeedEnabled:Object(s.b)(!1),isVideoSendAdBlockToPlayer:Object(s.b)(!1),isZenRumEnabled:Object(s.b)(!1),pcodeLoaderBundleUrl:Object(s.h)("https://an.yandex.ru/system/context.js"),pcodeVersion:Object(s.d)(0),isSearch2Enabled:Object(s.b)(!1),isDesktopSuggestEnabled:Object(s.b)(!1),isV0SearchPlaceholder:Object(s.b)(!1),adErrorFilterRatio:Object(s.d)(1),isVideoModalEnabled:Object(s.b)(!1),pcodeSsrConfig:Object(s.c)(Object(s.e)({pcodeSsrVer:Object(s.d)(0),useSsr:Object(s.b)(!1)})),isProfileSocialCountersEnabled:Object(s.b)(!1),isHeaderMessengerEnabled:Object(s.b)(!1),isDirectMessageEnabled:Object(s.b)(!1),messengerSettingsLink:Object(s.h)("https://www.yandex.ru/chat#/settings"),isVideoMultipleProductsEnabled:Object(s.b)(!1),toothClickProcessing:Object(s.c)(Object(s.e)({type:Object(s.f)(a.v.Click,Object.values(a.v))})),isNextVideoTimerEnabled:Object(s.b)(!1),nextVideoTimerTimeout:Object(s.d)(10)});n.d(t,"a",function(){return _});const m=Object(r.createSelector)(({params:e})=>e.experimentsData,e=>new o(e)),h=e=>e("ab:rezen_unified:bottom")?a.h.NAV_BOTTOM_FIXED:e("ab:rezen_unified:top_fixed")?a.h.NAV_TOP_FIXED:!!e("ab:rezen_unified:top_hiding")&&a.h.NAV_TOP_FREE,f=e=>e("ab:rezen_cards25:rezen_cards25_a")?"a":e("ab:rezen_cards25:rezen_cards25_b")?"b":e("ab:rezen_cards25:rezen_cards25_c")?"c":null,v=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,g=e=>{const t=e(v)[0];if(!t)return;const n=v.exec(t);return n?`${n[1]}px ${n[2]}px ${n[3]}px ${n[4]}px`:void 0},y=["top_fixed","top_hiding","bottom"],O=Object(r.createSelector)(({params:e})=>e.clientDefinition,b),_=Object(r.createSelector)(m,O,(e,t)=>{const n=((e,t)=>({isZenOneEnabled:!t("ab:desktop_zen_one:default"),isYandexStaffZenOneExp:t("ab:desktop_zen_one_staff:desktop_zen_one_staff_enabled"),navbarPosition:h(t),isWideImagesExp:t("rezen_direct_use_wide_images"),isDirectLabelCut:t("direct_label_cut"),showPromoLink:t("ab:rezen_new_header:enabled"),visibilityThreshold:t("ab:rezen_item_visibility_threshold:50")?.5:void 0,isOfficialComplains:t("rezen_official_complaints"),shouldRefreshFeed:t("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed"),shouldResetScrollOnUnload:t("should_reset_scroll_on_unload"),shouldScrollOnOpenCard:t("should_scroll_on_open_card"),cards25:f(t),comtrColor:t("zen_comtr_color")?"color":"white",isImageLazyLoadEnabled:t("lazy_images")||t("ab:rezen_lazy_images:enable")||t("zen_lib_lazy_images"),isMordaTurkeyTeethEnabled:t("site_desktop_turkey_morda_teeth"),isZenUnifiedEnabled:y.some(e=>t(`ab:rezen_unified:${e}`)),isZenkitMenuEnabled:t("ab:rezen_new_menu:rezen_new_menu"),isZenOneOtherCountries:t("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries"),isSocialProfileEnabled:t("new_profile"),isLiteRtbEnabled:t("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),linkHoverEnabled:t("ab:rezen_channel_links:rezen_channel_links"),isAutoplayExp:t("ab:rezen_mobile_video_autoplay_wifi:enable"),canDisableVideo:t("ab:rezen_no_videos:enable"),disableMetrikaExp:t("rezen_disable_metrika"),imageRootMargin:g(e),isRtbFitted:t("zen_lib_rtb"),isAdsense:t("ab:site_desktop_adsense:site_desktop_adsense")||t("ab:opera_ntp_adsense:opera_ntp_adsense"),isLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),isCommentCountersEnabled:t("ab:rezen_comments_counter:rezen_comments_counter")||t("zen_comments"),isTouchCommentCountersEnabled:t("ab:rezen_comments_counter_touch:rezen_comments_counter_touch"),isDesktopVideoModalCommentsEnabled:t("ab:social_desktop_video_modal_comments:social_desktop_video_modal_comments"),isCommentsDislikeEnabled:t("ab:social_dislike_comments:social_dislike_comments")||t("ab:social_dislike_comments:social_dislike_comments_sort"),isInterestsDesktop:t("ab:site_desktop_interests:site_desktop_interests_enabled")||t("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"),isInterestsMobile:t("ab:site_mobile_interests:site_mobile_interests_enabled")||t("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"),isInterestsZenApp:t("ab:zenkit_interests:zenkit_interests_enabled")||t("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"),isInterestsZenAppIos:t("ab:ios_native_interests:ios_native_interests_enabled")||t("ab:ios_native_interests_staff:ios_native_interests_staff_enabled"),isInsectEnabled:t("ab:rezen_enable_insect:rezen_enable_insect"),isErrorCounterEnabled:t("error_counter_enabled"),isProfileUploadAvatarEnabled:t("ab:ab_social_profile_upload_avatar:social_profile_upload_avatar"),isFrontHeaderUploadAvatarEnabled:t("ab:ab_social_front_header_upload_avatar:social_front_header_upload_avatar")}))(e.findExps.bind(e),e.isExp.bind(e));return Object.assign({},n,t)})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o});n(10);const r={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);r[t]=`-${t.toLowerCase()}`}const i=e=>(t,n)=>{const[i,o]="string"==typeof t?[t,n]:[null,t];let a=e;return i&&(a+=`__${i}`),o&&Object.keys(o).forEach(e=>{const t=o[e],n=(e=>{const{length:t}=e;let n="";for(let i=0;i<t;i++){const t=e[i];n+=r[t]||t}return n})(e);!0===t?a+=` _${n}`:(0===t||t)&&(a+=` _${n}_${t}`)}),a},o=(...e)=>e.filter(Boolean).join(" ");i.mix=o,t.b=i},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(9),i=n(51),o=n(40),a=n(169);var s=n(198),c=n(196),l=n(121),u=n(39),d=n(6),p=n(14),b=n(160);n.d(t,"c",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"h",function(){return g}),n.d(t,"k",function(){return y}),n.d(t,"b",function(){return O}),n.d(t,"d",function(){return _}),n.d(t,"i",function(){return k}),n.d(t,"l",function(){return E}),n.d(t,"f",function(){return C}),n.d(t,"m",function(){return j}),n.d(t,"j",function(){return I}),n.d(t,"a",function(){return P}),n.d(t,"g",function(){return N});const m=()=>Boolean(!1),h=e=>e.channel.status===d.d.Ok,f=(Object(r.createSelector)(({links:e})=>e.login_tmpl,({router:e})=>e&&e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(Object(a.b)(t))):null),Object(r.createSelector)(({links:e})=>e.logout_tmpl,({router:e})=>e&&e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(Object(a.b)(t))):null),e=>e.params&&e.params.feedType===d.f.Native),v=e=>e.params&&e.params.feedType===d.f.Main,g=()=>!1,y=(Object(r.createSelector)(f,h,v,(...e)=>e.some(Boolean)),Object(r.createSelector)(({context:e})=>e.partner,e=>{const t=(e=>{switch(e){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}})(e);return Object(c.a)(t)}),Object(r.createSelector)(p.a,({socialProfile:e})=>e)),O=Object(r.createSelector)(e=>e.channel&&e.channel.source,e=>e),_=Object(r.createSelector)(e=>e.params.libType,e=>e.params&&e.params.feedType===d.f.Activity,y,(e,t,n)=>Object(s.a)(e)||n.redesign&&t),k=(Object(r.createSelector)(p.a,({shouldResetScrollOnUnload:e})=>m()&&e),Object(r.createSelector)(({iface:e})=>e.isOpenCardScrollEnabled,p.a,_,(e,{shouldScrollOnOpenCard:t,cards25:n},r)=>e&&t&&"b"!==n&&"c"!==n&&!r)),E=Object(r.createSelector)(({params:e})=>e.teethType,p.a,(e,{comtrColor:t,teethType:n})=>e||n||t),C=Object(r.createSelector)(e=>e.params.teethType,p.a,(e,{isMordaTurkeyTeethEnabled:t,teethType:n})=>!!e||(t||Boolean(n))),j=({params:e})=>e.zenFeatures.color_theme,w=Object(r.createSelector)(p.a,({isZenUnifiedEnabled:e,isZenkitMenuEnabled:t})=>e||t),S=Object(r.createSelector)(p.a,({isZenOneOtherCountries:e})=>e),T=Object(r.createSelector)(p.a,({disableMobileNavbar:e})=>e),x=Object(r.createSelector)(w,S,(e,t)=>Boolean(e||t)),A=(Object(r.createSelector)(h,f,x,v,e=>e.params&&e.params.feedType===d.f.Subscriptions,(e,t,n,r,i)=>!e&&!t&&(!n||r)&&!i),Object(r.createSelector)(e=>e.params.integration,e=>!!e&&["ya_search_app_ios"].includes(e))),I=Object(r.createSelector)(x,f,o.a,A,T,(e,t,n,r,i)=>e&&!t&&!n&&!r&&!i),P=(Object(r.createSelector)(e=>e.params.product,p.a,(e,{isInterestsDesktop:t,isInterestsMobile:n,isInterestsZenApp:r,isInterestsZenAppIos:i})=>{switch(e){case l.a.SITE_DESKTOP:case l.a.MODAL_LIB:return t;case l.a.SITE_MOBILE:return n;case l.a.ZEN_APP:return r;case l.a.ZEN_APP_IOS:return i;default:return!1}}),Object(r.createSelector)(p.a,y,({isSocialProfileEnabled:e},t)=>e||t.profileEnabled),Object(r.createSelector)(e=>e.auth&&e.auth.info,e=>e)),N=(Object(r.createSelector)(P,e=>Boolean(e&&e.isAuthorized)),Object(r.createSelector)(P,e=>e&&e.publicId?(e=>Object(i.generatePath)(u.c,{socialProfileId:e}))(e.publicId):void 0),Object(r.createSelector)(p.a,({iface:e})=>e.blockFeedBannerVisible,({iface:e})=>e.isAdfoxSmartVisible,I,({isZenUnifiedEnabled:e,isZenOneOtherCountries:t},n,r,i)=>n?d.j.BlockFeedBanner:r?d.j.AdfoxSmartBanner:i&&(e||t)?d.j.Navbar:d.j.Normal),Object(r.createSelector)(f,e=>e.channel,e=>e.params.currentUrl,(e,t,n)=>e?b.b:(null==t?void 0:t.status)===d.d.Ok&&n?Object(b.c)(n):b.a),e=>{const{OSFamily:t,browserName:n}=e.context;return"iOS"!==t||"MobileSafari"!==n})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n(0),i=n(20),o=n(318),a=n(217),s=n(509);const c=e=>{var t;const n=l(),{bulkParams:i,statEvents:o}=null!==(t=e)&&void 0!==t?t:{};return Object(r.useCallback)((e,{bulkReplaceMap:t,eventReplaceMap:r,payload:a})=>{i&&o&&n(e,{bulkParams:i,bulkReplaceMap:t,statEvents:o,eventReplaceMap:r,payload:a})},[i,n,o])},l=()=>{const{zenApi:e}=Object(i.c)(),t=Object(o.b)(),n=Object(a.b)(),c=Object(r.useMemo)(()=>null===t?{}:{rowIndex:t},[t]),l=Object(s.b)(),u=Object(r.useMemo)(()=>{if(null!==l)return{__place_param__:l.place,__page_type__:l.pageType}},[l]),d=Object(r.useMemo)(()=>{if(null!=n)return{__feed_item_pos__:String(n)}},[n]);return Object(r.useCallback)((t,{bulkParams:n,bulkReplaceMap:r,statEvents:i,eventReplaceMap:o,payload:a,extendStatMeta:s})=>{e.logBulkEvents(t,{statEvents:i,eventReplaceMap:o,bulkParams:n,bulkReplaceMap:Object.assign({},u,d,r),statMeta:Object.assign({},c,s),payload:a})},[u,d,c,e])}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u});var r=n(17),i=n(0),o=n.n(i),a=n(81);const s=e=>e,c=Object(i.createContext)(s({})),l=()=>Object(i.useContext)(c),u=e=>t=>{const n=n=>{const i=l();return o.a.createElement(t,Object(r.a)({},n,e(i,n)))};return n.displayName=Object(a.a)("WithZenContext",t),n}},function(e,t,n){"use strict";let r,i;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),function(e){e[e.Unstarted=-1]="Unstarted",e[e.Ended=0]="Ended",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused",e[e.Buffering=3]="Buffering",e[e.Error=4]="Error"}(r||(r={})),function(e){e[e.Active=1]="Active",e[e.NoActive=2]="NoActive"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=e=>{Object(r.useEffect)(e,[])}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n(167),n(10);var r=n(7),i=n(195),o=n(184),a=n(124),s=n(18),c=n(8),l=n(14),u=n(53),d=n(2),p=n(109),b=(n(140),n(76),n(29));n(139);n(30);var m=n(3),h=n(73),f=(n(160),n(250)),v=n(200),g=n(49),y=n(27),O=n(98);n.d(t,"g",function(){return _}),n.d(t,"k",function(){return C}),n.d(t,"m",function(){return w}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return T}),n.d(t,"b",function(){return x}),n.d(t,"a",function(){return A}),n.d(t,"e",function(){return I}),n.d(t,"i",function(){return N}),n.d(t,"l",function(){return R}),n.d(t,"j",function(){return L}),n.d(t,"p",function(){return B}),n.d(t,"o",function(){return D}),n.d(t,"f",function(){return F}),n.d(t,"h",function(){return V}),n.d(t,"n",function(){return U}),n.d(t,"q",function(){return z});const _=(e,t,n,r)=>({type:m.J,payload:{items:e,insertOnTop:t,shouldRefreshFeed:n,shouldAddToItemsOrder:r}}),k=Object(i.a)(e=>e.getMore()),E=({insertOnTop:e=!1,shouldRefreshFeed:t=!1,onAfterPackInsert:n,onBeforePackInsert:i}={})=>(c,l,{zenApi:d,ttlController:p,privateBus:b,outputBus:m})=>{return k.startSession({args:[d],timeouts:[3e4,18e4],async onTryComplete(m){i&&await i();let h;try{h=(()=>{if(!m.isLastSession()){if(m.isRejected)throw m.error;return}if(m.isRejected){if(0===m.tryNumber){const e=l();Object(s.c)(e)||c(Object(a.b)())}throw p&&p.apiResponseReceiveFailed(r.a.More,m.error),console.warn(m.error.message),m.error}const i=n?Object(o.a)({privateBus:b}):null,{apiResponse:h}=m.value;if(p&&p.apiResponseReceived(r.a.More,h),c(Object(u.c)({[r.a.More]:h.more.link||null})),c(Object(u.d)({shouldCleanCacheOnFeedback:h.feedbackCacheClean})),h.items&&c(_(h.items,e,t)),h.id&&d.packUsed(h.id),i)return i(l())})()}catch(e){throw n&&n(!1),e}n&&(h?h.then(()=>n(!0)):n(!1))}}).retriesResult.catch(e=>{console.warn(`GetMore retries failed: '${e.message}'.`),m.emit("morePackLoadingError")})},C=({parentId:e,similarLink:t,parentPos:n})=>async(r,i,{zenApi:o})=>{if(!t)return;const a=await o.getSimilar(t,n);if(!a||0===a.length)return;const s=i(),l=Object(c.p)(s),{items:u}=s.feed,p=[d.e.RTB,d.e.DIRECT,d.e.ADSENSE],b=l[l.indexOf(e)+1],h=u[b],f=h&&(p.includes(u[b].type)||"isPromoted"in h&&h.isPromoted),v=a.filter(e=>!(f&&"ad"in e&&e.ad));0!==v.length&&(r(_(v,!1,!1,!1)),r({type:m.t,payload:{afterId:e,itemIdsList:v.map(e=>e.id)}}),r({type:m.L,payload:{itemId:e}}))},j=e=>(t,n)=>{const{feed:r}=n(),i=r.items[e],{childItemId:o}=i;Object(y.f)(o)||(t({type:m.X,payload:{itemId:e,childItemId:void 0}}),t({type:m.K,payload:{itemId:o}}))},w=e=>({type:m.fb,payload:{displayedRowsNumber:e}}),S=e=>t=>{t((e=>({type:m.hb,payload:{gridType:e}}))(e)),t(w(d.g[e].initialDisplayedRowsNumber))},T=()=>(e,t)=>{const n=t(),{scrollToID:r}=n.shared;if(!r)return;const{displayedRowsNumber:i}=Object(c.f)(n),{rows:o}=Object(c.j)(n),a=o.findIndex(e=>e.some(({id:e})=>e===r));e(w(a+i))},x=()=>(e,t,{privateBus:n})=>{const r=t(),{displayedRowsNumber:i,countRowsBeforeBlock:s}=Object(c.f)(r),{rows:l}=Object(c.j)(r),u=i+Object(c.t)(r),d=[];if(u>l.length){const t=new Promise(t=>{e(E({onAfterPackInsert:t}))}),n=1e3,r=800,i=Date.now();Promise.race([t,Object(b.a)(n)]).then(()=>{i+n>Date.now()||(e(Object(a.c)()),Promise.all([t,Object(b.a)(r)]).then(()=>{e(Object(a.a)())}))}),d.push(t)}else d.push(Promise.resolve(!1));if(i<=l.length){const r=Object(o.a)({privateBus:n});e(w(i<=s&&s<=u?s:u)),d.push(r(t()).then(()=>!0))}else d.push(Promise.resolve(!1));return Promise.all(d).then(([e,t])=>e||t)},A=()=>({type:m.h,payload:null}),I=e=>(t,n)=>{const r=n(),i=Object(c.x)(r,e,[d.e.IMAGE,d.e.TEXT,d.e.GALLERY]),o=Object(p.b)(r,i.id);if(!o||o.answers.some(({isChecked:e})=>e))return;const a={type:d.e.USER_QUESTION,id:Object(h.b)(d.e.USER_QUESTION),parentId:i.id};setTimeout(()=>{t(((e,t)=>(n,r)=>{const i=r(),{rows:o,elements:a}=Object(c.j)(i),s=a[e].row,l=o[s];if(M(o[s+1],d.a)){const e=o[s+1][0].id,t=Object(c.x)(i,e,[...d.a]);t&&void 0!==t.parentId&&n(j(t.parentId))}n({type:m.u,payload:{afterId:l[l.length-1].id,item:t}}),n({type:m.X,payload:{itemId:e,childItemId:t.id}})})(e,a))},500)},P=e=>({type:m.jb,payload:{newItemsOrder:e}}),N=e=>(t,n)=>{const r=n(),i=Object(c.x)(r,e,[d.e.RTB,d.e.ADSENSE]),{replaceWith:o}=i,a=Object(c.p)(r);if(a){const n=[...a].map(t=>t===e?o:t);t(P(n))}},R=e=>(t,n,{zenApi:r})=>{const i=n(),{gridType:o,itemsOrder:a,displayedRowsNumber:s}=i.feed,{elements:l}=Object(c.j)(i),{countItems:u}=Object(O.b)(o),d=a.findIndex(t=>e===t);if(-1===d)return void console.warn("not found item in itemOrder",{targetItemId:e});const p=a.map((e,t)=>({id:e,index:t})).filter(({id:e})=>Object(O.c)(l[e].size)).filter((e,t)=>t%u==0).find(({index:e})=>e>d);let b=p?p.index:a.length;for(let e=Math.min(b,a.length-1);e>d;--e){const t=a[e];if(Object(O.c)(l[t].size))break;b=e}r.updateNotShownPack({invalidate:!0}),t(P(a.slice(0,b)));const m=n();t(w(Math.min(s,Object(c.j)(m).rows.length)))},L=e=>(t,n)=>{const r=n(),{adQueue:i}=Object(l.a)(r),{enabled:o,size:a,ttl:s}=i;if(!o)return;const{replaceWith:u}=Object(c.w)(r,e,d.e.RTB),p=Object(c.s)(r);if(!p)return;if([...p].find(e=>e.id===u))return;const b=[d.e.TEXT,d.e.IMAGE,d.e.POST,d.e.GIF,d.e.GALLERY],{bidFloor:h}=Object(c.x)(r,u,b);t((e=>({type:m.pb,payload:{replaceQueue:e}}))([...[...p].filter(e=>{const t=Date.now(),{receiveTime:n}=Object(c.x)(r,e.id,b);return!!n&&t-n<s}).sort((e,t)=>t.bidFloor-e.bidFloor).slice(0,a-1),{id:u,bidFloor:h||0}]))},M=(e,t)=>!!e&&e.some(e=>"string"==typeof t?e.type===t:t.has(e.type)),B=e=>(t,n)=>{const r=n(),{isMobile:i}=r.params;i&&t(Object(f.a)()),t(Object(v.b)(e));const{feedback:o}=Object(c.x)(r,e,[d.e.TEXT,d.e.IMAGE,d.e.POST,d.e.GALLERY]);o||t(Object(g.e)(e))},D=()=>({type:m.Fb,payload:null}),F=()=>({type:m.I}),V=e=>(t,n)=>{const{feed:r}=n(),i=r.itemsOrder.findIndex(t=>t===e);if(-1===i)return;const o=r.itemsOrder[i+1];if(!o)return;const{type:a}=r.items[o];a===d.e.FEEDBACK_SUGGEST&&t({type:m.K,payload:{itemId:o}})},U=e=>({type:m.rb,payload:{packId:e}}),z=(e,t)=>({type:m.Gb,payload:{rowIndex:e,isVisible:t}})},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l});var r=n(27);class i extends Error{constructor(e){super(e),this.name=this.constructor.name,Object.setPrototypeOf(this,i.prototype)}}const o=e=>`'${JSON.stringify(e)}' with type '${typeof e}'`;function a(e,t){var n;if(!e)throw new i(null!==(n=t)&&void 0!==n?n:"Assert condition failed")}function s(e,t){var n;a(null!=e,null!==(n=t)&&void 0!==n?n:`Expected 'value' to be defined, but receive ${o(e)}`)}function c(e,t){var n;a(Object(r.d)(e)&&!Array.isArray(e),null!==(n=t)&&void 0!==n?n:`Expected object type, but receive ${o(e)}`)}function l(e,t){var n;a(Object(r.e)(e),null!==(n=t)&&void 0!==n?n:`Expected string type, but receive ${o(e)}`)}},function(e,t,n){"use strict";var r=n(32);var i=n(128),o=n(161);var a=n(91);function s(){}function c(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:s}var l=n(77);n.d(t,"a",function(){return u});var u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var a=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(a?a.call(s,this.source):s.add(this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[a.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:c(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});const r=e=>"number"==typeof e,i=e=>"string"==typeof e,o=e=>void 0===e,a=e=>null!==e&&"object"==typeof e,s=e=>Array.isArray(e),c=e=>"function"==typeof e},function(e,t,n){"use strict";var r=n(144),i=n(143),o=n(1);const a=Object(o.j)({link:o.n,preview:o.n,width:o.i,height:o.i}),s=e=>Object(o.l)(a,e);n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return d});const c=({strongest_id:e,public_id:t,type:n,status:r,social_profile_status:i,name:o,title:a,logo:c,logo_sizes:l,framed_logo:u,header_background_image:d,logo_background_color:b,title_background_color:m,title_color:h,feed_link:f,feed_api_link:v,subtitle:g,description:y,subscribers:O,subscriptions:_,audience:k,social_links:E,is_verified:C,is_nirvana:j,link:w,has_new_publications:S,subscription_forbidden:T,messenger_guid:x,user_comments_count:A,authors_likes_count:I,subscribers_avatars:P,allowed_private_messages:N})=>({id:String(e),publicId:t,type:n,status:r,socialProfileStatus:i,name:o,title:a,headerBackgroundImage:d?s(d):void 0,logo:c,subtitle:g,description:y,subscribers:O,subscriptions:_,audience:k,isVerified:C,isNirvana:j,framedLogo:u,logoSizes:l,logoBackgroundColor:b,titleBackgroundColor:m,titleColor:h,feedLink:f,feedApiLink:v,socialLinks:p(E),link:w,hasNewPublications:S,subscriptionForbidden:T,messengerGuid:x,userCommentsCount:A,authorsLikesCount:I,subscribersAvatars:P,allowedPrivateMessages:N}),l=e=>{if(e.stat_params){var t;const n=null!==(t=Object(i.a)(e.stat_params))&&void 0!==t?t:{};return Object.assign({},c(e.source),n.placeholder)}return Object.assign({},c(e.source),Object(r.a)(e))},u=e=>e.items.map(l),d=({source:e,bulk_params:t,stat_events:n})=>Object.assign({},c(e),{bulkParams:e.bulk_params||t,statEvents:e.stat_events||n}),p=e=>Array.isArray(e)?e.map(({link:e,name:t,image:n,social_network:r})=>({link:e,name:t,image:n,network:r})):[]},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(10);const r=e=>new Promise(t=>{setTimeout(t,e)})},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"d",function(){return d});var r=n(67),i=n(3);const o=e=>({type:i.gb,payload:Boolean(e)}),a=e=>({type:i.U,payload:e}),s=e=>(Object(r.d)(e),{type:i.sb,payload:e,broadcastable:!0}),c=e=>(Object(r.e)(e),{type:i.ub,payload:e}),l=e=>({type:i.W,payload:e}),u=e=>(Object(r.f)(e),{type:i.vb,payload:e}),d=e=>({type:i.ob,payload:e})},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(15),i=n(179),o=n(161),a=n(50),s=n(128),c=n(77),l=n(105),u=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,r,i)}return a}return r.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(a.a),d=function(e){function t(t,n,r,a){var s,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=r,c._complete=a,c}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw e;Object(l.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(l.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(16),i=n(303);const o=e=>Object(r.a)(`${i["lib-prefix"]}-${e}`);o.mix=r.c},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=e=>{const t=Object(r.useRef)({isCalled:!1});return t.current.isCalled||(t.current={isCalled:!0,value:e()}),t.current.value}},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(511),i=n(507),o=n(120),a=n(320),s=n(518),c=n(512),l=n(221),u=n(34),d=n(66),p=n(224);const b=(e=d.d,t)=>{const n=[0,e],[b,m]=Object(l.a)(n,t),h=Object(p.a)(),[f,v]=Object(u.a)(()=>{const t=m.pipe(Object(i.a)(e=>null!==e));return[e=>e>0,t=>t>=e].map(e=>Object(r.a)(t.pipe(Object(o.a)(e)),h).pipe(Object(o.a)(([e,t])=>e&&t),Object(a.a)(),Object(s.a)(null),Object(c.a)()))});return[b,v,f]}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(10);var r=n(16);const i=(e,t)=>{const n=Object.keys(t),i=Object.assign({},e);for(let o=0;o<n.length;o++){const a=n[o];switch(a){case"className":i[a]=Object(r.c)(t.className,e.className);break;case"style":i[a]=Object.assign({},e.style,t.style);break;default:{const n=t[a],r=e[a];"on"===a.slice(0,"on".length)&&(i[a]=(e=>{"function"==typeof n&&n(e),"function"==typeof r&&r(e)}))}}}return i}},function(e,t,n){"use strict";var r=n(5),i=n(596),o=n(206),a=n(26),s=n(158),c=new(n(157).a)(s.a),l=n(180),u=n(79);function d(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var p=n(595),b=n(120),m=n(15),h=n(114),f=n(147),v=n(113),g=n(154);var y=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.project))},e}(),O=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return m.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new f.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(v.a)(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(h.a);function _(e){return void 0===e&&(e=c),Object(b.a)(function(t){return new k(t,e.now())})}var k=function(){return function(e,t){this.value=e,this.timestamp=t}}(),E=n(95),C=n(185);var j=n(32);function w(){return function(e){return e.lift(new S)}}var S=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new T(e))},e}(),T=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return m.a(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(j.a),x=n(507);var A=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?P:I}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),I=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return m.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(j.a),P=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return m.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(e),a.length===t&&(r.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(j.a),N=n(226),R=n(42);n.d(t,"b",function(){return L}),n.d(t,"a",function(){return M});const L=({timeout:e=800,onShow:t,onDeepwatch:n,isVisible$:i})=>{const o=Object(N.a)();Object(R.a)(()=>M(i,o,e).pipe(Object(p.a)(e=>e.type)),e=>{"show"===e.type&&t?Object(r.c)(()=>{t()}):"deepwatch"===e.type&&n&&Object(r.c)(()=>{n(e.timestamp)})})},M=(e,t,n)=>{const r=t.pipe(Object(b.a)(()=>!1));return Object(i.a)(e,r).pipe(function e(t,n){return"function"==typeof n?function(r){return r.pipe(e(function(e,r){return Object(g.a)(t(e,r)).pipe(Object(b.a)(function(t,i){return n(e,t,r,i)}))}))}:function(e){return e.lift(new y(t))}}(e=>e?Object(i.a)(Object(o.a)("visible"),function(e,t,n){void 0===e&&(e=0);var r=-1;return Object(l.a)(t)?r=Number(t)<1?1:Number(t):Object(u.a)(t)&&(n=t),Object(u.a)(n)||(n=c),new a.a(function(t){var i=Object(l.a)(e)?e:+e-n.now();return n.schedule(d,i,{index:0,period:r,subscriber:t})})}(n).pipe(Object(b.a)(()=>"timeout"))):Object(o.a)("invisible")),_(),function(e){return e?Object(C.a)(function(){return new E.a},e):Object(C.a)(new E.a)}(e=>{const t=e.pipe(w(),Object(x.a)(([e,t])=>"visible"===e.value&&"timeout"===t.value)),r=e.pipe(w(),_(),Object(x.a)(({value:[e,t],timestamp:r})=>"visible"===e.value&&"invisible"===t.value&&r>e.timestamp+n)),o=Object(i.a)(t,r).pipe(Object(b.a)(()=>({type:"show"}))),a=e.pipe(function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new A(e,t))}}(3,1),Object(x.a)(([e,t,n])=>"visible"===e.value&&"timeout"===t.value&&"invisible"===n.value),Object(b.a)(([e,,t])=>({type:"deepwatch",timestamp:t.timestamp-e.timestamp})));return Object(i.a)(o,a)}))}},function(e,t,n){"use strict";var r=n(298);var i=n(6);n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});const o=e=>e||"DEFAULT_ID",a=(e,t)=>e({id:o(t)},{type:"@@asyncScope/INIT"}),s=({actionType:e,dataReducer:t})=>{const n=(e=>{let t,n;return(...i)=>t&&Object(r.a)(t,i)?n:(t=i,n=e(...i))})((e,t,n)=>({id:e,status:t,data:n})),o=(e=>(t=i.a.Pending,n,r)=>{if(r!==(n.payload&&n.payload.id))return t;switch(n.type){case e:return n.payload.status;default:return t}})(e);return(e,r)=>{const i=((e="DEFAULT_ID")=>e)(e&&e.id);return n(i,o(e&&e.status,r,i),t(e&&e.data,r,i))}},c=({reducer:e,selector:t})=>(n,r,...i)=>{const s=o(r);return t(n,s,...i)||a(e,s)},l=e=>{let{type:t,request:n,selector:r}=e;const a=({isForced:e,isSilent:a=!1})=>(s,c={isPublic:!1},...l)=>async(u,d,p)=>{const b=o(s),m=d(),h=r(m,b,...l);return!e&&h&&h.status===i.a.Success?h.data:(!a&&u((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:i.a.Pending}}))({type:t,id:b})),n(p,b,...l).then(e=>{u((({type:e,value:t,id:n="DEFAULT_ID",isPublicEvent:{isPublic:r}})=>({type:e,payload:{id:n,timestamp:Date.now(),status:i.a.Success,value:t},meta:{isPublic:r}}))({type:t,id:b,value:e,isPublicEvent:c}));const n=d(),o=r(n,b,...l);if(o)return o.data},e=>{throw!a&&u((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:i.a.Error}}))({type:t,id:b})),e}))};return[a({isForced:!1}),a({isForced:!0}),a({isForced:!0,isSilent:!0})]}},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"k",function(){return i}),n.d(t,"j",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return b}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return h});const r="/",i="/subscriptions",o="/search",a="/native",s="/#video",c="/t/:interestName",l="/:channelName",u="/id/:channelId",d="/user/:socialProfileId",p="/user/:socialProfileId/subscriptions",b="/user/:socialProfileId/followers",m="/user/edit",h="/user/deactivate"},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r=n(23),i=n(9),o=n(6);const a=e=>e.sources,s=(e,t)=>{if(e)return e.map(e=>{let{id:n}=e,i=Object(r.a)(e,["id"]);return Object.assign({},i,t[n])})},c=e=>Object(i.createSelector)(e,a,s),l=(c(e=>e.categories.data?e.categories.data.sources:void 0),c(e=>e.search.search.data),c(e=>e.onboarding.data),c((e,t)=>{const n=e.category[t];if(!n)return;const{data:r}=n;return r?r.sources:void 0}),()=>Object(i.createSelector)((e,t)=>{return(e.feed.items[t]||e.videoModal.videoFeed[t]).source},(e,t)=>{const n=e.feed.items[t]||e.videoModal.videoFeed[t];return e.sources[n.source.id]},(e,t)=>{if(!e)throw Error("No source in feed-item!");return Object.assign({},e,t)})),u=Object(i.createSelector)((e,t)=>t,(e,t)=>e.sources[t.id],(e,t)=>{if(!e)throw Error("No source in feed item!");return Object.assign({},e,t)}),d=()=>u,p=Object(i.createSelector)(e=>e.channel,e=>e.sources,(e,t)=>{if(!(e&&e.status!==o.d.Feed&&"source"in e))return null;const n=e.source&&e.source.id;return void 0===n?null:Object.assign({},e.source,t[n])})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=e=>{const t=Object(r.useRef)(e);return Object(r.useEffect)(()=>{t.current=e},[e]),Object(r.useCallback)((...e)=>t.current(...e),[])}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(41),i=n(22);const o=(e,t)=>{const n=Object(r.a)(t);Object(i.a)(()=>{const t=e().subscribe({next:n});return()=>t.unsubscribe()})}},function(e,t,n){"use strict";const{hasOwnProperty:r}=Object.prototype,i=e=>Array.isArray(e)?e.slice():Object.assign({},e),o=e=>e&&"object"==typeof e,a=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],r.call(e,t)!==r.call(n,t)?n:null}},s=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},c=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},l=(e,t)=>{const n=c(t);let i=e;for(let e=0;e<n.length;e++){const t=n[e];if(!o(i)||!r.call(i,t))return;i=i[t]}return i},u=(e,t,n)=>{if(!o(e))throw new Error("Value is not an object.");const a=c(t),l=i(e);let u=l,d=!1;for(let e=0;e<a.length;e++){const t=a[e],c=e===a.length-1;if(Array.isArray(u)&&s(t),c){const e=r.call(u,t),i=e?u[t]:void 0,o=u[t]="function"==typeof n?n(i):n;e&&Object.is(i,o)||(d=!0)}else if(r.call(u,t)){if(!o(u[t]))throw new Error("Value is not an object.");u=u[t]=i(u[t])}else u=u[t]={},d=!0}return d?l:e};t.a={get:l,set:u,del:(e,t)=>{if(!o(e))throw new Error("Value is not an object.");const n=c(t);if(1===n.length){const t=n[0];return a(e,t)||e}const l=i(e);let u=l,d=!1;for(let e=0;e<n.length-1;e++){const t=n[e],c=e===n.length-2;if(Array.isArray(u)&&s(t),!r.call(u,t))break;if(!o(u[t]))throw new Error("Value is not an object.");if(c){const r=n[e+1];(u[t]=a(u[t],r))&&(d=!0)}else u=u[t]=i(u[t])}return d?l:e},modify:(e,t,n)=>u(e,t,n(l(e,t)))}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(e,t)=>{let n=null;const r=(...r)=>{null!==n&&window.clearTimeout(n),n=window.setTimeout(()=>{n=null,e(...r)},t)};return r.cancel=(()=>{null!==n&&clearTimeout(n)}),r}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),o=n(81),a=n(20),s=n(232),c=n(508);const l=e=>{const t=t=>{const{zenLogger:n}=Object(a.c)();return i.a.createElement(s.a,{onCatch:e=>{e.request?n.error({message:c.b,details:{reason:e.message,url:e.request}}):n.error(e)}},i.a.createElement(e,t))};return t.displayName=Object(o.a)("WithChunkLoadingErrorBounding",e),t}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=n(170),l=n.n(c);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var d=i.a.createContext();var p=function(e){return function(t){return i.a.createElement(d.Consumer,null,function(n){return i.a.createElement(e,Object.assign({__chunkExtractor:n},t))})}},b=function(e){return e};function m(e){var t=e.resolve,n=void 0===t?b:t,r=e.render,c=e.onLoad;function l(e,t){void 0===t&&(t={});var l=function(e){return"function"==typeof e?{requireAsync:e}:e}(e),d={};function b(e){return t.cacheKey?t.cacheKey(e):l.resolve?l.resolve(e):null}var m=function(e){function i(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:b(n)},r.promise=null,u(!n.__chunkExtractor||l.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?!1===t.ssr?s(r):(l.requireAsync(n).catch(function(){}),r.loadSync(),n.__chunkExtractor.addChunk(l.chunkName(n)),s(r)):(l.isReady&&l.isReady(n)&&r.loadSync(),r)}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(i,e),i.getDerivedStateFromProps=function(e,t){var n=b(e);return a({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var p=i.prototype;return p.componentDidMount=function(){this.mounted=!0,this.state.loading?this.loadAsync():this.state.error||this.triggerOnLoad()},p.componentDidUpdate=function(e,t){Object.is(t.cacheKey,this.state.cacheKey)||(this.promise=null,this.loadAsync())},p.componentWillUnmount=function(){this.mounted=!1},p.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},p.triggerOnLoad=function(){var e=this;c&&setTimeout(function(){c(e.state.result,e.props)})},p.loadSync=function(){if(this.state.loading)try{var e=l.requireSync(this.props),t=n(e,{Loadable:f});this.state.result=t,this.state.loading=!1}catch(e){this.state.error=e}},p.getCacheKey=function(){return b(this.props)||JSON.stringify(this.props)},p.getCache=function(){return d[this.getCacheKey()]},p.setCache=function(e){d[this.getCacheKey()]=e},p.loadAsync=function(){var e=this;if(!this.promise){var r=this.props,i=(r.__chunkExtractor,r.forwardedRef,o(r,["__chunkExtractor","forwardedRef"]));this.promise=l.requireAsync(i).then(function(r){var i=n(r,{Loadable:f});t.suspense&&e.setCache(i),e.safeSetState({result:n(r,{Loadable:f}),loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){e.safeSetState({error:t,loading:!1})})}return this.promise},p.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,s=(e.__chunkExtractor,o(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,l=c.error,u=c.loading,d=c.result;if(t.suspense){var p=this.getCache();if(!p)throw this.loadAsync();return r({loading:!1,fallback:null,result:p,options:t,props:a({},s,{ref:n})})}if(l)throw l;var b=i||t.fallback||null;return u?b:r({loading:u,fallback:b,result:d,options:t,props:a({},s,{ref:n})})},i}(i.a.Component),h=p(m),f=i.a.forwardRef(function(e,t){return i.a.createElement(h,Object.assign({forwardedRef:t},e))});return f.preload=function(e){l.requireAsync(e)},f.load=function(e){return l.requireAsync(e)},f}return{loadable:l,lazy:function(e,t){return l(e,a({},t,{suspense:!0}))}}}var h=m({resolve:function(e,t){var n=t.Loadable,r=e.__esModule?e.default:e.default||e;return l()(n,r,{preload:!0}),r},render:function(e){var t=e.result,n=e.props;return i.a.createElement(t,n)}}),f=h.loadable,v=h.lazy,g=m({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.loading,r=e.props;return!n&&r.children?r.children(t):null}}),y=g.loadable,O=g.lazy;var _=f;_.lib=y,v.lib=O;t.a=_},function(e,t,n){"use strict";let r,i;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),function(e){e[e.PLAYBACK_NOT_STARTED=-1]="PLAYBACK_NOT_STARTED",e[e.ENDED=0]="ENDED",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.BUFFERING=3]="BUFFERING",e[e.QUEUED=5]="QUEUED"}(r||(r={})),function(e){e.PLAY_BUTTON_CLICK="PLAY_BUTTON_CLICK"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(10);const r=e=>Object.keys(e)},function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return b}),n.d(t,"i",function(){return m});var r=n(3),i=n(29);const o=(e,t)=>(n,i,{globalBus:o})=>{n(((e,t)=>({type:r.V,payload:{id:e,feedback:t}}))(e,t)),o&&o.emit("cardFeedback")},a=e=>({type:r.z,payload:{id:e}}),s=e=>({type:r.A,payload:{id:e}}),c=e=>({type:r.y,payload:{id:e.id}}),l=e=>({type:r.B,payload:{id:e.id}}),u=e=>({type:r.w,payload:{id:e}}),d=e=>({type:r.x,payload:{id:e}}),p=e=>({type:r.v,payload:{id:e.id}}),b=e=>t=>{Object(i.a)(1500).then(()=>t((e=>({type:r.C,payload:{id:e}}))(e)))},m=({id:e,questionId:t,answerId:n,value:i})=>({type:r.Q,payload:{id:e,questionId:t,answerId:n,value:i}})},function(e,t,n){"use strict";var r=n(145),i=n(205),o=n(179),a=n(162),s=n(69);function c(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);var l=c;n.d(t,"a",function(){return u});var u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,c=this._parents,u=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var b=-1,m=c?c.length:0;n;)n.remove(this),n=++b<m&&c[b]||null;if(Object(o.a)(u))Object(a.a)(u).call(this)===s.a&&(t=!0,e=e||(s.a.e instanceof l?d(s.a.e.errors):[s.a.e]));if(Object(r.a)(p))for(b=-1,m=p.length;++b<m;){var h=p[b];if(Object(i.a)(h))if(Object(a.a)(h.unsubscribe).call(h)===s.a){t=!0,e=e||[];var f=s.a.e;f instanceof l?e=e.concat(d(f.errors)):e.push(f)}}if(t)throw new l(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function d(e){return e.reduce(function(e,t){return e.concat(t instanceof l?t.errors:t)},[])}},function(e,t){},function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l});n(10);var r=n(48);const i=(e,t)=>e[t],o=(e,t)=>Object(r.a)(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}),a=(e,t)=>e.reduce((e,n)=>(e[t(n)]=n,e),{}),s=e=>e,c=(e,t)=>Object.keys(e).reduce((n,r)=>{const i=e[r];return n[r]=t(i,r,e),n},{}),l=(...e)=>t=>{const n={};for(const r of e)n[r]=t[r];return n}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"e",function(){return d});var r=n(3);const i=(e,t)=>({type:r.F,payload:{branchName:e,branchState:t}}),o=e=>i("links",e),a=e=>i("params",e),s=e=>i("shared",e),c=e=>i("context",e),l=e=>i("auth",e),u=e=>i("user",e),d=e=>i("request",e)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});n(10);const r=e=>(e=>{let t=e.match(/^#([0-9a-f]{3})$/i);if(t){const e=t[1];return[17*parseInt(e.charAt(0),16),17*parseInt(e.charAt(1),16),17*parseInt(e.charAt(2),16)]}if(t=e.match(/^#([0-9a-f]{6})$/i)){const e=t[1];return[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)]}return(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]:null})(e)||[0,0,0],i=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),i=Math.min(e,t,n),o=(r+i)/2,a=r-i;if(0===a)return[0,0,o];const s=o>.5?a/(2-r-i):a/(r+i);switch(r){case e:return[((t-n)/a+(t<n?6:0))/6,s,o];case t:return[((n-e)/a+2)/6,s,o];case n:return[((e-t)/a+4)/6,s,o];default:throw new Error("never happens")}},o=(e,t,n)=>{return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255<.53},a=({cardColors:e,mainColor:t})=>{if(t){const e=r(t);return o(...e)}if(e){const t=r(e.card);return o(...t)}return!1}},function(e,t,n){"use strict";var r=n(48);const i=e=>{try{return decodeURIComponent(e)}catch(e){return null}};n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c});const o=/[?&]([^&#]*)/,a=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(o);if(!n)break;r+=n[0].length;const[a,s]=n[1].split("=");if(!a||!s)continue;const c=i(a),l=i(s);c&&l&&(t[c]=l)}return t},s=e=>{const t=Object(r.a)(e);return 0===t.length?"":t.reduce((t,n)=>{const r=e[n];return n&&void 0!==r?`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(r)}`:t},"")},c=(e,t)=>{const n=Object.assign({},a(e),t),r=e.indexOf("?"),i=e.indexOf("#"),o=-1!==i?i:e.length,c=-1!==r?r:o;return e.slice(0,c)+s(n)+e.slice(o)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=(e,t)=>{const n=Object(r.useRef)(!1);Object(r.useEffect)(()=>{if(n.current)return e();n.current=!0},t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=e=>{const t=Object(r.useRef)();Object(r.useEffect)(()=>{t.current=e},[e]),Object(r.useEffect)(()=>()=>{t.current&&t.current()},[])}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(10);const r={},i=(e,{invalidate:t=!1,crossorigin:n=!1,useCredentials:i=!1}={})=>{if(r[e]&&!t)return r[e].promise;const o=document.createElement("script");o.src=e,o.async=!0,n&&(o.crossOrigin=i?"use-credentials":"anonymous");const a=new Promise((t,n)=>{o.onload=(()=>{r[e].loaded=!0,t()}),o.onerror=(t=>{r[e].error=t,n(t)})});return r[e]&&document.head&&document.head.removeChild(r[e].script),document.head&&document.head.appendChild(o),r[e]={script:o,promise:a,loaded:!1,error:null},a};i.isRequested=(e=>Boolean(r[e])),i.isLoaded=(e=>Boolean(r[e]&&r[e].loaded)),i.isFailed=(e=>Boolean(r[e]&&r[e].error))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>{let t=!1;const n=(...n)=>{t||e(...n)};return n.cancel=(()=>{t=!0,"function"==typeof e.onCancel&&e.onCancel()}),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l});var r=n(9),i=n(8);const o=()=>Object(r.createSelector)((e,t)=>{const n=Object(i.e)(e,t);if("statEvents"in n)return n.statEvents},(e,t)=>{const n=Object(i.e)(e,t);if("bulkParams"in n)return n.bulkParams},(e,t)=>{if(void 0!==e&&void 0!==t)return{statEvents:e,bulkParams:t};throw new Error("expects feedItem with statEvents and bulkParams fields")}),a=(e,t)=>{const n=Object(i.e)(e,t);return"feedback"in n?n.feedback:null},s=(e,t)=>{const n=Object(i.e)(e,t);return"mittensJumpAnimationKey"in n?n.mittensJumpAnimationKey:0},c=(e,t)=>{const n=Object(i.e)(e,t);return n&&"commentsDocumentId"in n&&n.commentsDocumentId&&e.commentsData&&e.commentsData[n.commentsDocumentId]?e.commentsData[n.commentsDocumentId]:null},l=(e,t)=>{const n=Object(i.e)(e,t);return n&&"allCommentsLink"in n&&n.allCommentsLink?n.allCommentsLink:null}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i=n(0);const o=e=>{const t=Object(r.f)();return Object(i.useCallback)((...n)=>t(e(...n)),[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n(111),i=n(102),o=n(5);const a=i.c,s=i.e,c=o.h;r.routerMiddleware},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return u});n(10);const r=/^(https?):\/\/(\w+:{0,1}\w*@)?(\S*?)(:[0-9]+)?[\wа-яё-]+\.[\wа-яё]+(\/|\/([\wа-яё#!:.?+=&%@!*~)(\-/]+))?$/i,i=/^(https?):\/\//i,o=e=>r.test(e);function a(e,t){if(!o(e))return e;const n=e.replace(i,""),r=n.indexOf("/");if(-1===r)return n;const a=n.slice(0,r),s=n.slice(r+1);return`${a}/${s.length>=t+4?`...${s.slice(-t)}`:s}`}const s=()=>"undefined"!=typeof window?window.location.search:"",c=e=>{const t=e.match(/^(([^:/?#]+:)?(?:\/\/((?:([^/?#:]*):([^/?#:]*)@)?([^/?#:]*)(?::([^/?#:]*))?)))?([^?#]*)(\?[^#]*)?(#.*)?$/);if(t)return{hash:t[10]||"",host:t[3]||"",hostname:t[6]||"",pathname:t[8]||(t[1]?"/":""),protocol:t[2]||"",search:t[9]||""}};function l(e){return`/t/${encodeURIComponent(e)}`}const u=(e,t,n)=>{try{return decodeURI(e).replace(n,t.toString())}catch(t){return console.error(t),e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(54);const i={isDarkImage:!1,isCloseToWhite:!1,card:"#FFFFFF",text:"#000000"},o=e=>{try{const[t,n,o]=Object(r.a)(e),[,a,s]=Object(r.d)(t,n,o),c=a<=.35&&s>=.9,l=Object(r.b)(t,n,o);return{isDarkImage:l,isCloseToWhite:c,card:c?"#FFFFFF":e,text:l?"#FFFFFF":"#000000"}}catch(e){return console.error(e),i}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a});const r=2e3,i=2e3,o=15,a="rgba(30, 45, 70, 0.55)"},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});const r="SELF_USER_ID_FALLBACK",i=500,o=800,a=.2,s=.8},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return l});var r=n(107);const i=()=>{switch(r.a.getItem("zen-video-autoplay")){case"1":return!0;case"0":return!1}},o=e=>{r.a.setItem("zen-video-autoplay",e?"1":"0")},a=()=>"1"===r.a.getItem("zen-video-mute"),s=e=>{r.a.setItem("zen-video-mute",e?"1":"0")},c=()=>r.a.getItem("zen-video-volume")||"100",l=(e="100")=>{r.a.setItem("zen-video-volume",e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d});var r=n(2),i=n(143),o=n(103);const a=({page_id:e})=>({partnerId:e?parseInt(e,10):void 0,category:1016,hasPreroll:!1}),s=({has_sound:e,heartbeat_pos:t,id:n,loop:r,player:i,provider:o,userAgent:s,video_info:c,additional_params:l,replay_count:u=2,autoplay:d,width:m,height:h,duration:f,ad:v,views:g})=>({hasSound:e,heartbeatTimes:t,id:n,loop:r,player:i,provider:o,userAgent:s,videoInfo:c?b(c):{},additionalParams:p(l),autoplay:d,replayCount:u,width:m,height:h,duration:f,adConfig:v&&a(v),views:g});let c;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(c||(c={}));const l=e=>{if(!e)return;const{button_name:t,description:n,logo:r,title:i,url:o,url_type:a,type:s,price_url:c,video_call_to_action_timestamp:l}=e;return{buttonName:t,description:n,logo:r?{logoUrl:r.url,mainColor:r.main_color}:void 0,title:i,url:o,urlType:a,type:s,priceUrl:c,appearanceTime:l}},u=e=>{e.image&&!e.big_card_image&&console.warn("no big_card_image",e);const t=Object(i.a)(e.stat_params);return Object.assign({type:r.e.GIF,video:s(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),publisherId:e.publisher_id,publicationId:e.publication_id,commentsToken:e.comments_token,callToAction:l(e.call_to_action),statParams:t,subscribeTriggerEvent:e.subscribeTriggerEvent||"click"},Object(o.b)(e))},d=({video_popup_data:e})=>({publicationId:e.publication_id,snippet:e.snippet,tags:e.tags,publicationSubscriptions:e.publication_subscriptions,publicationComments:e.publication_comments,publisherSubscriptions:e.publisher_subscriptions}),p=e=>{const{partner_stat_id:t,from:n,video_content_id:r}=e;return{from:n,"video-content-id":r,"partner-stat-id":t}},b=e=>{const{video_content_id:t}=e;return{videoContentId:t}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={e:{}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=e=>{const t=Object(i.b)();return Object(r.useCallback)(({commentId:n}={})=>{e&&t("show",Object.assign({},e,{bulkReplaceMap:{__with_comment_id__:n||"__with_comment_id__"}}))},[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=e=>{const t=Object(i.b)();return Object(r.useCallback)(({commentId:n,clickOnComment:r,videoPos:i,link:o}={})=>{e&&t("click",Object.assign({},e,{bulkReplaceMap:{__click_on_comment__:r||"__click_on_comment__",__with_comment_id__:n||"__with_comment_id__",_video_pos_:i||"_video_pos_"},extendStatMeta:{link:o}}))},[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(...e)=>(t,n)=>e.reduce((e,t)=>t(e,n),t)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});n(10);const r=()=>{return`${Date.now().toString(36).slice(0,16)}_${Math.random().toString(36).slice(2,18)}`},i=(e="item")=>`${e}_${Math.random()*Date.now()}`},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(10);const{hasOwnProperty:r}=Object.prototype,i=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return Object.is(e,t);const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let o=0;o<n.length;o++){const a=n[o];if(!r.call(t,a)||!i(e[a],t[a]))return!1}return!0}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(316),a=n(294),s=n(19),c=n(34),l=n(95),u=n(320),d=n(37),p=n(228);var b=n(108);n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h});const m=({className:e,style:t={},source:n,triggerEvent:o,isVisible:m,isMobile:f,viewType:v="border",widthType:g="wide",statObject:y,unsubscribeLabel:O})=>{const{l10n:_}=Object(a.a)(),k=(({log:e,statObject:t,onSetSourceStatus:n,source:i,triggerEvent:o,hasSubscribeButton:a})=>{const s=Object(r.useMemo)(()=>t&&Object.assign({},t,{eventReplaceMap:{__pe__:o||"__pe__"}}),[t,o]),b=Object(r.useCallback)(()=>{s&&e("feedback_cancel_favourite",s)},[e,s]),m=Object(r.useCallback)(()=>{s&&e("feedback_favourite",s)},[e,s]),h=Object(p.a)({onUnsubscribe:b,onSubscribe:m,status:i.status,setStatus:n}),f=Object(r.useCallback)(()=>{s&&e("favourite_button_show",s)},[e,s]),[v,g]=Object(c.a)(()=>{const e=new l.a;return[e,e.pipe(Object(u.a)())]});return Object(r.useEffect)(()=>{v.next(a)},[v,a]),Object(d.b)({isVisible$:g,onShow(){f()}}),h})({log:Object(s.b)(),onSetSourceStatus:Object(b.a)(n),source:n,statObject:y,triggerEvent:o,hasSubscribeButton:m});return i.a.createElement(h,{className:e,style:t,isMobile:f,viewType:v,widthType:g,onClick:k,isSubscribed:"subscribed"===n.status,l10n:_,unsubscribeLabel:O})},h=({className:e,style:t={},isMobile:n,viewType:a="border",widthType:s="wide",onClick:c,isSubscribed:l,l10n:u,unsubscribeLabel:d=u("desktop.unsubscribe")})=>{const p=Object(r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c()},[c]);return i.a.createElement(o.a,{className:e,style:t,onClick:p,size:n?"l":"m",viewType:a,widthType:s},l?d:u("desktop.subscribe"))}},function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"d",function(){return x}),n.d(t,"c",function(){return A}),n.d(t,"e",function(){return I}),n.d(t,"f",function(){return P});var r=n(199),i=n(178);const o=250;let a,s,c=[],l=[],u=[],d=[],p=[],b=!1;const m=!1,h=n.n(i).a.hasSupport;let f;function v(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function g(e,t){const n=[];let r;for(let i=0,o=e.length;i!==o;i++)t(r=e[i])&&n.push(r);return n}let y=0;function O(){return`__scrollEv${++y}__`}const _={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let k=U(_),E={},C=!1;const j=[];function w(){const e=U(k);k=F(e)}const S=(e,t,n)=>{const r=e.name||O();return d.push({name:r,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0}),r},T=(e,t,n)=>{u.push({delta:e.delta,name:e.name||O(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,overScrollBehavior:void 0===e.overScrollBehavior||e.overScrollBehavior,data:n,callback:t})},x=e=>{d=g(d,t=>t.name!==e)},A=()=>{b=!0},I=()=>{w(),b=!1};const P=()=>{m?window.addEventListener("message",({data:e})=>{const{type:t}=e;if("scroll"===t){const{scrollTop:t,winHeight:n}=e;a=t,s=n,R()}}):(h?document.addEventListener("scroll",R,{passive:!0}):requestAnimationFrame(M),S({},({scroll:e})=>{!function(e){let t=!1;v(j,([n,r])=>{e>=n&&e<=r&&(t=!0)}),C=t}(e)}))};function N(e,t,n){return n.fromBottom?e<=n.scroll||Boolean(n.bottomEdge&&t<=n.scroll):e>=n.scroll||Boolean(n.bottomEdge&&t>=n.scroll)}function R(){M(Date.now())}function L(e,t){h&&(t||(window.clearTimeout(f),f=window.setTimeout(()=>M(Date.now(),!0),o)));const n=U(k);k=F(n,t);const{scroll:r,scrollBottomEdge:i}=k;!0===k.scrolling&&n.scrolling,(!0===k.scrolling||t)&&function(e){B(e,!1),D(e,!1)}(k),!1===k.scrolling&&!0===n.scrolling&&function(e){B(e,!0),D(e,!0),v(p,e=>{window.clearTimeout(e._timeout),e.callback()}),p=[]}(k),function(e,t){v(c,n=>{const r=N(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;V(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),c=g(c,e=>!(e._triggered&&e.once))}(r,i),function(e,t){v(l,n=>{0===n._state&&N(e,t,n)&&(V(n.name,{state:1,data:n.data},n.callback),z(n.name)||(n._state=1)),1!==n._state||N(e,t,n)||(V(n.name,{state:0,data:n.data},n.callback),z(n.name)||(n._state=0))})}(r,i),h||requestAnimationFrame(M)}const M=C?L:Object(r.a)(L,30);function B(e,t){const n=g(u,e=>Boolean(e.endTrigger)===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,i=Math.abs(r),o=r>0?1:-1;v(n,t=>{t.onceDebounce&&E[t.name]||i>=t.delta&&(t.direction===o||t.anyDirection)&&(t.overScrollBehavior||e.scroll>0)&&(V(t.name,{data:t.data},t.callback),t._triggered=!0,E[t.name]=!0)}),u=g(u,e=>!(e._triggered&&e.once))}function D(e,t){const n=Date.now();v(d,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(V(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function F(e,t){const n=U(_),r=m?a:window.pageYOffset,i=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(m?s:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=i:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,i-n.lastScrollChangeTime>o||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,E={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function V(e,t,n){z()||n&&n(t)}function U(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function z(){return b}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},,function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(e,t)=>`${e}(${(e=>e.displayName||e.name||"Component")(t)})`},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(9),i=n(18),o=n(40);const a=Object(r.createSelector)(i.e,i.d,o.a,(e,t,n)=>!(e||n&&"interest"!==n.type||t))},function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return m});n(10);var r=n(195),i=n(3),o=n(18),a=n(201),s=n(30),c=n(132);const l=(e,t,n)=>(r,c)=>{const l=c(),{items:u}=l.feed,d=e?u[e]:void 0,p=Object(o.j)(l)&&Boolean(l.router);r({type:i.cc,payload:{openedItem:d,startPosition:t,playerRect:n}}),e&&(r(Object(s.f)(!1)),p&&r(Object(a.a)(l.router.location)))},u=Object(r.a)((e,t,{zenApi:n})=>n.getVideoRecommend().then(t=>{if(0===t.length)throw new Error("no recommends");const{sources:n,videoFeed:r,itemsOrder:o}=(e=>{const t={},n=[],r=e.reduce((e,r)=>{const{id:i,source:o,statParams:a,statEvents:s,bulkParams:c}=r;return t[o.id]||(t[o.id]=Object.assign({},o,{statParams:a,statEvents:s,bulkParams:c})),n.push(i),Object.assign({[i]:Object.assign({},r)},e)},{});return{sources:t,videoFeed:r,itemsOrder:n}})(t);e({type:i.ac,payload:{videoFeed:r,itemsOrder:o}}),e({type:i.bc,payload:{sources:n}})}),{timeouts:[1e3,3e3,5e3]}),d=()=>(e,t,n)=>{return u(e,t,n).retriesResult},p=(e,t)=>(n,r,{zenApi:o})=>o.getVideoPopupData(e,t).then(e=>{n({type:i.dc,payload:{videoPopupData:e,publicationId:t}})}),b=e=>({type:i.Zb,payload:{openedItemId:e}}),m=()=>(e,t)=>{const{videoModal:{openedItemId:n}}=t();if(!n)return;const{isNearLast:r,id:i}=Object(c.c)(t());r&&e(d()),i&&e(b(i))}},function(e,t,n){"use strict";n.d(t,"h",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return v});var r=n(6),i=n(3),o=n(141);const a=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n},broadcastable:!0,isSourceAction:!0}),s=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n}}),c=a(i.Ab),l=a(i.Cb),u=a(i.xb),d=(a(i.Bb),a(i.yb)),p=(s(i.Lb),s(i.p),(e,t,{isPublic:n=!0}={})=>({type:i.zb,payload:{id:e,reasons:t},meta:{isPublic:n},broadcastable:!0,isSourceAction:!0})),b=e=>({type:i.D,payload:e}),m=e=>(t,n,{globalBus:r})=>{const i=Object.assign({},e,{forceRefresh:!0});r&&r.emit("requestSourceOpen",i)},h={[r.u.SUBSCRIBED]:c,[r.u.BLOCKED]:u,[r.u.NOT_SUBSCRIBED]:l},f=(e,t)=>n=>{n(h[e](t)),n(Object(o.a)(t))},v=(e,t)=>({type:i.E,payload:{strongestId:e,data:t}})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(26),i=n(50),o=n(207);function a(e,t){return t?new r.a(function(n){var r=new i.a,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r.a(Object(o.a)(e))}},function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d});var r=n(2),i=n(3),o=n(8);const a=(e,t=0)=>({type:i.ec,payload:{id:e,currentTime:t}}),s=e=>(t,n)=>{const a=n(),{itemsOrder:s}=Object(o.f)(a),l=s.filter(t=>{const n=Object(o.n)(a,t);return n&&n.type===r.e.GIF&&n.started&&t!==e});t(c({ids:l})),t({type:i.gc,payload:{id:e}})},c=e=>({type:i.fc,payload:e}),l=e=>({type:i.Ob,payload:{id:e}}),u=e=>({type:i.Qb,payload:{id:e}}),d=(e,t)=>async n=>{try{const r=await fetch(t),o=(await r.json()).priceText||"";n(((e,t)=>({type:i.Pb,payload:{id:e,modelPrice:t}}))(e,o))}catch(e){console.error("Error while fetching c2a widget price",e)}}},function(e,t,n){"use strict";let r;n.d(t,"a",function(){return r}),function(e){e.mainpage="mainpage",e.betterRecommend="better_recommend",e.saveSource="save_source",e.tuneFeed="tune_feed",e.saveInProfile="save_in_profile",e.empty="empty"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=(...e)=>Object(r.useCallback)(t=>{for(let n=0;n<e.length;n++){const r=e[n];"function"==typeof r?r(t):r&&(r.current=t)}},[e])},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";n(10);var r=n(9),i=n(51),o=n(72),a=n(171),s=n(172),c=n(173),l=n(174),u=n(3);const d={id:"",state:{status:"inactive"}},p=e=>({id:e,state:{status:"inactive"}});var b=n(62),m=n(193);const h=e=>({profile:Object(a.a)(e),subscriptions:Object(s.a)(e),blocked:Object(c.a)(e),followers:Object(l.a)(e),notifications:p(e)}),f={profile:a.b,subscriptions:s.b,blocked:c.b,followers:l.b,notifications:(e=d,t)=>{if(("payload"in t&&t.payload&&"object"==typeof t.payload&&"id"in t.payload&&t.payload.id)!==e.id)return e;switch(t.type){case u.Jb:return Object.assign({},e,{state:t.payload.state});default:return e}}},v=Object(b.a)(f);Object(m.a)(Object(o.a)((e={},t)=>{switch(t.type){case u.c:{const{userId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:h(n)})}default:return e}},(e,t)=>{const n={};return Object.keys(e).forEach(r=>{const i=e[r],o=v(i,t);n[r]=o}),n}),{});n(175),n(176),n(194);var g=n(66),y=n(39);n.d(t,"c",function(){return O}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return k});const O=(e,t)=>e.users[t]||h(t),_=(Object(r.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return("subscribed"===r.status||r.isUnsubscribedInCurrentSession)&&t.push(n),t},[])),Object(r.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return("blocked"===r.status||r.isUnblockedInCurrentSession)&&t.push(n),t},[])),Object(r.createSelector)(e=>e.auth,e=>e&&e.info&&e.info.publicId||g.e)),k=Object(r.createSelector)(e=>e.auth,e=>({uid:e&&e.info&&e.info.uid||g.e,publicId:e&&e.info&&e.info.publicId||void 0}));Object(r.createSelector)(e=>e.router.location,_,(e,t)=>{if(!e)return t;const{pathname:n}=e;if(n===y.g||n===y.f)return t;const r=Object(i.matchPath)(e.pathname,{path:y.c});return r&&r.params.socialProfileId||t})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(41),i=n(34),o=n(199);const a=(e,t)=>{const n=Object(r.a)(e);return Object(i.a)(()=>Object(o.a)(n,t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(10);var r=n(22),i=n(5),o=n(92),a=n(42),s=n(57);const c=new Set,l=new Map;let u=0,d=null;const p=()=>{const e=Date.now();d=e,Object(i.c)(()=>{c.forEach(t=>{l.set(t,e),t()})})},b=(e,t,n=500)=>{const i=Object(o.a)(e,n);Object(r.a)(()=>(0===u&&window.addEventListener("resize",p),++u,l.set(i,Date.now()),()=>{0===--u&&window.removeEventListener("resize",p),l.delete(i)})),Object(a.a)(()=>t,e=>{if(e){c.add(i);const e=l.get(i);d&&(!e||e<d)&&(l.set(i,Date.now()),i())}else c.delete(i)}),Object(s.a)(()=>{c.delete(i)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>e&&"object"==typeof e&&"captcha"in e},function(e,t,n){"use strict";var r=n(15),i=n(26),o=n(32),a=n(50),s=n(122),c=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(a.a),l=n(128);n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[l.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new c(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.a),p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(d)},function(e,t,n){"use strict";let r,i;n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),"undefined"!=typeof document&&(void 0!==document.hidden?(i="visibilityState",r="visibilitychange"):void 0!==document.mozHidden?(i="mozVisibilityState",r="mozvisibilitychange"):void 0!==document.msHidden?(i="msVisibilityState",r="msvisibilitychange"):void 0!==document.webkitHidden&&(i="webkitVisibilityState",r="webkitvisibilitychange"));const o=()=>Boolean(i),a=()=>!i||"visible"===document[i],s=a,c=e=>{if(!r)return()=>{};const t=r;let n=s(),i=!1;const o=()=>{if(!i){const t=s();n!==t&&(n=t,e(t))}};return document.addEventListener(t,o),document.addEventListener("resume",o),()=>{i=!0,document.removeEventListener(t,o)}}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u});n(10);var r=n(55),i=n(58);const o="https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js",a=()=>"undefined"!=typeof window?(e=>{const{video_player_version:t}=Object(r.b)(e);return t?t.toString():""})(window.location.search):"",s=()=>{const e="undefined"==typeof window?void 0:window;return e&&e.Ya&&e.Ya.streamPlayer},c=async()=>(s()||await Object(i.a)(o),s()),l=async e=>{const t=await c();if(!t)throw new Error("player not loaded");return await((e,{playerElement:t,handlers:n,videoSource:r,apiVersion:i,maxBufferLength:o,isAdBlockPlayerBundle:a})=>e.init({version:i,element:t,source:r,maxBufferLength:o,hidden:"*",size:{width:"100%",height:"100%"},preload:!0,handlers:n,features:{NativeUI:!0},debug:!1,autoplay:!1,muted:!0,useFriendlyFrame:!0,togglePlaybackOnVisibilityChange:!1,useAbdBundle:a}))(t,e)},u=async e=>{if(s())return;const t=await c();if(!t)throw new Error("player not loaded");t.preloadScripts({version:e})}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n(2);const i=[r.d.SMALL,r.d.BIG],o=e=>i.includes(e),a=e=>r.f[e]?r.f[e].some(e=>o(e)):void 0,s={[r.c.ONE_COLUMN]:[[r.d.SMALL]],[r.c.TWO_COLUMNS]:[[r.d.SMALL,r.d.SMALL],[r.d.BIG],[r.d.BIG]],[r.c.TWO_COLUMN_SMALL_CARDS]:[[r.d.SMALL,r.d.SMALL]],[r.c.THREE_COLUMNS]:[[r.d.SMALL,r.d.SMALL,r.d.SMALL],[r.d.BIG,r.d.SMALL],[r.d.SMALL,r.d.BIG]],[r.c.THREE_COLUMNS_INFINITY]:[[r.d.SMALL,r.d.SMALL,r.d.SMALL],[r.d.BIG,r.d.SMALL],[r.d.SMALL,r.d.BIG]],[r.c.THREE_COLUMNS_FIRST_BIG]:[[r.d.BIG,r.d.SMALL],[r.d.SMALL,r.d.BIG],[r.d.SMALL,r.d.SMALL,r.d.SMALL]],[r.c.THREE_COLUMNS_SMALL_CARDS]:[[r.d.SMALL,r.d.SMALL,r.d.SMALL]]},c=(e,t)=>o(e)?(e=>{switch(e){case r.d.SMALL:return 1;case r.d.BIG:return 2;default:return console.error(`Item size is wrong: ${e}`),1}})(e):r.g[t].columnCount,l=(()=>{const e={};return t=>{var n;const r=null!==(n=e[t])&&void 0!==n?n:(e=>{const t=s[e],n=t.reduce((e,t)=>e+t.length,0),r=t.reduce((e,t,n)=>[...e,...t.map((e,t)=>[n,t])],[]);return{layout:t,countItems:n,countRows:t.length,positionMap:r,getSizeByIndex:e=>{const[i,o]=r[e%n];return t[i][o]}}})(t);return e[t]=r,r}})()},,,function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(151),a=n.n(o),s=n(5),c=(n(404),n(16)),l=n(316);const u=({className:e})=>i.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},i.a.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"})),d=({className:e})=>i.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},i.a.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"}));n(405);const p=Object(c.a)("extended-dislike-view"),b=({l10n:e,children:t,title:n,status:o,isAnimationEnabled:a=!0,rootRef:s})=>i.a.createElement("div",{ref:s,className:p({status:o,isAnimationEnabled:a})},i.a.createElement("div",{className:p("title")},n),i.a.createElement("div",{className:p("items")},r.Children.toArray(t).map((e,t)=>i.a.createElement("div",{key:t,className:p("item-container")},e))),i.a.createElement("div",{className:p("status-container")},i.a.createElement("div",{className:p("status-icon")}),i.a.createElement("div",{className:p("status-text")},e("feedback.dislike_select.saved"))));var m=n(37),h=n(35),f=n(27),v=n(57);n(406);var g=n(600);const y=Object(c.a)("extended-dislike-item-view"),O=({text:e,isChecked:t,onClick:n})=>i.a.createElement("div",{className:y({isChecked:t}),onClick:n},i.a.createElement("div",{className:y("text")},i.a.createElement(g.a,{label:e,theme:"classic",size:"inline"})),i.a.createElement("div",{className:y("red-line")})),_=Object(r.memo)(({l10n:e,question:t,answerChecks:n,onToggleAnswer:o,onShowDislike:a})=>{const[s,c]=Object(h.a)();Object(m.b)({isVisible$:c,onShow:a});const[l,u]=(()=>{const[e,t]=Object(r.useState)("none"),n=Object(r.useRef)(void 0),i=Object(r.useCallback)(()=>{Object(f.f)(n.current)?t("pending"):window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t("success"),n.current=void 0},800)},[]);return Object(v.a)(()=>{window.clearTimeout(n.current)}),[e,i]})(),d=Object(r.useCallback)(e=>{o(e),u()},[u,o]);if(!t)return null;const{text:p,answers:g}=t;return i.a.createElement(b,{l10n:e,title:p,rootRef:s,status:l},g.map(({id:e,text:t})=>i.a.createElement(k,{key:e,id:e,text:t,isChecked:n[e],onToggleAnswer:d})))}),k=({id:e,text:t,isChecked:n,onToggleAnswer:o})=>{const a=Object(r.useCallback)(()=>o(e),[o,e]);return i.a.createElement(O,{text:t,isChecked:n,onClick:a})},E=Object(c.a)("feedback-card-view"),C=({l10n:e,complainButton:t,cancelButton:n,actionButton:r,isHiddenCancelButton:o,isMobile:a,shouldShowExtendDislike:s,description:c,title:p,theme:b,isExtendFeedbackPopupExp:m,question:h,answerChecks:f,onToggleAnswer:v,onShowDislike:g})=>{const y=(e,t)=>{if(!t)return null;const{onClick:n,text:r}=t;return"cancel"!==e||a?i.a.createElement("button",{className:E("button",{type:e,isMobile:a}),onClick:n},(e=>{switch(e){case"complain":return i.a.createElement(u,{className:E("icon",{isMobile:a})});case"action":return i.a.createElement(d,{className:E("icon",{isMobile:a})});default:return null}})(e),i.a.createElement("div",null,r)):i.a.createElement(l.a,{size:"m",viewType:"border",className:E("button",{type:"cancel"}),onClick:n},r)},O=m;return i.a.createElement("div",{className:E({theme:b,isInPopup:O,isMobile:a})},i.a.createElement("div",{className:E("header")},s?i.a.createElement(_,{l10n:e,question:h,answerChecks:f,onToggleAnswer:v,onShowDislike:g}):i.a.createElement("div",{className:E("text")},p," ",c)),i.a.createElement("div",{className:E("buttons")},y("action",r),y("complain",t),o?null:y("cancel",n)))};n(409);const j=Object(c.a)("feedback-popup-view"),w=({mainColor:e,className:t,children:n})=>i.a.createElement("div",{className:c.a.mix(j(),t)},i.a.createElement("div",{style:{background:e||"#F2F2F2"},className:j("fog")}),i.a.createElement("div",{className:j("wrapper")},i.a.createElement("div",{className:j("popup")},n)));n(10),n(408);var S=n(2),T=n(110);const x=Object(c.a)("complaints-card");class A extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={selectedReasonIds:new Set},this._contentRef=(e=>this._contentElem=e),this._bottomRef=(e=>this._bottomElem=e),this._onCancelButtonClick=(()=>{const{cancelButton:e}=this.props;e.onClick()}),this._onActionButtonClick=(()=>{const{actionButton:e}=this.props,{selectedReasonIds:t}=this.state;e.onClick({reasonIds:Array.from(t)})}),t}_onReasonClick(e){this.setState(({selectedReasonIds:t})=>{const n=t.has(e),r=new Set(t);return n?r.delete(e):r.add(e),{selectedReasonIds:r}})}_renderComplaintUrl(){const{l10n:e,complaintLink:t,size:n,host:r}=this.props;return i.a.createElement(T.b,{className:x("complaint-link",{size:n}),href:t,host:r||""},e("feedback.official_complain_url_text"))}_renderReasonsColumn(e){const{selectedReasonIds:t}=this.state;return e.map(({id:e,text:n})=>{const r=t.has(e);return i.a.createElement("div",{key:e,className:x("reason",{selected:r}),onClick:()=>this._onReasonClick(e)},i.a.createElement("div",{className:x("reason-checkbox")}),i.a.createElement("div",{className:x("reason-label")},n))})}_renderReasons(){const{size:e,reasons:t}=this.props;if(e===S.d.SMALL)return i.a.createElement("div",{className:x("reasons")},this._renderReasonsColumn(t));const n=Math.ceil(t.length/2);return i.a.createElement("div",{className:x("reasons")},i.a.createElement("div",{className:x("reasons-column")},this._renderReasonsColumn(t.slice(0,n))),i.a.createElement("div",{className:x("reasons-column")},this._renderReasonsColumn(t.slice(n))))}componentDidMount(){const e=this._contentElem?this._contentElem.offsetWidth-this._contentElem.clientWidth:0,t=!!this._contentElem&&"rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem&&(this._bottomElem.style.right=t?"":`${e}px`,this._bottomElem.style.left=t?`${e}px`:"")}render(){const{size:e,title:t,cancelButton:n,actionButton:r,theme:o,isExtendFeedbackPopupExp:a,isOfficialComplains:s}=this.props,{selectedReasonIds:c}=this.state,l=a,u=n.shown||!c.size,d=Boolean(c.size),p=s&&e;return i.a.createElement("div",{className:x({size:e,theme:o,isInPopup:l})},i.a.createElement("div",{className:x("content"),ref:this._contentRef},i.a.createElement("div",{className:x("title")},t),this._renderReasons()),i.a.createElement("div",{className:x("bottom",{isComplain:p}),ref:this._bottomRef},u&&i.a.createElement("button",{className:x("button",{type:"cancel",isComplain:p}),onClick:this._onCancelButtonClick},n.text),d&&i.a.createElement("button",{className:x("button",{type:"action",isComplain:p}),onClick:this._onActionButtonClick},r.text),s&&this._renderComplaintUrl()))}}var I=n(14),P=n(294),N=n(108),R=n(510),L=n(6),M=n(18),B=n(8),D=n(40),F=n(109),V=n(82),U=n(74),z=n(19),H=n(49),$=n(20),W=n(44),q=n(218),G=n(61),K=n(216);n.d(t,"a",function(){return Y}),n.d(t,"b",function(){return Z});const Y=Object(r.memo)(({className:e,cancelExtendFeedbackPopupExp:t,id:n,mainColor:o,onCancelDislike:a,isWhiteThemeForced:c,disputableUrl:l})=>{const u=Boolean(!1),{l10n:d}=Object(P.a)(),{bulkParams:p,statEvents:b,source:m,isDislikeOptionsEnabled:h,isExtendFeedbackPopupExp:f,isOfficialComplains:v,type:g,domainTitle:y,size:O,theme:_,complaints:k,dislikeQuestion:E,feedback:C,complaintsState:j,complaintsSentAt:w,host:T}=Object(s.g)(e=>{const r=Object(V.a)(e),i=Object(D.e)(e),o=Object(B.x)(e,n,[S.e.IMAGE,S.e.TEXT,S.e.POST,S.e.GIF,S.e.FEATURING_PROMO,S.e.GALLERY]),{source:a,type:s,bulkParams:l,statEvents:u,feedback:d,complaintsState:p,complaintsSentAt:b}=o,m=o.type===S.e.FEATURING_PROMO?"":o.domainTitle,{extendFeedback:h,isOfficialComplains:f}=Object(I.a)(e),v=!t&&h.isPopup;return{isDislikeOptionsEnabled:h.isDislikeOptionsEnabled,isExtendFeedbackPopupExp:v,isOfficialComplains:f,type:s,domainTitle:m,bulkParams:l,statEvents:u,source:Object.assign({},a,a?i[a.id]:{}),size:Object(B.o)(e,n),theme:c?L.e.Light:Object(M.m)(e)||L.e.Light,complaints:e.params.complaints,dislikeQuestion:[S.e.TEXT,S.e.GALLERY].includes(o.type)?Object(F.a)(e,n):void 0,isEnabled:r,feedback:d,complaintsState:p,complaintsSentAt:b,host:Object(K.a)(e)}},U.a),x=Object(r.useMemo)(()=>({statEvents:b,bulkParams:p}),[p,b]),A=Object(N.a)(m),{handleFeedback:Y}=Object(R.b)(),Q=Object(z.b)(),X=Object(r.useCallback)((e,t)=>{Q(e,Object.assign({},t,x))},[Q,x]),J=Object(s.f)(),ee=Object(r.useCallback)(()=>{J(Object(H.c)(n)),X("feedback_cancel_less"),a&&a()},[J,n,X,a]),te=Object(r.useMemo)(()=>{const e={},{answers:t=[]}=E||{};return t.forEach(({id:t,isChecked:n})=>e[t]=n),e},[E]),{zenApi:ne}=Object($.c)(),re=Object(r.useCallback)(Object(W.a)(()=>ne.invalidateCache(),q.a),[ne]),ie=Object(G.a)(H.i),oe=Object(r.useCallback)(()=>{if(!E)return;const{id:e,type:t,answers:n}=E;X("custom_user_feedback_show",{eventReplaceMap:{__uq__:e,__ut__:t,__ua__:n.map(({id:e})=>e).join(","),__uat__:n.map(({type:e})=>e).join(",")}})},[X,E]),ae=Object(r.useCallback)(e=>{if(!E)return;const{answers:t}=E,r=t.find(({id:t})=>e===t);r?(X(r.isChecked?"custom_user_feedback_cancel":"custom_user_feedback",{eventReplaceMap:{__uq__:E.id,__ut__:E.type,__ua__:e,__uat__:r.type}}),ie({id:n,questionId:E.id,answerId:r.id,value:!r.isChecked}),r.isChecked?Q("feedback_cancel_block",r.stats):(Y(),Q("feedback_block",r.stats),re())):console.error(`answer with id ${e} not found`)},[X,ie,re,E,Y,n,Q]),se=Object(r.useCallback)(()=>{X("complain_show"),J(Object(H.f)(n))},[X,J,n]),ce=Object(r.useCallback)(e=>{var t,r;X("complain_click",{eventReplaceMap:{__reasons__:null!==(t=null==e?void 0:null===(r=e.reasonIds)||void 0===r?void 0:r.join(","))&&void 0!==t?t:""}}),J(Object(H.g)(n))},[X,J,n]),le=Object(r.useCallback)(()=>{J(Object(H.b)({id:n}))},[J,n]),ue=Object(r.useCallback)(e=>{e?(X("feedback_block"),A(L.u.BLOCKED),Y(),J(Object(H.a)({id:n}))):(X("feedback_cancel_block"),A(L.u.NOT_SUBSCRIBED),J(Object(H.h)({id:n})))},[X,J,Y,n,A]),de=Object(r.useMemo)(()=>({showExtendedDislike:oe,answerChecks:te,toggleAnswer:ae,isBlocked:"blocked"===C,complaintsState:("sended"===j&&"blocked"===w?"sended-blocked":j)||null,openComplaints:se,sendComplaints:ce,closeComplaints:le,setCardBlocked:ue,cancelFeedback:ee}),[te,j,w,C,ee,le,se,ce,ue,oe,ae]);return i.a.createElement(Z,{className:e,mainColor:o,canBlockAndComplain:g!==S.e.FEATURING_PROMO,complaintCancelBtnShown:Boolean(!1),domainTitle:y,size:O,complaints:k,l10n:d,isMobile:u,isDislikeOptionsEnabled:h,isExtendFeedbackPopupExp:f,isOfficialComplains:v,theme:_,question:E,feedbackProps:de,disputableUrl:l,host:T})}),Z=({l10n:e,isMobile:t,className:n,mainColor:o,isDislikeOptionsEnabled:s,isExtendFeedbackPopupExp:c,isOfficialComplains:l,canBlockAndComplain:u,complaintCancelBtnShown:d,domainTitle:p,size:b,theme:m,complaints:{reasons:h,link:f},question:v,disputableUrl:g,host:y,feedbackProps:{showExtendedDislike:O,cancelFeedback:_,toggleAnswer:k,openComplaints:E,sendComplaints:j,closeComplaints:S,setCardBlocked:T,answerChecks:x,isBlocked:I,complaintsState:P}})=>{const N=Object(r.useCallback)(()=>T(!0),[T]),R=Object(r.useCallback)(()=>T(!1),[T]),L=Object(r.useMemo)(()=>g?`${f}?form-disputable_url=${encodeURIComponent(g)}`:f,[g,f]),M=e("feedback.block").replace("%domain",p),B=Object(r.useCallback)(()=>{const n=u?M:void 0,r=`${e("feedback.feedback_to_dislike_title")}.`,o=e("feedback.feedback_to_dislike_desc"),a=u?e("feedback.complain"):void 0,l=e("v2.cancel"),d=P||!a?null:{text:a,onClick:E},p=s&&Boolean(v),b=n?{text:n,onClick:N}:null,h={text:l,onClick:_};return i.a.createElement(C,{l10n:e,title:r,description:o,complainButton:d,cancelButton:h,actionButton:b,theme:m,isMobile:t,shouldShowExtendDislike:p,isHiddenCancelButton:c,isExtendFeedbackPopupExp:c,question:v,answerChecks:x,onToggleAnswer:k,onShowDislike:O})},[u,M,e,P,E,s,v,N,_,m,t,c,x,k,O]),D=Object(r.useCallback)(()=>{const n=`${e("feedback.feedback_to_block_title")}.`,r=e("feedback.feedback_to_block_desc").replace("%source",p),o=e("feedback.complain"),a=e("v2.cancel"),s=P?null:{text:o,onClick:E},l={text:a,onClick:R};return i.a.createElement(C,{l10n:e,title:n,description:r,complainButton:s,cancelButton:l,theme:m,isMobile:t,isExtendFeedbackPopupExp:c,question:v,answerChecks:x,onToggleAnswer:k,onShowDislike:O})},[x,P,p,E,R,c,t,e,O,k,v,m]),F=Object(r.useCallback)(()=>{const t=e("feedback.complain_reason"),n=e("feedback.complain_close"),r=e("feedback.complain_send"),o={text:n,onClick:S,shown:d},a={text:r,onClick:j};return i.a.createElement(A,{size:b,title:t,reasons:h,cancelButton:o,actionButton:a,theme:m,isExtendFeedbackPopupExp:c,l10n:e,complaintLink:L,isOfficialComplains:l,host:y})},[S,L,d,h,c,e,j,b,m,l,y]),V=Object(r.useCallback)(()=>{const n=e("feedback.thanks"),r=e("feedback.complained"),o=I?null:{text:M,onClick:N};return i.a.createElement(C,{l10n:e,title:n,description:r,actionButton:o,theme:m,isMobile:t,isExtendFeedbackPopupExp:c,question:v,answerChecks:x,onToggleAnswer:k,onShowDislike:O})},[e,I,M,N,m,t,c,v,x,k,O]),U=Object(r.useCallback)(()=>"opened"===P?F():"sended"===P&&!I||"sended-blocked"===P&&I?V():I?D():B(),[P,I,D,F,V,B]);return i.a.createElement(a.a,{component:r.Fragment,transitionName:"_transition",transitionEnterTimeout:400,transitionLeaveTimeout:400},c?i.a.createElement(w,{className:n,mainColor:o},U()):U())}},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return s});var r=n(253),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function b(){d===u&&(d=u.slice())}function m(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function h(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return b(),d.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,b();var n=d.indexOf(e);d.splice(n,1),u=null}}}function f(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:o.INIT}),(i={dispatch:f,subscribe:h,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,f({type:o.REPLACE})}})[r.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},i}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var l=s[o],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var b=c(l,t);throw new Error(b)}i[l]=p,r=r||p!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=u(i,t))}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{dispatch:r=m.apply(void 0,o)(n.dispatch)})}}}},function(e,t,n){"use strict";var r=n(28),i=n(126),o=n(204);const a=({feedback_info:e})=>e?e.is_liked?"liked":e.is_disliked?"disliked":null:null;var s=n(203);n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});const c=e=>({id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,statEvents:e.stat_events,source:Object(r.a)(e.source),creationTime:e.creation_time,actionTime:e.action_time,requireUserData:e.require_user_data,pos:e.pos,receiveTime:Date.now()}),l=e=>Object.assign({ad:Object(i.a)(e.ad),topAd:Object(i.a)(e.top_ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,domainTitle:e.domain_title,link:e.link,urlHash:e.url_hash,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},reactions:e.reactions?Object(s.a)(e.reactions):void 0,mainColor:e.main_color,similarLink:e.similar&&e.similar.link,read:e.read,feedback:a(e),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},c(e)),u=e=>(e.image&&e.big_card_image,Object.assign({isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:Object(o.a)(e.custom_user_feedback_data),rocket:Boolean(e.zen_logo),pixels:e.pixels},l(e)))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return h});var r=n(9),i=n(8),o=n(2),a=n(14),s=n(55),c=n(63),l=n(202);const u=({videoCards:e})=>e.interactionCardId,d=({videoModal:e})=>e.openedItemId,p=()=>Object(r.createSelector)((e,t)=>t,({videoCards:e},t)=>e.autoplayCard===t,d,e=>{const{interactionCardId:t}=e.videoCards;return t},(e,t)=>{return Object(i.w)(e,t,o.e.GIF).video.autoplay},(e,t,n,r,i)=>!(n||r&&r!==e)&&(r===e||i&&t)),b=()=>{const{is_video_cards_v2:e}=Object(s.b)(Object(c.a)());return Boolean(e)},m=()=>Object(r.createSelector)(e=>{const{isVideoCardsVersion2:t}=Object(a.a)(e);return t},b,(e,t)=>e||t),h=e=>{const{isVideoSendAdBlockToPlayer:t}=Object(a.a)(e);return!("undefined"==typeof window||!window.YandexZen)&&(Boolean(Object(l.a)(window.YandexZen.cookieOfTheDay))&&t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});const r="undefined"!=typeof window&&void 0!==window.localStorage,i=r?{isAvailable:r,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return!1}}}:{isAvailable:!1,getItem:()=>null,setItem:()=>!1,removeItem:()=>!1}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n(5),o=n(84),a=n(141);const s=e=>{const t=Object(i.f)();return Object(r.useCallback)(n=>{switch(n){case"subscribed":t(Object(o.h)(e)),t(Object(a.a)(e));break;case"blocked":t(Object(o.e)(e)),t(Object(a.a)(e));break;case"not_subscribed":t(Object(o.i)(e)),t(Object(a.a)(e))}},[t,e])}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(8),i=n(2);const o=(()=>{const e=[];return(t,n)=>{const o=Object(r.x)(t,n,[i.e.IMAGE,i.e.TEXT,i.e.GALLERY]);return o.customUserFeedbackData?o.customUserFeedbackData.questions:e}})(),a=(e,t,n)=>{return o(e,t).filter(e=>e.displayType===n)[0]},s=(e,t)=>a(e,t,"ask_on_click"),c=(e,t)=>a(e,t,"ask_on_dislike")},function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});n(10);var r=n(23),i=n(17),o=n(0),a=n.n(o),s=n(62),c=n(55);const l=()=>{const e=Object(s.c)();return Object(o.useMemo)(()=>{const t=e.getState();return t.params&&t.params.host||""},[e])},u=Object(o.forwardRef)((e,t)=>{let n=Object.assign({},e);const r=l();return a.a.createElement(d,Object(i.a)({},n,{host:r,rootRef:t}))}),d=e=>{let{target:t="_blank",href:n,rel:o="",rootRef:s,host:l}=e,u=Object(r.a)(e,["target","href","rel","rootRef","host"]);const d=new Set(o.split(/\s+/).filter(Boolean));return Boolean(n&&Object(c.b)(n).utm_referrer)&&d.add("noreferrer"),"_blank"===t&&n&&!n.includes(l)&&d.add("noopener"),a.a.createElement("a",Object(i.a)({},u,{href:n,rel:[...d.values()].join(" ")||void 0,target:t,ref:s}))}},function(e,t){},function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",function(){return i});var i=r()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(147),i=n(209);function o(e,t,n,o,a){if(void 0===a&&(a=new r.a(e,n,o)),!a.closed)return Object(i.a)(t)(a)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(15),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(32).a)},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(18);const i=e=>{const t=Object(r.e)(e),n=Object(r.d)(e);return!t&&!n},o=(e,t,n)=>i(e)&&(({type:e,feedback:t,read:n},{isSubscribedInCurrentSession:r,status:i,subscriptionForbidden:o})=>!o&&!("subscribed"===i&&!r)&&("liked"===t||Boolean(n)))(t,n)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(22);const i=e=>{Object(r.a)(()=>{window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>e()):e()})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=e=>{const t=Object(i.b)(),n=Object(r.useCallback)(({videoPos:n}={})=>{t("play",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),o=Object(r.useCallback)(({videoPos:n}={})=>{t("end",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),a=Object(r.useCallback)(({videoPos:n}={})=>{t("autoplay",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),s=Object(r.useCallback)(({videoPos:n}={})=>{t("autoplay_on",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),c=Object(r.useCallback)(({videoPos:n}={})=>{t("autoplay_off",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),l=Object(r.useCallback)(({videoPos:n}={})=>{t("replay",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),u=Object(r.useCallback)(({videoPos:n}={})=>{t("pause",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),d=Object(r.useCallback)(({videoPos:n}={})=>{t("autopause",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),p=Object(r.useCallback)(({videoPos:n,urlType:r}={})=>{t("call2action_click",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_",__service_action__:r||"__service_action__"}}))},[t,e]),b=Object(r.useCallback)(n=>t(n?"sound_off":"sound_on",e),[t,e]),m=Object(r.useCallback)(({videoPos:n,urlType:r}={})=>{t("call2action_show",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_",__service_action__:r||"__service_action__"}}))},[t,e]),h=Object(r.useCallback)(({videoPos:n}={})=>{t("sound_off",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),f=Object(r.useCallback)(({videoPos:n}={})=>{t("sound_on",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]);return{statItemVideoPlay:n,statItemVideoEnd:o,statItemVideoAutoplay:a,statItemVideoSoundToggle:b,statItemVideoHeartbeat:Object(r.useCallback)(({videoPos:n}={})=>{n&&t("heartbeat",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e]),statItemVideoReplay:l,statItemCall2ActionClick:p,statItemCall2ActionShow:m,statItemVideoPause:u,statItemVideoAutoPause:d,statItemVideoAutoplayOn:s,statItemVideoAutoplayOff:c,statItemVideoSoundOff:h,statItemVideoSoundOn:f,statItemVideoAction:Object(r.useCallback)(({videoPos:n}={})=>{n&&t("action",Object.assign({},e,{bulkReplaceMap:{_video_pos_:n||"_video_pos_"}}))},[t,e])}}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c});var r=n(9);const i=e=>e.params.clientExperiments||[],o=Object(r.createSelector)(i,e=>e.includes("zen_insert_multiple_placeholders:exp")),a=Object(r.createSelector)(i,e=>e.includes("ntp_morda_extended_zen_widget:exp")),s=Object(r.createSelector)(i,e=>e.includes("opera_teeth_only_scroll:exp")),c=Object(r.createSelector)(i,e=>e.includes("opera_teeth_click_and_scroll:exp"))},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d});n(10);var r=n(23),i=n(55),o=n(29);const a=e=>{const{ok:t,url:n,status:r,statusText:i}=e;if(!t)throw new Error(`${n} ${r} (${i})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()})(e)},s=(e,t={})=>{const{params:n,timeout:s=6e4,credentials:c="include"}=t,l=Object(r.a)(t,["params","timeout","credentials"]),u=n?Object(i.a)(e,n):e;return new Promise((e,t)=>{fetch(u,Object.assign({credentials:c},l)).then(a).then(e,t),Object(o.a)(s).then(()=>{t(new Error("Request timeout."))})})},c=(e,t={})=>s(e,Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:String(Date.now())})})),l=(e={})=>{const t=Object.assign({Accept:"application/json"},e.headers),{method:n="POST"}=e;let{body:r}=e;return t["Content-Type"]||(t["Content-Type"]="application/json",r&&"string"!=typeof r&&(r=JSON.stringify(r))),Object.assign({},e,{method:n,headers:t,body:r})},u=(e,t={})=>s(e,l(t)),d=(e,t={})=>s(e,l(t))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(15),i=n(32);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a)},function(e,t,n){"use strict";let r;n.d(t,"a",function(){return r}),function(e){e.SITE_DESKTOP="site_desktop",e.SITE_MOBILE="site_mobile",e.LIB="zen_lib",e.MODAL_LIB="zen_modal_lib",e.YABRO="desktop_browser_rezen",e.YABRO_MORDA="desktop_browser_with_morda",e.OPERA="opera_ntp",e.ZEN_APP="zen_app",e.ZEN_APP_IOS="zen_app_ios",e.SAMSUNG="samsung_mobile",e.VIBER="viber",e.LITEBRO="litebro"}(r||(r={}))},function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s});var r=n(3);const i=(e,t)=>(n,i)=>{const o=i().feed.itemsOrder.indexOf(e);n({type:r.Sb,payload:{id:e,value:t,index:o}})},o=(e,t)=>(n,i)=>{const o=i().feed.itemsOrder.indexOf(e);n({type:r.Tb,payload:{id:e,value:t,index:o}})},a=e=>({type:r.Rb,payload:{id:e}}),s=e=>({type:r.Wb,payload:e})},function(e,t,n){"use strict";n(10),n(254);var r=n(9);var i=n(14);Object(r.createSelector)(i.a,({context:e})=>{const{isZenkit:t,isIzenkit:n}=e.uatraits||{isIzenkit:!1,isZenkit:!1};return t||n},({rezenAppButton:e},t)=>{const{isEnabled:n,isYellow:r,closeTimeout:i,url:o}=e;return{isEnabled:n&&!t,isYellow:r,closeTimeout:i,url:o}});var o=n(6),a=n(29),s=n(3);n.d(t,"a",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return b}),n.d(t,"d",function(){return m});const c=e=>({type:s.db,payload:e}),l=e=>()=>(t,n)=>{const r=n(),{currentNotifierButton:i}=r.notifiers;i===e&&t(c(null))},u=l(o.i.Load),d=(l(o.i.More),l(o.i.App),l(o.i.Error)),p=()=>(e,t)=>{const n=t(),{currentNotifierButton:r,isNotifiersDisabled:i}=n.notifiers;r===o.i.Load||i||e(c(o.i.Load))},b=()=>(e,t)=>{const n=t(),{currentNotifierButton:r,isNotifiersDisabled:i}=n.notifiers;r===o.i.Error||i||(e(c(o.i.Error)),Object(a.a)(5e3).then(()=>e(d())))},m=e=>({type:s.mb,payload:e})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>{if(e)return"direct"===e.type?(e=>(e.bulk_params||console.error(`Expect bulkParams in AdCard. ${JSON.stringify(e)}`),e.stat_events||console.error("Expect statEvents in AdCard."),{type:"direct",domElemId:e.dom_elem_id,blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big,bulkParams:e.bulk_params,statEvents:e.stat_events,data:e.data,skipToken:e.skip_token}))(e):"adsense"===e.type?{type:"adsense",client:e.client,slot:e.slot,adsenseFormat:e.adsense_format,layoutKey:e.layout_key}:void 0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(10);const r=(e,t)=>{const n=Object.keys(e),r={};for(let i=0;i<n.length;i++){const o=n[i];t.includes(o)||(r[o]=e[o])}return r}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(41),i=n(34),o=n(59),a=n(57);const s=e=>{const t=Object(r.a)(e),n=Object(i.a)(()=>Object(o.a)(t));return Object(a.a)(()=>n.cancel()),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});n(10),n(371);var r=n(0),i=n.n(r),o=n(16),a=n(182),s=n(322),c=n(131),l=n(133),u=n(513);const d=Object(o.a)("card-title"),p=120,b={big:{style:"1",threshold:25},medium:{style:"2",threshold:50},small:{style:"3",threshold:0}},m={big:{style:"1",threshold:30},medium:{style:"2",threshold:45},small:{style:"3",threshold:0}},h=e=>e?m:b,f=["big","medium","small"];class v extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._composeContainerRefs=Object(a.a)(),this.state=this._calcCurrentState(this.props.title),this._containerRef=(e=>this._containerElem=e),this._clampRef=(e=>this._clamp=e),t}_calcCurrentState(e){const{isDesktop:t,availableSizeNames:n=f}=this.props,r=h(Boolean(t)),i=n.reduce((e,t)=>(e[t]=r[t],e),{});return{title:Object(l.a)(e,p),fontSize:Object(c.b)(e,{maxLength:p,maxBigWordLength:Object(l.b)(e),sizes:i},this._containerElem||void 0)}}_updateState(){return new Promise(e=>{this.setState(this._calcCurrentState(this.props.title),e)})}updateStylesAndClamp(){return this._updateState().then(()=>this._clamp&&this._clamp.clamp())}render(){const{title:e,fontSize:t}=this.state,{isDesktop:n,isMobile:r,isLetterSpacingExp:a,rootRef:c,clampComponent:l=u.a,linesLimit:p,fitToSpace:b,className:m}=this.props;return i.a.createElement(s.a,{className:o.a.mix(d({isYabroMorda:!1,isDesktop:n,isMobile:r,isLetterSpacingExp:a,fontSize:t,fitToSpace:b}),m),domRef:this._composeContainerRefs(this._containerRef,c),ref:this._clampRef,withAutoClamp:!1,component:l,linesLimit:p,fitToSpace:b},e)}}},function(e,t,n){"use strict";var r=n(133);const i={" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":26,'"':33,"%":74,"'":18,"(":36,")":36,"*":44,"+":57,",":20,"-":28,".":27,"/":42,":":25,";":22,"<":51,"=":55,">":53,"?":48,A:66,B:63,C:66,D:66,E:57,F:56,G:69,H:72,I:28,J:56,K:63,L:55,M:88,N:72,O:69,P:64,Q:69,R:62,S:60,T:61,U:65,V:65,W:90,X:64,Y:61,Z:61,"[":27,"]":28,_:46,a:55,b:57,c:53,d:57,e:53,f:36,g:57,h:56,i:25,j:24,k:51,l:25,m:88,n:56,o:58,p:57,q:57,r:37,s:52,t:35,u:56,v:49,w:76,x:50,y:48,z:50,"{":34,"}":35,"Ё":57,"А":66,"Б":64,"В":63,"Г":56,"Д":77,"Е":57,"Ж":92,"З":60,"И":72,"Й":72,"К":65,"Л":72,"М":88,"Н":72,"О":69,"П":72,"Р":64,"С":66,"Т":60,"У":63,"Ф":78,"Х":64,"Ц":74,"Ч":70,"Ш":95,"Щ":98,"Ъ":76,"Ы":88,"Ь":63,"Э":68,"Ю":90,"Я":64,"ё":53,"№":103},o={"regular-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":29,'"':42,"%":67,"'":27,"(":42,")":37,"*":46,"+":57,",":30,"-":38,".":27,"/":46,":":27,";":29,"<":57,"=":57,">":57,"?":49,"[":48,"]":43,_:41,"{":50,"}":45,"№":111,"Ё":62,"А":71,"Б":64,"В":66,"Г":56,"Д":81,"Е":62,"Ж":97,"З":62,"И":78,"Й":78,"К":66,"Л":70,"М":89,"Н":74,"О":79,"П":72,"Р":63,"С":69,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":80,"Ч":70,"Ш":97,"Щ":104,"Ъ":77,"Ы":86,"Ь":65,"Э":69,"Ю":99,"Я":66,"ё":56,"а":54,"б":60,"в":56,"г":46,"д":64,"е":56,"ж":78,"з":52,"и":62,"й":62,"к":54,"л":57,"м":74,"н":59,"о":59,"п":58,"р":62,"с":52,"т":50,"у":55,"ф":73,"х":52,"ц":66,"ч":56,"ш":81,"щ":87,"ъ":61,"ы":71,"ь":52,"э":52,"ю":78,"я":55,A:71,B:66,C:69,D:73,E:61,F:59,G:77,H:74,I:28,J:39,K:65,L:58,M:89,N:76,O:79,P:62,Q:82,R:66,S:61,T:62,U:71,V:69,W:96,X:65,Y:64,Z:62,a:54,b:62,c:50,d:61,e:54,f:39,g:60,h:59,i:25,j:31,k:50,l:25,m:90,n:59,o:58,p:62,q:64,r:38,s:50,t:38,u:58,v:54,w:80,x:51,y:55,z:47},"bold-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":31,'"':44,"%":67,"'":26,"(":48,")":43,"*":48,"+":57,",":34,"-":38,".":31,"/":49,":":31,";":33,"<":57,"=":56,">":57,"?":49,"[":53,"]":47,_:43,"{":52,"}":47,"№":112,"Ё":62,"А":72,"Б":66,"В":67,"Г":55,"Д":84,"Е":62,"Ж":99,"З":61,"И":78,"Й":78,"К":69,"Л":71,"М":89,"Н":75,"О":80,"П":74,"Р":64,"С":68,"Т":63,"У":66,"Ф":84,"Х":66,"Ц":83,"Ч":72,"Ш":97,"Щ":107,"Ъ":79,"Ы":89,"Ь":66,"Э":69,"Ю":104,"Я":68,"ё":58,"а":56,"б":61,"в":56,"г":46,"д":69,"е":58,"ж":81,"з":51,"и":62,"й":62,"к":57,"л":59,"м":75,"н":60,"о":61,"п":60,"р":65,"с":53,"т":50,"у":57,"ф":77,"х":54,"ц":69,"ч":58,"ш":82,"щ":91,"ъ":64,"ы":75,"ь":54,"э":54,"ю":82,"я":56,A:73,B:68,C:67,D:75,E:61,F:59,G:77,H:75,I:30,J:43,K:68,L:57,M:89,N:75,O:80,P:64,Q:83,R:67,S:62,T:64,U:70,V:71,W:101,X:66,Y:63,Z:64,a:56,b:65,c:52,d:64,e:58,f:43,g:64,h:61,i:28,j:34,k:55,l:27,m:91,n:61,o:60,p:65,q:68,r:42,s:49,t:42,u:60,v:55,w:84,x:54,y:57,z:50},"medium-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":33,'"':43,"%":67,"'":26,"(":46,")":40,"*":47,"+":57,",":33,"-":38,".":29,"/":48,":":29,";":32,"<":57,"=":57,">":57,"?":49,"[":51,"]":45,_:42,"{":51,"}":46,"№":112,"Ё":62,"А":71,"Б":65,"В":67,"Г":56,"Д":82,"Е":62,"Ж":98,"З":62,"И":78,"Й":78,"К":67,"Л":70,"М":89,"Н":75,"О":79,"П":73,"Р":64,"С":68,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":82,"Ч":71,"Ш":97,"Щ":105,"Ъ":78,"Ы":88,"Ь":66,"Э":69,"Ю":102,"Я":67,"ё":57,"а":55,"б":61,"в":56,"г":45,"д":67,"е":57,"ж":80,"з":51,"и":62,"й":62,"к":55,"л":58,"м":75,"н":60,"о":60,"п":59,"р":64,"с":52,"т":50,"у":56,"ф":76,"х":53,"ц":67,"ч":57,"ш":82,"щ":89,"ъ":62,"ы":73,"ь":53,"э":53,"ю":80,"я":55,A:72,B:67,C:68,D:74,E:61,F:59,G:77,H:75,I:29,J:41,K:66,L:58,M:89,N:76,O:79,P:63,Q:83,R:66,S:62,T:63,U:70,V:70,W:98,X:66,Y:64,Z:63,a:55,b:64,c:51,d:63,e:56,f:41,g:63,h:60,i:26,j:33,k:53,l:26,m:91,n:60,o:59,p:64,q:66,r:40,s:50,t:40,u:59,v:54,w:82,x:53,y:56,z:49},"logotype-ysans":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":33,'"':39,"%":66,"'":24,"(":41,")":35,"*":44,"+":56,",":29,"-":38,".":25,"/":44,":":25,";":28,"<":56,"=":56,">":56,"?":49,"[":45,"]":40,_:39,"{":48,"}":42,"№":110,"Ё":61,"А":69,"Б":62,"В":65,"Г":55,"Д":80,"Е":61,"Ж":95,"З":61,"И":76,"Й":76,"К":64,"Л":68,"М":88,"Н":74,"О":79,"П":72,"Р":61,"С":68,"Т":61,"У":65,"Ф":82,"Х":64,"Ц":80,"Ч":68,"Ш":96,"Щ":104,"Ъ":75,"Ы":83,"Ь":63,"Э":69,"Ю":98,"Я":65,"ё":55,"а":54,"б":60,"в":54,"г":45,"д":64,"е":55,"ж":76,"з":50,"и":60,"й":60,"к":51,"л":56,"м":73,"н":58,"о":59,"п":57,"р":62,"с":52,"т":49,"у":53,"ф":72,"х":50,"ц":66,"ч":55,"ш":79,"щ":87,"ъ":59,"ы":68,"ь":50,"э":52,"ю":78,"я":52,A:69,B:65,C:68,D:72,E:60,F:59,G:77,H:74,I:26,J:38,K:64,L:58,M:88,N:75,O:79,P:61,Q:83,R:65,S:59,T:61,U:71,V:68,W:99,X:64,Y:63,Z:63,a:54,b:62,c:51,d:61,e:54,f:37,g:62,h:59,i:23,j:30,k:49,l:23,m:90,n:59,o:58,p:62,q:65,r:36,s:49,t:37,u:58,v:53,w:78,x:49,y:53,z:47},"sans-serif":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":28,'"':36,"%":89,"'":20,"(":34,")":34,"*":39,"+":59,",":28,"-":34,".":28,"/":28,":":28,";":28,"<":59,"=":59,">":59,"?":56,"[":28,"]":28,_:56,"{":34,"}":34,"№":108,"Ё":67,"А":70,"Б":66,"В":67,"Г":55,"Д":71,"Е":67,"Ж":95,"З":61,"И":72,"Й":72,"К":59,"Л":68,"М":84,"Н":73,"О":78,"П":72,"Р":67,"С":74,"Т":63,"У":66,"Ф":77,"Х":67,"Ц":76,"Ч":67,"Ш":92,"Щ":96,"Ъ":82,"Ы":89,"Ь":66,"Э":73,"Ю":102,"Я":73,"ё":56,"а":58,"б":59,"в":54,"г":37,"д":59,"е":57,"ж":70,"з":49,"и":56,"й":56,"к":46,"л":59,"м":70,"н":56,"о":57,"п":55,"р":56,"с":51,"т":49,"у":52,"ф":83,"х":50,"ц":58,"ч":53,"ш":81,"щ":83,"ъ":65,"ы":72,"ь":53,"э":53,"ю":75,"я":55,A:67,B:67,C:73,D:73,E:67,F:62,G:78,H:73,I:28,J:50,K:67,L:56,M:84,N:73,O:78,P:67,Q:78,R:73,S:67,T:62,U:73,V:67,W:95,X:67,Y:67,Z:62,a:56,b:56,c:50,d:56,e:56,f:28,g:56,h:56,i:23,j:23,k:50,l:23,m:84,n:56,o:56,p:56,q:56,r:34,s:50,t:28,u:56,v:50,w:73,x:50,y:50,z:50},roboto:i,Roboto:i},a=(e,{fontSize:t,fontFamily:n,letterSpacing:r=0})=>e.split("").reduce((e,r)=>e+((e,t=14,n="sans-serif")=>{const r=o[n]||o["sans-serif"];return(r[e]||r["№"])/100*t})(r,t,n),0)+r*(e.length-1);n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});const s=(e,t,n,r)=>{const{fontSize:i,fontFamily:o,letterSpacing:s}=n;return a(e,{fontSize:i,fontFamily:o,letterSpacing:s})<t*r},c=(e,{maxLength:t,maxBigWordLength:n,sizes:i},o)=>{const a=Object(r.a)(e,t),s={length:a.length,maxWordLength:Object(r.b)(a)};return i.big&&l(s,i.big,o)&&s.maxWordLength<=n?i.big.style:i.medium&&l(s,i.medium,o)?i.medium.style:!i.xsmall||i.small&&l(s,i.small,o)?null===(c=i.small)||void 0===c?void 0:c.style:i.xsmall.style;var c},l=({length:e,maxWordLength:t},n,r)=>{const i=r?r.offsetWidth/340:1;return e<=n.threshold*i&&!(n.wordThreshold&&t>n.wordThreshold)}},function(e,t,n){"use strict";var r=n(9),i=n(18),o=n(67);var a=n(14);n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m});const s=(e,t)=>{0},c=Object(r.createSelector)(a.a,e=>e.iface.isVideoAutoplayEnabled,i.c,({isAutoplayExp:e},t,n)=>{if(n)return{autoplay:!1};const r=Object(o.a)(),i="boolean"==typeof r;let a;return"boolean"==typeof t?(a=Boolean(t),s()):e?d()?i?(a=Boolean(r),s()):(a=!0,s()):(a=!1,s()):i?(a=Boolean(r),s()):(a=!0,s()),{autoplay:a}}),l=()=>Object(r.createSelector)((e,t)=>{var n;const r=e.videoModal&&e.videoModal.videoFeed[t];return(null===(n=r.statParams)||void 0===n?void 0:n.modal.bulkParams)||r.bulkParams},(e,t)=>{var n;const r=e.videoModal&&e.videoModal.videoFeed[t];return(null===(n=r.statParams)||void 0===n?void 0:n.modal.statEvents)||r.statEvents},(e,t)=>({statEvents:t,bulkParams:e})),u=["wifi","ethernet"],d=()=>{const e="undefined"!=typeof navigator&&void 0!==navigator.connection&&navigator.connection.type;return e&&u.includes(e)},p=Object(r.createSelector)(e=>{var t;return null===(t=e.videoModal)||void 0===t?void 0:t.openedItemId},e=>{var t;return null===(t=e.videoModal)||void 0===t?void 0:t.itemsOrder},(e,t)=>{if(!e||!t)return{id:void 0,isNearLast:!1};const n=t.indexOf(e)+1;return{id:t[n],isNearLast:t.length-n<=3}}),b=Object(r.createSelector)(p,e=>{var t;return null===(t=e.videoModal)||void 0===t?void 0:t.videoFeed},({id:e},t)=>{if(e)return t[e]}),m=Object(r.createSelector)(b,e=>{if(!e)return;const{title:t,source:n,bigImage:r}=e,{title:i,feedLink:o}=n;return{title:t,image:r,channelName:i,feedLink:o}})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});const r=(e,t,n="…")=>{if(!e||"string"!=typeof e||"number"!=typeof t||t<=0)return"";const r=n.length;if(t<=r||e.length<=r)return n;if(e.length<=t)return e;const i=e.substr(0,t),o=/[\s.,:;]/;if(1===n.length){const e=i.split("").reverse().join("").match(o);if(e&&0===e.index)return`${i.slice(0,-1)}${n}`}const a=i.slice(0,-n.length),s=i.lastIndexOf(" ");return s>0?`${e.slice(0,s)}${n}`:`${a}${n}`},i=e=>e.split(/\s+/).reduce((e,t)=>Math.max(t.length,e),0)},function(e,t,n){e.exports=n(353)()},function(e,t,n){"use strict";let r;n.d(t,"a",function(){return r}),function(e){e[e.Normal=0]="Normal",e[e.Focused=1]="Focused",e[e.Unfocused=2]="Unfocused"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=e=>{const t=Object(i.a)(e),n=Object(r.useCallback)(()=>t("feedback_less",{}),[t]),o=Object(r.useCallback)(()=>t("feedback_cancel_less",{}),[t]);return Object(r.useMemo)(()=>({statItemDislike:n,statItemCancelDislike:o}),[n,o])}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(111);const i=()=>(e,t)=>{const n=t(),{search:i}=n.router.location;return e(Object(r.replace)({search:i,state:void 0}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=e=>{const t=Object(i.a)(e),n=Object(r.useCallback)(()=>t("feedback_more",{}),[t]),o=Object(r.useCallback)(()=>t("feedback_cancel_more",{}),[t]);return Object(r.useMemo)(()=>({statItemLike:n,statItemCancelLike:o}),[n,o])}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>{if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),n=e.ownerDocument&&e.ownerDocument.defaultView,r=n?n.pageYOffset:0;return t.top+r}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(10);var r=n(76);const i=200,o=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;const a=new class{loop(e){"number"==typeof this.start&&"number"==typeof this.distance&&"number"==typeof this.scrollTime&&(this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=o(this.timeElapsed,this.start,this.distance,this.scrollTime),this.container?this.container.scrollTop=this.next:window.scrollTo(0,this.next),this.timeElapsed<this.scrollTime?requestAnimationFrame(e=>{this.loop(e)}):this.end&&this.end())}scrollTo({top:e=0,animate:t=!0,container:n,scrollTime:r=i}={}){return new Promise(i=>{const o=Math.max(0,e),a=()=>{if("number"!=typeof this.start||"number"!=typeof this.distance)return;const e={scroll:o,scrollBottomEdge:o+window.innerHeight};n?n.scrollTop=this.start+this.distance:window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=e,i(o)};this.end=a,this.start=n?n.scrollTop:window.pageYOffset,this.distance=o-this.start,this.scrollTime=r,this.disableScrollEvents(),this.container=n,t?requestAnimationFrame(e=>{this.loop(e)}):(n?n.scrollTop=o:window.scrollTo(0,o),a())})}disableScrollEvents(){Object(r.c)()}enableScrollEvents(){setTimeout(()=>Object(r.e)(),500)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(40);const i=e=>{var t,n,r;if("undefined"!=typeof document)return"abr_native"===e?null===(t=window)||void 0===t?void 0:null===(n=t.yandex)||void 0===n?void 0:n.mobileZen:null===(r=window)||void 0===r?void 0:r.ZENKIT},o=e=>(t,n,{zenApi:o,zenkitApi:a})=>{const s=n(),c=Object(r.d)(s,e);if(!c)return;const{product:l}=s.params,u=i(l);u&&"onPageStatusChanged"in u?u.onPageStatusChanged(!0):a?a.channelStatusChanged({id:c.id,title:c.title,image:c.logo,link:c.feedLink,exportLink:c.feedApiLink,logoBgColor:c.logoBackgroundColor,channelType:c.type},c.type,c.status):o.invalidateCache()}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var r=n(9),i=n(2),o=n(14),a=n(18),s=n(198);const c=(e,t)=>{const{commentsData:n}=e;if(t.type!==i.e.TEXT&&t.type!==i.e.POST)return;const{commentsDocumentId:r}=t;return r&&n[r]&&"number"==typeof n[r].count?n[r]:void 0},l=e=>{if(e&&e.id&&e.state.mounted)return e.id},u=(Object(r.createSelector)(l,e=>e?{global:{__with_comment_id__:e}}:void 0),Object(r.createSelector)(o.a,a.c,e=>e.params.libType,({commentInCard:e},t,n)=>t||n&&Object(s.a)(n)?{enabled:!1,hotBubble:!1,removeSnippet:!1}:e))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(10);function r(e){if(!e)return;return Object.keys(e).reduce((t,n)=>{const{bulk_params:r,stat_events:i,links:o}=e[n];return Object.assign({},t,{[n]:{bulkParams:r,statEvents:i,links:o}})},{})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(25),i=n(52);const o=e=>{try{Object(r.c)(e);const{bulk_params:t,stat_events:n}=e;return Object(r.d)(t),Object(r.c)(n),{statEvents:Object(i.d)(n,e=>(Object(r.a)("string"==typeof e,`key '${e}' in stat_object must be string, but it's ${typeof e}`),e)),bulkParams:t}}catch(e){return console.error(e),{statEvents:{},bulkParams:""}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(26),i=new r.a(function(e){return e.complete()});function o(e){return e?function(e){return new r.a(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(15),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(32).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=({statObject:e,triggerEvent:t})=>{const n=Object(i.b)();return Object(r.useCallback)(()=>{e&&n("feedback_block",Object.assign({},e,{eventReplaceMap:{__pe__:t||"__pe__"}}))},[n,e,t])}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(10);var r=n(96),i=n(29);const o=async()=>(await Object(i.a)(200),new Promise(e=>{if(Object(r.b)()&&Object(r.c)())return void e();const t=()=>{n(),document.removeEventListener("scroll",t),document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),e()},n=Object(r.d)(e=>{e&&t()});document.addEventListener("scroll",t),document.addEventListener("mousemove",t),document.addEventListener("touchmove",t)}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{constructor(){this._subscriptions=[]}add(e,t,n,r){e.addEventListener(t,n,r);const i=()=>{e.removeEventListener(t,n,r),this._subscriptions=this._subscriptions.filter(e=>e!==i)};return this._subscriptions=this._subscriptions.concat(i),i}clear(){this._subscriptions.forEach(e=>{e()})}}},function(e,t,n){"use strict";e.exports=n(385)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});const r=["FirstVideo","SecondVideo"],i=["Visible","Init"];class o{constructor(e,t){this.counterId=r.shift(),this.timePoints={},this.isSent=!1,this.metricManager=e,this.postFix=t}sendDeltas(){const{metricManager:e}=this;(null==e?void 0:e.getTime)&&(null==e?void 0:e.sendDelta)&&this.counterId&&!this.isSent&&(i.forEach(t=>{const n=this.timePoints[t],r=n?e.getTime()-n:0,i=`${this.counterId}_${t}${this.postFix?`_${this.postFix}`:""}`;e.sendDelta(i,r)}),this.isSent=!0)}trigger(e){var t;(null===(t=this.metricManager)||void 0===t?void 0:t.getTime)&&(this.timePoints[e]=this.metricManager.getTime())}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});const r={},i=(e,t,n)=>{r[e]=r[e]||{};const i=r[e];return e=>{for(const r of t)!i[r]&&e>=r&&(i[r]=!0,n(r))}}},function(e,t,n){"use strict";var r=n(26),i=n(212),o=n(211),a=n(91);var s=n(112);var c=n(85),l=n(50),u=n(213);var d=n(214);var p=n(210);var b=n(209);function m(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(b.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return t?new r.a(function(n){var r=new l.a;return r.add(t.schedule(function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}):new r.a(Object(p.a)(e))}(e,t);if(Object(i.a)(e))return function(e,t){return t?new r.a(function(n){var r=new l.a;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}):new r.a(Object(u.a)(e))}(e,t);if(Object(o.a)(e))return Object(c.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new r.a(function(n){var r,i=new l.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[s.a](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),i}):new r.a(Object(d.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",function(){return m})},function(e,t,n){"use strict";var r=n(17),i=n(23),o=n(0),a=n.n(o),s=n(246),c=n(25),l=(n(426),n(16)),u=n(317),d=n(12),p=n.n(d),b=n(13),m=n.n(b),h=new p.a({id:"check-icon--inline",use:"check-icon--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="check-icon--inline">\n    <path d="M18 3L6 16L0 9L1 8L6 11.5L17 2L18 3Z" />\n</symbol>'}),f=(m.a.add(h),h),v=n(35),g=n(37);const y=Object(l.a)("reaction-view"),O=({uniqId:e})=>{const t=`${e}___${y("svg-clip-path")}`;return a.a.createElement("svg",{width:48,height:48},a.a.createElement("clipPath",{id:t},a.a.createElement("rect",{x:"-25.5",y:"12","transform-origin":"-25.5 12",style:{transformOrigin:"-25.5 12"},width:"15",height:"30",className:y("svg-left-clip")}),a.a.createElement("rect",{x:"-11",y:"30","transform-origin":"-11 30",style:{transformOrigin:"-11 30"},width:"50",height:"15",className:y("svg-right-clip")})),a.a.createElement("g",{"transform-origin":"0 0",style:{transformOrigin:"0 0"},transform:"rotate(-45)"},a.a.createElement("g",{clipPath:`url(#${t})`},a.a.createElement("g",{"transform-origin":"0 0",style:{transformOrigin:"0 0"},transform:"rotate(45)"},a.a.createElement(u.a,{className:y("svg"),symbol:f,width:48,height:48})))))},_=Object(o.memo)(({uniqId:e,text:t,onShow:n,shouldAnimate:r,withAnimation:i=!0})=>{const[s,c]=Object(v.a)(),[l,u]=Object(o.useState)(i);return Object(g.b)({isVisible$:c,onShow:n}),Object(o.useEffect)(()=>{r&&u(!1)},[r]),a.a.createElement("div",{ref:s,className:y({isHiddenImage:l,isShownImage:!l,withAnimation:i})},a.a.createElement("div",{className:y("image")},a.a.createElement(O,{uniqId:e})),a.a.createElement("div",{className:y("text")},t))});var k=n(56),E=n(57),C=n(34);n.d(t,"b",function(){return w}),n.d(t,"a",function(){return S});const j=({stats:e,onAnimation:t,cardFeedback:n,onRemoveFeedbackSuggest:r,onSetReactionShown:i,shownReaction:l,reactions:u,isClicked:d})=>{const[p,b]=Object(o.useState)(),m=Object(o.useRef)(!1);Object(E.a)(()=>{m.current=!0});const h=Object(o.useCallback)(n=>{r(),t();const o=u[n],a={like:e.showLikeReaction,dislike:e.showDislikeReaction,click:e.showClickReaction};!l[n]&&o?(b({type:n,text:o.title,shouldAnimate:!1,onShow:()=>{a[n]()}}),i(n)):b(e=>e&&e.type===n?e:null)},[r,t,u,e.showLikeReaction,e.showDislikeReaction,e.showClickReaction,l,i]);Object(k.a)(()=>{d&&h("click")},[d]),Object(k.a)(()=>{"liked"===n&&h("like"),"disliked"===n&&h("dislike")},[n]);const f=Object(o.useRef)(void 0),v=Object(o.useCallback)(e=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{m.current||b(e=>e&&!e.shouldAnimate?Object.assign({},e,{shouldAnimate:!0}):e)},200),Object(s.c)({values:{opacity:[0,1],translateY:[-16,0]},onUpdate:t=>{Object(c.c)(t),e.style.opacity=String(t.opacity),e.style.transform=`translateY(${t.translateY}px)`}})},[]),g=Object(C.a)(()=>String(Math.random()));return p?a.a.createElement(s.a,{key:p.type,flipId:`${g}-reaction-${p.type}`,onAppear:v,scale:!1,translate:!1,opacity:!1,spring:"noWobble"},a.a.createElement("div",null,a.a.createElement(_,{uniqId:g,shouldAnimate:p.shouldAnimate,onShow:p.onShow,text:p.text}))):null},w=Object(o.memo)(j),S=Object(o.memo)(e=>{let{log:t}=e,n=Object(i.a)(e,["id","log"]);const s=Object(o.useMemo)(()=>({showLikeReaction:()=>t("reaction_show_like"),showDislikeReaction:()=>t("reaction_show_dislike"),showClickReaction:()=>t("reaction_show_click")}),[t]);return a.a.createElement(j,Object(r.a)({stats:s},n))})},function(e,t,n){"use strict";var r=n(17),i=n(23),o=(n(444),n(0)),a=n.n(o),s=n(316),c=n(317),l=n(12),u=n.n(l),d=n(13),p=n.n(d),b=new u.a({id:"arrow--inline",use:"arrow--inline-usage",viewBox:"0 0 8 14",content:'<symbol viewBox="0 0 8 14" fill="none" id="arrow--inline">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 13.5L0.5 12.5L5 6.99999L0.5 1.5L1.5 0.5L8 6.99999L1.5 13.5Z" fill="black" />\n</symbol>'}),m=(p.a.add(b),b),h=n(33);n.d(t,"a",function(){return y});const f=Object(h.a)("call-to-action-bar"),v={s:[8,14],m:[8,15],l:[9,16]},g=e=>"string"==typeof e&&0!==e.length||void 0,y=a.a.memo(e=>{const{title:t,imageUrl:n,backgroundColor:l,isDark:u,trueColor:d,buttonText:p,description:b,channelName:h,isWrapped:y,isButtonLight:O,isShadowed:_,barSize:k="s",imageSize:E="cover",onClick:C,onCrossClick:j,state:w,isArrowButton:S,titleWeight:T}=e,x=Object(i.a)(e,["title","imageUrl","backgroundColor","isDark","trueColor","buttonText","description","channelName","isWrapped","isButtonLight","isShadowed","barSize","imageSize","onClick","onCrossClick","state","isArrowButton","titleWeight"]),A=g(l)&&(u||d?l:`linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05)), ${l}`),I=g(n)&&(u||d?`url(${n})`:`linear-gradient(rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05)), url(${n})`),P=g(I)&&{background:I,backgroundClip:"padding-box",backgroundPosition:"50%",backgroundSize:E,backgroundRepeat:"no-repeat"},N=(({state:e,onClick:t})=>t?"active"===e?"rounded-yellow":"rounded-regular":"custom")({state:w,onClick:C}),R=Object(o.useMemo)(()=>({isWrapped:y,size:k,c2aViewType:"custom"===N?"link":"action"}),[y,k,N]),L=Object.assign({},R,{isDark:u}),M=Object(o.useMemo)(()=>{if("custom"!==N)return a.a.createElement(s.a,{size:"l"===k?"new-xl":"new-l",viewType:N},p);if(S){const[e,t]=v[k];return a.a.createElement("span",{className:f("arrow-button",R)},a.a.createElement("span",null,p),a.a.createElement(c.a,{className:f("arrow-icon",R),width:e,height:t,symbol:m}))}return a.a.createElement("span",{className:f("button-container",R),style:{background:A}},a.a.createElement("span",{className:f("button",Object.assign({isDark:u&&!O},R))},p))},[A,p,N,O,u,R,S,k]);return a.a.createElement("a",Object(r.a)({className:f(Object.assign({},R,{isShadowed:_,isClickable:!!x.href}))},x),a.a.createElement("span",{className:f("background",R),style:{background:A}}),a.a.createElement("span",{className:f("container",R)},n&&a.a.createElement("span",{className:f("image",R),style:P}),a.a.createElement("span",{className:f("description",R)},a.a.createElement("span",{className:f("title",Object.assign({},L,{twoLined:"link"===R.c2aViewType?!b:!!h,weight:T}))},t),b&&a.a.createElement("span",{className:f("subtitle",L)},b),h&&a.a.createElement("span",{className:f("channel-name",L)},h)),a.a.createElement("span",{className:f("tap-zone",R),onClick:C},M),j&&a.a.createElement("button",{className:f("close",R),onClick:j})))})},function(e,t,n){"use strict";var r=n(15),i=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();n.d(t,"a",function(){return o});var o=function(e){function t(n,r){void 0===r&&(r=i.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i)},function(e,t,n){"use strict";var r=n(15),i=function(e){function t(t,n){return e.call(this)||this}return r.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(50).a);n.d(t,"a",function(){return o});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(i)},function(e,t,n){"use strict";var r=n(55);n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});const i=(e,t)=>`${e}${Object(r.c)(t)}`,o=(e,t)=>!t||((e,t)=>{const n=[e,t].map(e=>e.split(".").map(e=>parseInt(e,10))),r=n[0],i=n[1],o=Math.min(r.length,i.length);for(let e=0;e<o;e++){const t=r[e],n=i[e];if(t!==n)return t>n?1:-1}return 0})(e,t)>=0},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n(39),i=n(63),o=n(51);const a="feed_main",s="feed_native",c=e=>{if(!e)return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),"feed_undefined";const t=Object(i.c)(decodeURI(e));if(!t)return"";const n=Object(o.matchPath)(t.pathname,{path:r.b,exact:!0});if(null==n?void 0:n.params.channelId)return(e=>`feed_channel_${e}`)(n.params.channelId);const c=Object(o.matchPath)(t.pathname,{path:r.a,exact:!0});if(null==c?void 0:c.params.channelName)return(e=>`feed_channel_${e}`)(c.params.channelName);const l=Object(o.matchPath)(t.pathname,{path:r.l,exact:!0});if(null==l?void 0:l.params.interestName)return(e=>`feed_interest_${e}`)(l.params.interestName);const u=Object(o.matchPath)(t.pathname,{path:[r.c,r.e,r.d],exact:!0});if(null==u?void 0:u.params.socialProfileId)return(e=>`feed_user_${e}`)(u.params.socialProfileId);const d=Object(o.matchPath)(t.pathname,{path:[r.h,r.i],exact:!0});if(!d)return"feed_undefined";switch(d.path){case r.h:return a;case r.i:return s;default:return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),"feed_undefined"}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(77),i=n(105),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i=n(69);function o(){try{return r.apply(this,arguments)}catch(e){return i.a.e=e,i.a}}function a(e){return r=e,o}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});const r=27,i=200},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n.n(r),o=n(322),a=n(93);const s=Object(r.memo)(({isIntersecting$:e,className:t,style:n,fitToSpace:s,minLineCount:c,domRef:l,children:u})=>{const d=Object(r.useRef)(null),p=Object(r.useCallback)(()=>{d.current&&d.current.clamp()},[]);return Object(a.a)(p,e),i.a.createElement(o.a,{className:t,style:n,fitToSpace:s,minLineCount:c,domRef:l,ref:d},u)})},,function(e,t,n){"use strict";var r=n(267),i=n(261),o=n(362),a=n(191),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(363)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){e.exports=n(386)()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});const r=e=>"/"===e[e.length-1]?e.slice(0,-1):e,i=e=>"/"===e[0]?e.slice(1):e},function(e,t,n){"use strict";var r=n(355),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=b(n);i&&i!==m&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),h=c(n),f=0;f<a.length;++f){var v=a[f];if(!(o[v]||r&&r[v]||h&&h[v]||s&&s[v])){var g=p(n,v);try{l(t,v,g)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(38),i=n(3),o=n(6);const a=Object(r.a)({actionType:i.Lb,dataReducer:(e=null,t,n)=>{const r=t.payload&&t.payload.id,a=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case i.Ab:{const t=Object.assign({},e);return n===a?t.subscriptionCount++:n===r&&t.followerCount++,t}case i.Cb:case i.xb:case i.Bb:{const t=Object.assign({},e);return n===a?t.subscriptionCount--:n===r&&t.followerCount--,t}}if(n!==r)return e;switch(t.type){case i.Lb:return t.payload.status===o.a.Success?Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp}):e;case i.Kb:if(null!==e)return Object.assign({},e,{privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case i.Mb:return t.payload.profile;default:return e}}}),s=e=>Object(r.d)(a,e)},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(38),i=n(3),o=n(6);const a=Object(r.a)({actionType:i.Nb,dataReducer:(e={ids:[],sources:{}},t,n)=>{switch(t.type){case i.Nb:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==o.a.Success)return e;const r=t.payload.value;if(r){const t=r.filter(e=>"subscribed"===e.status);return{ids:t.map(({id:e})=>e),sources:t.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),Object.assign({},e.sources))}}return e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case i.Ab:{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case i.Cb:case i.xb:case i.Bb:{const n=t.payload.id,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),s=e=>Object(r.d)(a,e)},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(38),i=n(3),o=n(6);const a=Object(r.a)({actionType:i.Hb,dataReducer:(e={ids:[],sources:{}},t,n)=>{switch(t.type){case i.Hb:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==o.a.Success)return e;const r=t.payload.value;if(r){const t=r.filter(e=>"blocked"===e.status);return{ids:t.map(e=>e.id),sources:t.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),Object.assign({},e.sources))}}return e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case i.xb:{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case i.Ab:case i.Cb:case i.Bb:{const n=t.payload.id,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),s=e=>Object(r.d)(a,e)},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(38),i=n(3),o=n(6);const a=Object(r.a)({actionType:i.Ib,dataReducer:(e={ids:[],sources:{}},t,n)=>{if(n!==("payload"in t&&t.payload&&"object"==typeof t.payload&&"id"in t.payload&&t.payload.id))return e;switch(t.type){case i.Ib:{if(t.payload.status!==o.a.Success)return e;const n=t.payload.value;return n?{ids:n.map(({id:e})=>e),sources:n.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),{})}:e}case i.Ab:{const n=t.__data__&&t.__data__.selfUserId;return void 0===n?e:-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case i.Cb:case i.xb:case i.Bb:{const n=t.__data__&&t.__data__.selfUserId;if(void 0===n)return e;const r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),s=e=>Object(r.d)(a,e)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(172),i=n(90),o=n(38);const a=Object(o.b)({reducer:r.b,selector:(e,t)=>Object(i.c)(e,t).subscriptions})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(173),i=n(90),o=n(38);const a=Object(o.b)({reducer:r.b,selector:(e,t)=>Object(i.c)(e,t).blocked})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});let r;!function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.SamsungMobile=2]="SamsungMobile"}(r||(r={}));const i={[r.Desktop]:[[1,0],[.88,11],[.75,17],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]],[r.Mobile]:[[1,0],[.94,8],[.68,19],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]],[r.SamsungMobile]:[[1,0],[1,60],[.94,62.6],[.68,66.3],[.46,70],[.3,73.5],[.2,77],[.11,80.5],[.05,82],[0,100]]};function o(e,t){return`linear-gradient(to top, ${i[t].map(([t,n])=>`rgba(${e}, ${t}) ${n}%`).join()})`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(145);function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(3);const i=e=>({type:r.Vb,payload:{id:e}}),o=(e,t)=>(n,i)=>{const o=i().feed.itemsOrder.indexOf(e);n({type:r.Ub,payload:{id:e,isVisible:t,index:o}})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(298);const i=()=>{let e,t;return(...n)=>{if(t&&Object(r.a)(e,n))return t;const i=e=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r(e):r&&(r.current=e)}};return e=n,t=i,i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(131);const o=({text:e,initialContainerWidth:t,fontSize:n,fontFamily:o,isOneLineForced:a,isCommentCounterAppeared:s,toleranceWidth:c=15})=>{const[l,u]=Object(r.useState)(()=>!!a||Object(i.a)(e,t,{fontSize:n,fontFamily:o},1)),d=Object(r.useRef)(null),p=Object(r.useCallback)(()=>{a||d.current&&u(Object(i.a)(e,d.current.offsetWidth-c,{fontSize:n,fontFamily:o},1))},[a,e,c,n,o]);return Object(r.useEffect)(p,[a,p,s]),{containerRef:d,isOneLiner:l}}},function(e,t,n){"use strict";var r=n(8);n(10);class i{constructor(){this.resolve=null,this.reject=null,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}n.d(t,"a",function(){return o});const o=({privateBus:e})=>{const t=new i;let n,o,a=[],s=!1;const c=(e,t)=>{a.push([e,t]),s&&l()},l=()=>{a.some(([e,t])=>n===e&&o===t)?(e.off("feedChanged",c),t.resolve()):a=[]};return e.on("feedChanged",c),e=>(s=!0,n=Object(r.j)(e),o=Object(r.f)(e).displayedRowsNumber,l(),t.promise)}},function(e,t,n){"use strict";var r=n(15),i=n(95),o=n(26),a=n(32),s=n(50),c=n(225),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=s.a.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return Object(c.a)()(this)},t}(o.a).prototype,u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}},d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);a.a;function p(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new b(r,t));var i=Object.create(n,u);return i.source=n,i.subjectFactory=r,i}}n.d(t,"a",function(){return p});var b=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},function(e,t,n){var r;!function(t){"use strict";var i=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){this.reads=[],this.writes=[],this.raf=o.bind(t),i("initialized",this)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){i("flush");var t,n=e.writes,r=e.reads;try{i("flushing reads",r.length),c(r),i("flushing writes",n.length),c(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&s(e);if(t){if(i("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),i("flush scheduled"))}function c(e){var t;for(i("run tasks");t=e.shift();)t()}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){i("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return i("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(i("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new a;"f"=="function"[0]?void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r):"o"==(typeof e)[0]&&(e.exports=u)}("undefined"!=typeof window?window:this)},function(e){e.exports={c:"https://vk.com/share.php",b:"https://connect.ok.ru/offer",a:"https://www.facebook.com/sharer/sharer.php",d:"https://api.whatsapp.com/send"}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},,,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});n(10);const r={ru(e){if(0===e)return"zero";const t=e%100;if(t>=5&&t<=20)return"five";const n=e%10;return 1===n?"one":n>=2&&n<=4?"two":"five"},other:e=>0===e?"zero":1===e?"one":"five"},i=(e,t,n,i)=>{const o=e[(e=>{const t=r[e];return t||r.other})(t)(n)];return o?((e,t)=>e.replace("%d",t))(o,i?i(n):n.toString()):""},o=(e,{one:t,two:n,five:r,zero:i})=>({one:t?e(t):void 0,two:n?e(n):void 0,five:r?e(r):void 0,zero:i?e(i):void 0})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(e,t)=>(n=t,r)=>e(n,r)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(174),i=n(90),o=n(38);const a=Object(o.b)({reducer:r.b,selector:(e,t)=>Object(i.c)(e,t).followers})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(10);const r={timeouts:[5e3,1e4,15e3]},i=(e,t)=>{let n,i;const o=e=>{n=Object.assign({},r,e)},a=({args:t,timeouts:r=n.timeouts,withoutAction:o=!1,withoutRetries:a=!1,onTryComplete:s=(e=>{if(e.isRejected)throw e.error;return e.value})}={})=>{const c=(e=>"function"!=typeof e?()=>e:e)(t),l=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(r);let u,d,p=0,b=!1,m=!1;const h=()=>u===i,f=()=>!b&&!m,v=()=>!a&&f()&&h(),g=()=>{f()&&(d&&d(),m=!0)},y=()=>{const t=c(p);let n;return Array.isArray(t)?n=e(...t):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>s({value:e,tryNumber:p,isFulfilled:!0,isRejected:!1,isLastSession:h,abortRetries:g}),e=>s({error:e,tryNumber:p,isFulfilled:!1,isRejected:!0,isLastSession:h,abortRetries:g}))},O=e=>{if(v()){const t=l(p);if("number"==typeof t)return p++,(e=>new Promise((t,n)=>{d=(()=>{d=null,n(new Error("Retries aborted."))}),setTimeout(()=>{d=null,t()},e)}))(t).then(()=>{if(v())return y().catch(O);throw e});null!=t&&console.warn("Expected action timeout to be a number or null/undefined.")}throw e},_=o?Promise.reject(new Error("Generated error by 'withoutAction' call.")):y(),k=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(_.catch(O),()=>{b=!0});return i&&i.abortRetries(),i=u={actionResult:_,retriesResult:k,isLastSession:h,isInProgress:f,abortRetries:g}};o(t);const s=(...e)=>a({args:e});return s.startSession=a,s.setOptions=o,s}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n(58),i=n(29);const o=[1e3,3e3,15e3],a={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},s={reachGoal:()=>{}},c={},l=async e=>{const t=`yaCounter${e.id}`;return window[t]&&"function"==typeof window[t].reachGoal?(c[e.id]=window[t],window[t]):(c[e.id]||(c[e.id]=(async e=>{try{const t=(e=0)=>Object(r.a)("https://mc.yandex.ru/metrika/tag.js",{invalidate:!0}).catch(n=>{if(o[e])return Object(i.a)(o[e]).then(()=>t(e+1));throw n});return await t(),window.Ya&&window.Ya.Metrika2?new window.Ya.Metrika2(Object.assign({},a,e)):(console.warn("withMetrikaGoal: window.Ya.Metrika2 not found"),s)}catch(e){return console.warn("withMetrikaGoal: metrika load error:",e),s}})(e)),c[e.id])},u=e=>{if("undefined"==typeof window)return()=>{};const t=l({id:e});return async e=>{(await t).reachGoal(e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>!!e&&["activityDesktop","activityTablet","activityMobile"].includes(e)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=function(e,t=250,n){let r,i;return(...o)=>{const a=n||this,s=Date.now();window.clearTimeout(i),r&&s<r+t?i=window.setTimeout(()=>{r=s,e.apply(a,o)},t):(r=s,e.apply(a,o))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(3);const i=e=>({type:r.l,payload:{id:e}}),o=e=>({type:r.m,payload:{id:e}})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(51);const i=(e,...t)=>(n,i)=>{const o=i(),a=Object(r.getLocationWithPreservedSearch)(o.router.location,e);n(Object(r.push)(a,...t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>{if("undefined"!=typeof document){const t=e?`${e}=1`:atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(25);const i=e=>(Object(r.c)(e),["click","like","dislike"].reduce((t,n)=>{const i=e[n];return i?(Object(r.c)(i),Object(r.d)(i.title),Object.assign({},t,{[n]:{title:i.title}})):t},{}))},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(25),i=n(144),o=n(27);const a=e=>{Object(r.c)(e);const{id:t,type:n,text:i}=e;return Object(r.d)(t),Object(r.d)(n),Object(r.d)(i),{id:t,type:n,text:i,isChecked:!1}},s=e=>{Object(r.c)(e);const{id:t,type:n,text:o,stats:a}=e;return Object(r.d)(t),Object(r.d)(n),Object(r.d)(o),{id:t,type:n,text:o,isChecked:!1,stats:Object(i.a)(a)}},c=e=>(Object(r.c)(e),"extended_dislike_feedback"===e.type&&"ask_on_dislike"===e.display_type?(e=>{Object(r.c)(e);const{id:t,type:n,display_type:i,text:a,answers:c}=e;return Object(r.d)(t),Object(r.a)("extended_dislike_feedback"===n),Object(r.a)("ask_on_dislike"===i),Object(r.d)(a),Object(r.a)(Object(o.a)(c)),{id:t,type:n,displayType:i,text:a,answers:c.map(s)}})(e):"zoloka_interest_feedback"===e.type&&"ask_on_click"===e.display_type?(e=>{Object(r.c)(e);const{id:t,type:n,display_type:i,text:s,answers:c}=e;return Object(r.d)(t),Object(r.a)("zoloka_interest_feedback"===n),Object(r.a)("ask_on_click"===i),Object(r.d)(s),Object(r.a)(Object(o.a)(c)),{id:t,type:n,displayType:i,text:s,answers:c.map(a)}})(e):null),l=e=>{try{if(Object(o.d)(e)&&Object(o.a)(e.questions))return{questions:e.questions.map(e=>{try{return c(e)}catch(e){return console.error(e),null}}).filter(e=>Boolean(e))}}catch(e){console.error(e)}}},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(79),i=n(85),o=n(146),a=n(208);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(Object(r.a)(n)?e.pop():n=void 0,e.length){case 0:return Object(o.a)(n);case 1:return n?Object(i.a)(e,n):Object(a.a)(e[0]);default:return Object(i.a)(e,n)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(26);function i(e){var t=new r.a(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(26),i=n(207),o=n(213),a=n(214),s=n(210),c=n(211),l=n(212),u=n(205),d=n(112),p=n(91),b=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[p.a])return Object(s.a)(e);if(Object(c.a)(e))return Object(i.a)(e);if(Object(l.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[d.a])return Object(a.a)(e);var t=Object(u.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(91),i=function(e){return function(t){var n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(105),i=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.a),t}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(112),i=function(e){return function(t){for(var n=e[r.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(9),i=n(216),o=n(14);const a=["yastati","c.net"].join(""),s=["an.y","andex.ru"].join(""),c=Object(r.createSelector)(i.b,o.a,(e="",t)=>{const{pcodeSsrConfig:{pcodeSsrVer:n},pcodeLoaderBundleUrl:r,pcodeVersion:i}=t,o=i>0?String(i):"";return/[0-9]+/.test(e)?`https://${a}/partner-code-bundles/${e}/loaders/context.js`:/[0-9]+/.test(o)?`https://${a}/partner-code-bundles/${o}/loaders/context.js`:n?`https://${s}/system/context.js?pcodever=${n}`:r})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});const r=e=>e.params.pcodever,i=e=>e.params.host},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(0);const i=Object(r.createContext)(void 0),o=()=>Object(r.useContext)(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(0),n(20),n(44),n(148),n(262),n(510);const r=2500},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n(0),i=n(22),o=n(20),a=n(19),s=n(318),c=n(34);const l=({id:e,promoCardRowsCount:t,containerRef:n,title:r,domainTitle:o,statObject:s,scrollTo:l,itemIndexInRow:d,itemOrder:p,isDesktop:b})=>{const m=Object(a.b)(),h=Object(c.a)(()=>({clickTeaser:()=>m("click_teaser",s),showTeaser:()=>m("show_teaser",s)})),{onPromoCard:f,onInvalidatePromoCard:v}=u({id:e,scrollTo:l,itemIndexInRow:d,promoCardRowsCount:t,itemOrder:p,isDesktop:b});Object(i.a)(()=>(f({containerRef:n,title:r,domainTitle:o,stats:h}),()=>{v()}))},u=({id:e,scrollTo:t,itemIndexInRow:n,promoCardRowsCount:i,itemOrder:a,isDesktop:c})=>{const{outputBus:l}=Object(o.c)(),u=Object(s.b)();return{onPromoCard:Object(r.useCallback)(({containerRef:r,title:o,domainTitle:s,stats:d})=>{c&&null!==u&&!(u>=i)&&r&&r.current&&l.emit("promoCard",{id:e,scrollTo:t,title:o,itemIndexInRow:n,rowIndex:u,domainTitle:s,index:a,container:r.current,sendPreviewShow:d.showTeaser,sendPreviewClick:d.clickTeaser})},[c,u,i,l,e,t,n,a]),onInvalidatePromoCard:Object(r.useCallback)(()=>{!c||null===u||u>=i||l.emit("invalidatePromoCard",{id:e})},[c,u,i,l,e])}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=e=>Object(r.useCallback)(()=>{e&&e.forEach(e=>{const t=new Image;t.onerror=(()=>console.error(`Error while calling pixel; ${e}`)),t.src=e})},[e])},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(34),i=n(319),o=n(222);const a=(e,t)=>{const n=Object(r.a)(()=>new i.a(null));return[Object(o.b)(e=>{e.forEach(e=>n.next(e.intersectionRatio))},{threshold:e},t),n]}},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n(0),i=n(5),o=n(41),a=n(223);const s={},c=(e,t={})=>{const{root:n,rootMargin:c,threshold:l}=t,u=Object(o.a)((t,n)=>{Object(i.c)(()=>{e(t,n)})}),d=Object(r.useMemo)(()=>"undefined"!=typeof window?new IntersectionObserver(u,{root:n,rootMargin:c,threshold:l}):s,[n,c].concat(l));return Object(a.a)(d)},l=(e,t={},n=(e=>e.slice(0,1)))=>c(t=>{e(n(t))},t)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=e=>{const t=Object(r.useRef)(null);return Object(r.useCallback)(n=>{t.current&&(t.current(),t.current=null),n&&(e.observe(n),t.current=(()=>{e.unobserve(n)}))},[e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(96),i=n(320),o=n(319),a=n(34),s=n(22);const c=()=>{const[e,t]=Object(a.a)(()=>{const e=new o.a(Object(r.a)()),t=e.pipe(Object(i.a)());return[e,t]});return Object(s.a)(()=>Object(r.d)(t=>{e.next(t)})),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(15),i=n(32);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(95),i=n(22);const o=()=>{const e=new r.a;return Object(i.a)(()=>()=>{e.next(),e.complete()}),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});n(374);const r=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,i=/\S/,o=e=>0!==e.width&&0!==e.height,a=e=>{const t=(e=>{const t=[],n=e=>{const{childNodes:r}=e;for(let e=0;e<r.length;e++){const i=r[e];switch(i.nodeType){case Node.ELEMENT_NODE:n(i);break;case Node.TEXT_NODE:t.push(i)}}};return n(e),t})(e),n=[];let r="";for(let e=0;e<t.length;e++){const i=t[e],o=r+i.nodeValue;n.push({node:i,startIndex:r.length,endIndex:o.length}),r=o}return{textContent:r,createRange:(e,t)=>{let r=void 0,i=void 0;for(let o=0;o<n.length;o++){const a=n[o];if(!r&&e>=a.startIndex&&e<a.endIndex&&(r=a),!i&&t<=a.endIndex&&t>a.startIndex&&(i=a),r&&i){const n=document.createRange();return n.setStart(r.node,e-r.startIndex),n.setEnd(i.node,t-i.startIndex),n}}return null}}};var s;!function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(s||(s={}));const c=(e,t,n)=>{let r=void 0,i=void 0;e===s.horizontal?(r="left",i="right"):(r="top",i="bottom");const o=t[r]-n[r],a=n[i]-t[i];let c=0;return o<0&&(c+=o),a<0&&(c+=a),!(c<0)||Math.abs(c)<=(1-.8)*t.height},l=(e,{textContent:t,createRange:n})=>{let o=null,a=null;const l=()=>{const u=a?a.valueEndIndex:0,d=null===o?r:i,p=t.slice(u).match(d);if(!p)return{done:!0};const b=p[0],m=u+p.index,h=m+b.length,f=n(m,h);if(!f)return l();let v=void 0;if(null===o){const e=f.getClientRects();if(e.length>1)return o=h,l();v=e[0]}else h>=o&&(o=null),v=f.getBoundingClientRect();const g=a?a.index+1:0,y=a?((e,t)=>{return e.top===t.rect.top&&e.bottom===t.rect.bottom?t.lineIndex:t.lineIndex+1})(v,a):0,O=((e,t)=>c(s.horizontal,e,t)&&c(s.vertical,e,t))(v,e);return{value:a={value:b,valueStartIndex:m,valueEndIndex:h,index:g,lineIndex:y,isVisible:O,rect:v},done:!1}};return{next:l,[Symbol.iterator]:()=>({next:l})}},u=({containerElem:e,textElem:t,onlyVisibleTokens:n=!1,linesLimit:r})=>{const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(!o(i)||!o(s))return null;const c=a(t),u=l(i,c),d=[],p=[];let b=null,m=!0;for(const e of u){if(!p[e.lineIndex]&&r&&p.length===r)break;if(e.isVisible)b=e;else if(m=!1,n)break;d.push(e),p[e.lineIndex]||(p[e.lineIndex]=[]),p[e.lineIndex].push(e)}return{containerElem:e,containerRect:i,textElem:t,textRect:s,onlyVisibleTokens:n,tokens:d,lines:p,lastVisibleToken:b,isTextFits:m}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=n(6);const o=()=>{},a=({setStatus:e,status:t,onUnsubscribe:n=o,onSubscribe:a=o})=>Object(r.useCallback)(()=>{switch(t){case"subscribed":n(),e(i.u.NOT_SUBSCRIBED);break;case"blocked":case"not_subscribed":a(),e(i.u.SUBSCRIBED)}},[a,n,e,t])},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(57);const o=({animationClass:e,animateReloadDuration:t})=>{const[n,o]=Object(r.useState)(!1),a=Object(r.useRef)(null),s=Object(r.useCallback)(()=>{null===a.current&&(o(!0),a.current=window.setTimeout(()=>{o(!1),a.current=null},t))},[t]);return Object(i.a)(()=>a.current&&window.clearTimeout(a.current)),[n?e:"",s]}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=e=>{const t=Object(i.b)();return Object(r.useCallback)(()=>{e&&t("complain_show",e)},[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);class i extends r.Component{constructor(...e){var t;return t=super(...e),this.state={hasError:!1},t}componentDidCatch(e){const{onCatch:t=console.error}=this.props;t(e),this.setState({hasError:!0})}render(){const{children:e,errorView:t}=this.props,{hasError:n}=this.state;return n?t:e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(45),i=n(46);const o=Object(r.a)(Object(i.a)({chunkName:()=>"feedback",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.resolve().then(n.bind(null,288)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 288}}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});const r={},i=e=>{r[e]=r[e]||{lastAcc:0,totalAcc:0};const t=r[e];return e=>(e<t.lastAcc?t.totalAcc+=e:t.totalAcc+=e-t.lastAcc,t.lastAcc=e,t.totalAcc)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});n(10);var r=n(3);const i={activeCard:{id:null,paused:!1,muted:!0,isAdVisible:!1},interactionCardId:null,visibleCardIndices:{},intersectingCardIndices:{}},o=(e,t,n)=>{const r=e[n],{id:i,index:o,value:a}=t.payload,s=Object.assign({},r);return a?s[i]=o:delete s[i],Object.assign({},e,{[n]:s})},a=(e=i,t)=>{switch(t.type){case r.Tb:{const n=o(e,t,"visibleCardIndices"),{id:r,value:a,index:s}=t.payload,{visibleCardIndices:c}=n,{interactionCardId:l,activeCard:u}=e,{isAdVisible:d}=u;if(!l&&!d){if(!a&&u.id===r)return Object.assign({},n,{activeCard:Object.assign({},i.activeCard)});const e=s===Math.min(...Object.values(c));if(a&&e)return Object.assign({},n,{activeCard:Object.assign({},i.activeCard,{id:r})})}return n}case r.Sb:{const n=o(e,t,"intersectingCardIndices"),{interactionCardId:r}=e,{id:i,value:a}=t.payload;return a||i!==r?n:Object.assign({},n,{interactionCardId:null})}case r.Rb:return Object.assign({},e,{interactionCardId:t.payload.id});case r.Wb:return Object.assign({},e,{activeCard:t.payload});case r.Vb:return e.autoplayCard===t.payload.id?e:Object.assign({},e,{autoplayCard:t.payload.id});default:return e}}},function(e,t,n){"use strict";var r=n(304),i=n.n(r),o=n(55),a=n(0),s=n.n(a),c=n(52),l=n(16),u=n(12),d=n.n(u),p=n(13),b=n.n(p),m=new d.a({id:"facebook--inline",use:"facebook--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="facebook--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.44 18V8.996H4V6h2.44V3.89C6.44 1.862 7.607 0 10.74 0c1.268 0 2.21.117 2.21.117v2.759s-1.332-.009-2.21-.009c-.88 0-1.281.564-1.281 1.397V6H13l-.423 2.996H9.458V18H6.441z" /></symbol>'}),h=(b.a.add(m),m),f=new d.a({id:"instagram--inline",use:"instagram--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="instagram--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9 14C11.7614 14 14 11.7614 14 9C14 6.23858 11.7614 4 9 4C6.23858 4 4 6.23858 4 9C4 11.7614 6.23858 14 9 14ZM9 12C10.6569 12 12 10.6569 12 9C12 7.34315 10.6569 6 9 6C7.34315 6 6 7.34315 6 9C6 10.6569 7.34315 12 9 12Z" />\n    <path d="M14 5C14.5523 5 15 4.55228 15 4C15 3.44772 14.5523 3 14 3C13.4477 3 13 3.44772 13 4C13 4.55228 13.4477 5 14 5Z" />\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5 0C2.23858 0 0 2.23858 0 5V13C0 15.7614 2.23858 18 5 18H13C15.7614 18 18 15.7614 18 13V5C18 2.23858 15.7614 0 13 0H5ZM13 2H5C3.34315 2 2 3.34315 2 5V13C2 14.6569 3.34315 16 5 16H13C14.6569 16 16 14.6569 16 13V5C16 3.34315 14.6569 2 13 2Z" />\n</symbol>'}),v=(b.a.add(f),f),g=new d.a({id:"livejournal--inline",use:"livejournal--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="livejournal--inline"><path d="M10.408 16.896a8.009 8.009 0 005.825-4.433c1.834-3.861.27-8.497-3.524-10.454a7.998 7.998 0 00-4.676-.834c-.623.082-1.47.296-1.897.479l-.248.106 3.236 3.227 3.235 3.228-.388.19c-1.468.72-2.802 2.06-3.568 3.584a4.879 4.879 0 01-.178.336c-.012.012-1.47-1.421-3.239-3.187L1.77 5.93l-.074.145c-.112.222-.324.893-.44 1.39-.163.707-.19 2.108-.055 2.897A7.989 7.989 0 005.753 16.3c.72.328 1.474.528 2.58.686.304.044 1.663-.015 2.075-.09zm1.441-3.764c-.733-.155-1.348-.296-1.366-.314-.099-.1.519-1.023.983-1.47.52-.5 1.315-.997 1.367-.855.012.035.156.709.318 1.497l.294 1.434-.131-.005c-.073-.003-.732-.132-1.465-.287zM1.981 5.439c.748-1.478 2.053-2.767 3.583-3.538l.31-.155-.876-.873L4.123 0l-.27.135C2.3.912.983 2.211.225 3.717L0 4.164l.866.865c.477.476.87.865.876.865.005 0 .113-.205.239-.455z" /></symbol>'}),y=(b.a.add(g),g),O=new d.a({id:"medium--inline",use:"medium--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="medium--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1h8a4 4 0 014 4v8a4 4 0 01-4 4H5a4 4 0 01-4-4V5a4 4 0 014-4zm.081 5.13a.395.395 0 01.129.334v4.51a.519.519 0 01-.138.447L4 12.721v.171h3.039v-.171l-1.072-1.3a.538.538 0 01-.147-.448v-3.9l2.667 5.82h.31l2.29-5.82v4.638c0 .124 0 .148-.08.23l-.824.8v.17h4v-.17l-.795-.782a.238.238 0 01-.09-.228V5.992a.238.238 0 01.09-.228l.815-.781v-.171h-2.82l-2.01 5.014-2.286-5.014H4.129v.17l.952 1.149z" /></symbol>'}),_=(b.a.add(O),O),k=new d.a({id:"odnoklassniki--inline",use:"odnoklassniki--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="odnoklassniki--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.977 10c-2.736-.01-4.98-2.274-4.963-5.011A5.011 5.011 0 019.037 0c2.768.007 4.99 2.27 4.976 5.065C14 7.795 11.742 10.009 8.978 10zm2.486-5.004a2.437 2.437 0 00-2.446-2.442 2.44 2.44 0 00-2.452 2.471A2.437 2.437 0 009.03 7.448a2.432 2.432 0 002.433-2.452z" /><path d="M3.874 12.51c.763.59 1.608.958 2.522 1.189l-1.981 2.048c-.231.239-.397.505-.414.853-.024.515.286 1.027.771 1.27.457.23.926.158 1.32-.244.878-.894 1.75-1.793 2.609-2.706.215-.228.332-.277.575-.015.562.608 1.14 1.2 1.716 1.793.282.29.563.578.843.87.222.23.473.396.795.42.507.035 1.024-.3 1.256-.81.211-.467.13-.964-.253-1.366a626.286 626.286 0 00-2.054-2.132c.342-.078.674-.166.916-.26.827-.317 1.571-.772 2.19-1.401.403-.41.407-.926.08-1.454-.286-.463-.784-.657-1.318-.522a2.05 2.05 0 00-.733.376c-2.238 1.49-5.3 1.448-7.528-.068a2.423 2.423 0 00-.343-.201c-.619-.289-1.213-.154-1.568.349-.414.587-.361 1.157.162 1.655.109.103.228.195.348.287l.09.068z" /></symbol>'}),E=(b.a.add(k),k),C=new d.a({id:"pinterest--inline",use:"pinterest--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="pinterest--inline"><path d="M9 0a9 9 0 00-3.613 17.243c-.025-.629-.004-1.383.157-2.066l1.158-4.904s-.288-.575-.288-1.425c0-1.333.773-2.329 1.736-2.329.818 0 1.214.615 1.214 1.35 0 .824-.525 2.054-.795 3.194-.225.955.479 1.734 1.42 1.734 1.706 0 2.854-2.19 2.854-4.785 0-1.972-1.328-3.449-3.745-3.449-2.73 0-4.43 2.036-4.43 4.31 0 .784.231 1.337.593 1.765.167.197.19.276.13.501-.044.166-.143.565-.184.723-.06.228-.244.31-.45.226-1.257-.514-1.843-1.89-1.843-3.439 0-2.556 2.156-5.622 6.432-5.622 3.435 0 5.697 2.487 5.697 5.156 0 3.53-1.962 6.168-4.855 6.168-.972 0-1.886-.526-2.2-1.122 0 0-.522 2.074-.632 2.474-.19.694-.565 1.388-.906 1.928A9 9 0 0018 9 9 9 0 009 0z" /></symbol>'}),j=(b.a.add(C),C),w=new d.a({id:"reddit--inline",use:"reddit--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="reddit--inline"><path d="M10.999 11.722c.107.107.107.211 0 .312-.415.415-1.082.622-1.999.622s-1.584-.207-1.999-.623c-.107-.1-.107-.204 0-.31.04-.041.09-.061.15-.061.061 0 .111.02.151.06.322.328.888.492 1.698.492.804 0 1.37-.164 1.697-.492.04-.04.09-.06.151-.06.06 0 .11.02.15.06zM7.915 9.904a.862.862 0 01-.261.633.862.862 0 01-.633.261.879.879 0 01-.638-.261.854.854 0 01-.266-.633c0-.254.089-.469.266-.643A.879.879 0 017.021 9c.248 0 .459.089.633.266.174.178.261.39.261.638zm3.968 0a.853.853 0 01-.266.633.878.878 0 01-.638.261.862.862 0 01-.633-.261.862.862 0 01-.261-.633c0-.248.087-.46.261-.638A.854.854 0 0110.979 9c.248 0 .46.087.638.261a.865.865 0 01.266.643zm2.521-1.205c0-.328-.117-.61-.351-.844a1.163 1.163 0 00-.854-.352c-.335 0-.623.12-.864.362-.87-.603-1.912-.924-3.124-.964l.633-2.843 2.009.452c0 .248.087.459.26.633a.862.862 0 00.634.261.87.87 0 00.637-.266.87.87 0 00.267-.638.87.87 0 00-.267-.638.87.87 0 00-.637-.266c-.362 0-.63.167-.804.502l-2.22-.492c-.127-.033-.21.02-.25.16l-.694 3.135c-1.205.047-2.24.371-3.104.974a1.154 1.154 0 00-.874-.372c-.334 0-.62.118-.853.352a1.15 1.15 0 00-.352.844 1.197 1.197 0 00.683 1.085c-.04.18-.06.368-.06.562 0 .95.468 1.764 1.406 2.44.938.677 2.066 1.015 3.385 1.015 1.326 0 2.458-.338 3.395-1.014.938-.677 1.406-1.49 1.406-2.441a2.13 2.13 0 00-.07-.573 1.19 1.19 0 00.663-1.074zM18 9a8.797 8.797 0 01-.713 3.495 9.04 9.04 0 01-1.919 2.873 9.04 9.04 0 01-2.873 1.919A8.797 8.797 0 019 18a8.797 8.797 0 01-3.496-.713 9.04 9.04 0 01-2.872-1.919 9.042 9.042 0 01-1.919-2.873A8.798 8.798 0 010 9c0-1.219.238-2.384.713-3.496a9.041 9.041 0 011.919-2.872A9.041 9.041 0 015.504.713 8.798 8.798 0 019 0c1.219 0 2.384.238 3.495.713a9.042 9.042 0 012.873 1.919 9.04 9.04 0 011.919 2.872A8.797 8.797 0 0118 9z" /></symbol>'}),S=(b.a.add(w),w),T=new d.a({id:"telegram--inline",use:"telegram--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="telegram--inline"><path d="M17.95 3.295l-2.73 11.837c-.107.421-.294.694-.562.818-.24.1-.549.05-.923-.148l-4.136-2.83L7.59 14.76c-.134.124-.24.211-.321.26a1.068 1.068 0 01-.522.113l.321-3.909 7.67-6.44c.106-.074.133-.136.08-.185-.027-.075-.107-.1-.241-.075a.76.76 0 00-.362.112L4.74 10.18.645 8.99c-.455-.124-.67-.31-.643-.559.027-.248.308-.471.843-.67l15.941-5.695c.402-.124.723-.074.964.15.24.198.308.558.2 1.079z" /></symbol>'}),x=(b.a.add(T),T),A=new d.a({id:"tumblr--inline",use:"tumblr--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="tumblr--inline"><path d="M14.751 16.11v-2.543c-.823.552-1.624.825-2.402.825-.367 0-.777-.116-1.236-.34-.274-.187-.435-.391-.483-.62-.136-.276-.22-.871-.22-1.79v-4.05h3.693V5.13H10.41V1H8.23c-.184.962-.367 1.647-.552 2.06-.226.504-.593.962-1.096 1.373-.506.414-1.03.71-1.582.892v2.267h1.718v5.564c0 .64.09 1.187.275 1.646.136.367.41.732.825 1.099.32.322.777.596 1.373.825.732.184 1.37.274 1.922.274.64 0 1.236-.069 1.785-.206a7.08 7.08 0 001.853-.684z" /></symbol>'}),I=(b.a.add(A),A),P=new d.a({id:"twitter--inline",use:"twitter--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="twitter--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.997 5.068a3.352 3.352 0 001.533-1.827 7.227 7.227 0 01-2.215.802A3.577 3.577 0 0012.77 3c-1.926 0-3.488 1.478-3.488 3.302 0 .259.03.51.09.752-2.898-.137-5.468-1.452-7.188-3.45a3.153 3.153 0 00-.473 1.66c0 1.146.616 2.157 1.552 2.749a3.624 3.624 0 01-1.58-.413v.041c0 1.6 1.202 2.934 2.798 3.238a3.68 3.68 0 01-1.576.057c.444 1.311 1.732 2.266 3.259 2.293a7.251 7.251 0 01-4.332 1.413c-.282 0-.56-.015-.832-.046C2.544 15.533 4.377 16 6.346 16c6.416 0 9.924-4.952 9.924-9.315a9.04 9.04 0 00-.01-.427A6.888 6.888 0 0018 4.548a7.28 7.28 0 01-2.003.52z" /></symbol>'}),N=(b.a.add(P),P),R=new d.a({id:"viber--inline",use:"viber--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="viber--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.863.738c.78.305 1.384.645 1.81 1.02.78.68 1.335 1.722 1.666 3.129.331 1.523.367 3.363.107 5.52-.213 1.71-.863 3.011-1.951 3.902-.591.468-1.36.82-2.306 1.054l-.212.035c-.355.118-.923.223-1.703.317-1.23.164-2.46.2-3.689.105-.496.54-.851.926-1.064 1.16l-.284.317c-.26.281-.449.469-.567.562a.77.77 0 01-.674.106.536.536 0 01-.32-.281 1.851 1.851 0 01-.106-.387v-2.04c-1.3-.35-2.305-1.03-3.015-2.038-.52-.797-.863-1.805-1.028-3.024C.408 9.492.373 8.555.42 7.383.444 6.14.586 5.086.846 4.219c.284-.961.733-1.746 1.348-2.356.544-.492 1.253-.89 2.128-1.195.686-.234 1.466-.41 2.341-.527C7.278.047 7.904 0 8.543 0h.78c1.75.023 3.263.27 4.54.738zm-2.77 6.578c.164 0 .246-.08.246-.242-.047-1.015-.576-1.545-1.588-1.591-.141 0-.223.08-.247.242 0 .138.07.208.212.208.73.046 1.118.438 1.165 1.176 0 .138.07.207.211.207zm.282-1.73c.47.508.694 1.13.67 1.869 0 .161.071.242.212.242.165 0 .247-.07.247-.208.024-.876-.247-1.614-.812-2.214-.54-.6-1.306-.934-2.294-1.003-.141 0-.223.08-.247.242 0 .139.07.208.212.208.87.069 1.541.357 2.012.865zm2.082 2.56c.165 0 .247-.069.247-.207 0-1.476-.459-2.652-1.376-3.529-.87-.853-1.977-1.28-3.318-1.28-.165 0-.247.081-.247.243 0 .138.082.207.247.207 1.2 0 2.188.37 2.965 1.107.847.807 1.27 1.891 1.27 3.252 0 .138.071.208.212.208zm-.918 4.083c.283-.208.542-.508.777-.9.165-.323.118-.6-.141-.83-.424-.392-.965-.761-1.624-1.107a.626.626 0 00-.53-.104.585.585 0 00-.388.208l-.352.415a.478.478 0 01-.318.173l-.177.034a3.713 3.713 0 01-1.447-.726 3.66 3.66 0 01-.918-.969 4.38 4.38 0 01-.458-.865l-.142-.38v-.173a.464.464 0 01.177-.311l.423-.312a.567.567 0 00.212-.38.767.767 0 00-.07-.554c-.189-.323-.365-.6-.53-.83l-.635-.761c-.235-.254-.518-.3-.847-.138-.4.23-.718.484-.953.76-.26.37-.341.716-.247 1.038l.211.45c.165.438.412.946.742 1.522.33.554.682 1.073 1.059 1.557a8.75 8.75 0 001.482 1.453c.541.415 1.2.83 1.977 1.245.706.37 1.259.611 1.659.727.33.115.682.034 1.059-.242z" /></symbol>'}),L=(b.a.add(R),R),M=new d.a({id:"vimeo--inline",use:"vimeo--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="vimeo--inline"><path d="M1 5.799l.65.852s1.34-1.056 1.787-.528c.447.528 2.152 6.904 2.721 8.081.497 1.032 1.868 2.397 3.37 1.422 1.503-.975 6.498-5.24 7.392-10.275.894-5.035-6.011-3.98-6.742.406 1.828-1.097 2.804.446 1.868 2.194-.934 1.745-1.787 2.884-2.233 2.884-.446 0-.79-1.168-1.3-3.21-.529-2.111-.525-5.913-2.72-5.482C3.72 2.549 1 5.799 1 5.799z" /></symbol>'}),B=(b.a.add(M),M),D=new d.a({id:"vkontakte--inline",use:"vkontakte--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="vkontakte--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.923 11.062c1.126 1.224 1.869 2.22 1.916 2.301.597 1.014-.66 1.09-.66 1.09l-2.402.037s-.518.105-1.198-.375c-.9-.627-1.746-2.267-2.41-2.057-.668.219-.648 1.697-.648 1.697s.004.259-.147.428c-.165.178-.49.162-.49.162H8.806s-2.375.202-4.466-2.024C2.06 9.893.05 5.106.05 5.106s-.115-.303.008-.457c.142-.17.53-.177.53-.177l2.572-.013s.24.045.415.174c.142.105.225.307.225.307s.415 1.079.964 2.048c1.075 1.9 1.577 2.315 1.94 2.113.534-.299.372-2.682.372-2.682s.012-.869-.269-1.257c-.213-.295-.616-.383-.798-.408-.146-.02.095-.363.403-.517.462-.23 1.28-.246 2.244-.234.751.008.969.056 1.261.13.89.217.589 1.062.589 3.09 0 .65-.115 1.563.344 1.866.197.13.68.02 1.88-2.072.574-.994 1-2.158 1-2.158s.095-.21.242-.299c.15-.088.351-.06.351-.06l2.707-.02s.81-.097.945.278c.138.392-.305 1.313-1.411 2.82-1.818 2.472-1.766 2.26-.64 3.484z" /></symbol>'}),F=(b.a.add(D),D),V=new d.a({id:"whatsapp--inline",use:"whatsapp--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="whatsapp--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.688.645a8.78 8.78 0 012.77 1.822c.81.809 1.429 1.732 1.859 2.77A7.682 7.682 0 0118 8.424a7.96 7.96 0 01-1.176 4.212 8.437 8.437 0 01-3.112 3.074A8.16 8.16 0 019.5 16.848a8.201 8.201 0 01-4.022-1.024L1 17l1.214-4.364a8.16 8.16 0 01-1.138-4.212 8.16 8.16 0 011.138-4.212 8.524 8.524 0 013.074-3.074A8.16 8.16 0 019.5 0c1.113 0 2.176.215 3.188.645zm-.566 8.892c.222.081.747.325 1.576.732l.124.082c.194.08.305.149.332.203.028.054.028.19 0 .407 0 .216-.055.447-.166.69-.083.218-.304.448-.663.692-.332.217-.622.34-.87.366-.388.055-.761.055-1.12 0-.415-.081-.968-.27-1.659-.569-1.41-.597-2.695-1.708-3.856-3.335l-.083-.081c-.608-.84-.912-1.614-.912-2.318 0-.705.249-1.315.746-1.83l.042-.041c.193-.19.4-.285.622-.285h.497c.11 0 .194.027.249.081.083.027.152.122.207.285l.705 1.668c.083.162.097.298.042.406a2.803 2.803 0 01-.54.732.801.801 0 00-.207.285c-.027.054 0 .122.083.203.387.705.843 1.261 1.369 1.668.387.298.967.637 1.741 1.017.221.108.387.094.498-.041.359-.407.608-.705.746-.895.055-.108.124-.163.207-.163.083 0 .18.014.29.041z" /></symbol>'}),U=(b.a.add(V),V),z=new d.a({id:"youtube--inline",use:"youtube--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="youtube--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.105 3.507c.54.583.715 1.907.715 1.907S18 6.968 18 8.522v1.456c0 1.554-.18 3.108-.18 3.108s-.176 1.323-.715 1.905c-.618.689-1.302.76-1.688.8l-.116.014c-2.519.193-6.301.2-6.301.2s-4.68-.046-6.12-.194a3.816 3.816 0 00-.244-.036c-.456-.059-1.172-.15-1.74-.785-.54-.582-.716-1.905-.716-1.905S0 11.532 0 9.977V8.521c0-1.553.18-3.107.18-3.107S.356 4.09.895 3.507c.62-.691 1.418-.773 1.804-.812.04-.004-.034.004 0 0C5.217 2.5 8.995 2.5 8.995 2.5h.009s3.778 0 6.297.195l.112.012c.386.04 1.072.109 1.692.8zm-4.726 5.745l-5.627 3.376V5.876l5.627 3.376z" /></symbol>'}),H=(b.a.add(z),z),$=new d.a({id:"copy--inline",use:"copy--inline-usage",viewBox:"0 0 20 20",content:'<symbol viewBox="0 0 20 20" id="copy--inline"><path d="M8.536 1.464a5 5 0 1 0-7.072 7.072L2.88 9.95a5.001 5.001 0 0 0 5.362 1.12l-1.66-1.66a2.993 2.993 0 0 1-2.288-.874L2.879 7.12A3 3 0 0 1 7.12 2.88l1.415 1.414c.628.628.92 1.466.874 2.288l1.66 1.66A5.001 5.001 0 0 0 9.95 2.88L8.536 1.464zM11.464 18.535a5 5 0 1 0 7.071-7.07l-1.414-1.415a5.001 5.001 0 0 0-5.362-1.12l1.66 1.66a2.993 2.993 0 0 1 2.288.874l1.414 1.415a3 3 0 1 1-4.242 4.242l-1.415-1.414a2.992 2.992 0 0 1-.874-2.288l-1.66-1.66a5.001 5.001 0 0 0 1.12 5.362l1.414 1.415z" /><path d="M14.707 13.293l-8-8-1.414 1.414 8 8 1.414-1.414z" /></symbol>'}),W=(b.a.add($),$);const q=Object(l.a)("social-icon"),G={facebook:h,instagram:v,livejournal:y,medium:_,ok:E,pinterest:j,reddit:S,telegram:x,tumblr:I,twitter:N,viber:L,vimeo:B,vk:F,whatsapp:U,youtube:H,copy:W},K=Object(c.c)(G,e=>({className:t,svgClassName:n})=>s.a.createElement("div",{className:l.a.mix(q({isSocial:!0}),t)},s.a.createElement("svg",{className:l.a.mix(q("content"),n),viewBox:e.viewBox},s.a.createElement("use",{xlinkHref:`#${e.id}`}))));var Y=n(187);n.d(t,"a",function(){return X});const Z=(e,t)=>`${e}${Object(o.c)(t)}`,Q={copy:{onClick:i.a,icon:K.copy,tooltipText:e=>e?"desktop.share.copied":"desktop.share.copy",isVisibleTextMobile:!0},facebook:{shareLink:(e,t)=>Z(Y.a,{u:e,title:t}),icon:K.facebook,tooltipText:"desktop.share.facebook",color:"#456DB0",isVisibleTextMobile:!1},ok:{shareLink:(e,t)=>Z(Y.b,{url:e,title:t}),icon:K.ok,tooltipText:"desktop.share.ok",color:"#EE820A",isVisibleTextMobile:!1},vk:{shareLink:(e,t,n)=>{const r={url:e,title:t};return n&&(r.image=n),Z(Y.c,r)},icon:K.vk,tooltipText:"desktop.share.vk",color:"#5281B7",isVisibleTextMobile:!1},whatsapp:{shareLink:(e,t)=>Z(Y.d,{text:`${t} ${e}`}),icon:K.whatsapp,color:"#2cb742",isVisibleTextMobile:!1}},X=e=>e.map(e=>Object.assign({type:e},Q[e]))},function(e,t,n){"use strict";n(367);var r=n(0),i=n.n(r),o=n(16),a=n(54),s=(n(369),n(12)),c=n.n(s),l=n(13),u=n.n(l),d=new c.a({id:"rocket--inline",use:"rocket--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="rocket--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'}),p=(u.a.add(d),d),b=new c.a({id:"icon_interest--inline",use:"icon_interest--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="icon_interest--inline">\n    <path d="M23 12.21v-.42c-4.4-.172-6.649-.505-8.488-2.302C12.716 7.65 12.382 5.401 12.21 1h-.42c-.172 4.4-.505 6.649-2.302 8.488C7.648 11.285 5.4 11.618 1 11.79v.42c4.4.172 6.649.505 8.488 2.301 1.796 1.84 2.13 4.088 2.302 8.489h.42c.172-4.4.505-6.65 2.302-8.489 1.84-1.796 4.088-2.129 8.488-2.3z" />\n</symbol>'}),m=(u.a.add(b),b),h=new c.a({id:"icon_subscribed--inline",use:"icon_subscribed--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="icon_subscribed--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.837 6.79L9.607 18.684l-5.45-5.905 1.69-1.56 3.78 4.095L19.164 5.21l1.672 1.578z" />\n</symbol>'}),f=(u.a.add(h),h),v=new c.a({id:"icon_new_subscription--inline",use:"icon_new_subscription--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="icon_new_subscription--inline">\n    <path d="M8 4.657v-.314c-1.138-.103-1.839-.321-2.437-.906C4.978 2.84 4.76 2.138 4.657 1h-.314c-.103 1.138-.321 1.839-.906 2.437-.598.585-1.299.803-2.437.906v.314c1.138.103 1.839.321 2.437.905.585.599.803 1.3.906 2.438h.314c.103-1.138.321-1.84.906-2.438C6.16 4.979 6.862 4.76 8 4.657zM20.836 6.79L9.606 18.684 4.155 12.78l1.69-1.56 3.78 4.095L19.164 5.21l1.672 1.578zM22 18.343v.314c-1.138.103-1.839.321-2.437.905-.585.599-.803 1.3-.906 2.438h-.314c-.103-1.138-.321-1.84-.906-2.438-.598-.584-1.299-.802-2.437-.905v-.314c1.138-.103 1.839-.321 2.437-.906.585-.598.803-1.299.906-2.437h.314c.103 1.138.321 1.839.906 2.437.598.585 1.299.803 2.437.906z" />\n</symbol>'}),g=(u.a.add(v),v);const y=Object(o.a)("label-icon"),O={turbo:p,interest:m,subscribed:f,new_subscription:g},_=({type:e,color:t,faint:n})=>{const r=O[e];return r?i.a.createElement("svg",{className:y({faint:n,isRocket:"turbo"===e}),width:"24",height:"24",viewBox:r.viewBox},i.a.createElement("use",{style:{fill:t},xlinkHref:`#${r.id}`})):null};var k=n(6),E=(n(370),n(110));const C=Object(o.a)("card-badges-view"),j=({link:e,read:t=!1,text:n,color:r,host:o})=>e?i.a.createElement(E.b,{href:e,target:"_blank",style:{color:r},className:C({read:t,isClickable:!0}),host:o},n):i.a.createElement("div",{className:C({read:t}),style:{color:r}},n);var w=n(5),S=n(14),T=n(240);n.d(t,"a",function(){return A}),n.d(t,"b",function(){return P});const x=Object(o.a)("card-header"),A=Object(r.memo)(({color:e,isDark:t,mainColor:n,cardColors:o,isTextCard:a,isDesktop:s,read:c,dropShadow:l,labelIcon:u,labelText:d,image:p,badges:b,id:m,shouldRenderMenu:h,noAbsolute:f,className:v})=>{const g=Object(w.g)(e=>Object(S.a)(e).rezenPromoBadgeLink),y=Object(w.f)(),O=(Object(r.useCallback)(()=>{},[y,m]),Object(E.c)());return i.a.createElement(I,{color:e,isDark:t,mainColor:n,cardColors:o,isTextCard:a,isDesktop:s,read:c,dropShadow:l,labelIcon:u,labelText:d,image:p,badges:b,shouldRenderMenu:h,noAbsolute:f,className:v,promoLink:g,onOpenFeedbackMenu:void 0,host:O})}),I=({color:e,isDark:t,mainColor:n,cardColors:s,isTextCard:c,isDesktop:l,read:u,dropShadow:d,labelIcon:p,labelText:b,image:m,badges:h,shouldRenderMenu:f,noAbsolute:v,className:g,promoLink:y,onOpenFeedbackMenu:O,host:E})=>{var C,w;const S=e||(t?"#fff":"#000"),A=d||c||!l&&u,I=Object(r.useMemo)(()=>{const e=n||s&&s.card;if(!e)return{};const t=Object(a.a)(e).join(", ");return{boxShadow:`rgba(${t}, 0.4) 0px 0px 25px 5px, rgba(${t}, 0.4) 0px 0px 60px 30px, rgba(${t}, 0.6) 0px 0px 100px 30px`}},[s,n]),P=Object(r.useCallback)(()=>A?null:i.a.createElement("div",{className:x("shadow"),style:I}),[I,A]),N=Object(r.useCallback)(()=>f&&O?i.a.createElement("div",{className:x("button")},i.a.createElement(T.a,{onOpenFeedbackMenu:O,color:S,dropShadow:d,withOpacity:!0}),P()):null,[d,S,O,P,f]),R={absolute:!v},L=p&&p.type&&("turbo"!==p.type||!l),M=(null==b?void 0:b.text)||h&&(null===(C=h[0])||void 0===C?void 0:C.text),B=h&&(null===(w=h[0])||void 0===w?void 0:w.type)===k.b.PROMO;return i.a.createElement("div",{className:o.a.mix(x(R),g)},p&&p.type&&L?i.a.createElement("div",{className:x("label-icon")},i.a.createElement(_,{type:p.type,faint:!m,color:S}),P()):null,i.a.createElement("div",{className:x("badge-holder")},M?i.a.createElement("div",{className:x("badge")},i.a.createElement(j,{text:M,color:S,read:u&&l,link:B?y:void 0,host:E}),P()):null),N())},P=Object(r.memo)(I)},function(e,t,n){"use strict";var r=n(299);function i(e){return e}function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.a)(i,e)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n(10),n(441);var r=n(0),i=n.n(r),o=n(16),a=n(156),s=n(59),c=n(44),l=n(58),u=n(64),d=n(30),p=n(68),b=n(67),m=n(65),h=n(97),f=n(17),v=n(23),g=(n(442),n(602));const y=Object(o.a)("video-loader"),O=e=>{const{visible:t,className:n}=e,r=Object(v.a)(e,["visible","className"]),a=o.a.mix(y({visible:t}),n);return i.a.createElement("div",Object(f.a)({className:a},r),i.a.createElement(g.a,null))};var _=n(153),k=n(48),E=n(47),C=n(152),j=n(234),w=n(21),S=n(63);n.d(t,"a",function(){return x});const T=Object(o.a)("video-player-desktop");class x extends r.PureComponent{constructor(...e){var t;return t=super(...e),A.call(this),t}componentDidMount(){const{shouldInitPlayer:e}=this.props;e&&this._initPlayer()}componentWillUnmount(){this._player&&this._player.destroy(),this._initPlayer.cancel();const e=this._cancelableHandlers;e&&Object(k.a)(e).forEach(t=>e[t].cancel())}componentDidUpdate(e){const{muted:t,video:n,isVisible:r}=e,{paused:i,muted:o,video:a,shouldInitPlayer:s,isVisibleSubscribe:c,isVisible:l}=this.props;if(!this._player&&s&&this._initPlayer(),this._player){const e=this._player.getState();e===E.a.PLAYING||i||c?e!==E.a.PAUSED&&i&&this._player.pause():this._player.play(),t!==o&&this._player.setMuted(o),n.id!==a.id&&this._updateConfig(),s||this._destroy()}l!==r&&l&&this._metricsManager.trigger("Visible")}_renderLoader(){const{paused:e}=this.props,{loading:t}=this.state;return i.a.createElement(O,{visible:t&&!e})}_renderCallToAction(){const{isFullscreen:e,callToAction:t,onCall2ActionClick:n,isAdVisible:r,modelPrice:o}=this.props;if(!t)return;const{buttonName:s,title:c,url:l,description:d,logo:b,urlType:h,type:f}=t,{isCallToActionShown:v,isCallToActionWrapped:g,currentTime:y}=this.state,O=b&&b.logoUrl||"",_=b&&b.mainColor||m.a,{isDarkImage:k}=Object(u.a)(_),E=Object(S.d)(l,y,"{start_time}"),C=this.props.isCallToActionWrapped||g,j=!r&&(this.props.isCallToActionShown||v),w=f===p.a.beru||f===p.a.market,x=w&&!C,A=x&&o?o:s;return i.a.createElement("div",{className:T("call-to-action-bar",{visible:j,hidden:!j,fullscreen:e,isWrapped:C}),onClick:()=>n({urlType:h})},i.a.createElement(a.a,{imageUrl:O,backgroundColor:_,isDark:k,title:c,description:d,buttonText:A,href:E,target:"_blank",isWrapped:C,isButtonLight:!0,isShadowed:!0,barSize:"m",isArrowButton:x,trueColor:w,titleWeight:w?"regular":"bold",imageSize:w?"contain":"cover"}))}render(){const{className:e,style:t}=this.props,n=o.a.mix(T(),e);return i.a.createElement("div",{className:n,style:t},this._renderLoader(),i.a.createElement("div",{className:T("container"),style:t,ref:this._containerRef}),this._renderCallToAction())}}x.defaultProps={maxBufferLength:7,preload:!0,hidden:"*",size:{width:"100%",height:"100%"},handlers:{},hiddenForLongVideo:"*",shouldInitPlayer:!1,paused:!0,muted:!0,cardControlsHidden:!1,isLooped:!0};var A=function(){this.state={loading:!1,isCallToActionShown:!1,isCallToActionWrapped:!1,currentTime:"0"},this._initStarted=!1,this._loopCounter=1,this._latestMuted=!0,this._isVisibleAd=!1,this._metricsManager=new C.a("undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0,"v1"),this._initPlayer=Object(s.a)(async()=>{if(this._initStarted)return;this._initStarted=!0;const{maxBufferLength:e,preload:t,hidden:n,size:r,video:{id:i,hasSound:o},objectFit:a,muted:s,paused:c,isFullscreen:u,onInitPlayerAPI:d,videoPlayerApiVersion:p,isAdBlockPlayerBundle:m}=this.props;await Object(l.a)(h.a);const f=this._prepareSource();this._prepareHandlers();const v=Object(b.b)(),g=Object(b.c)();this._metricsManager.trigger("Init");const y=this._player=await window.Ya.streamPlayer.init({version:Object(h.c)()||p,element:this._containerElem,handlers:this._cancelableHandlers,source:f,maxBufferLength:e,preload:t,muted:u?v:s||!o,volume:parseInt(g,10),hidden:n,size:r,togglePlaybackOnVisibilityChange:!1,useAbdBundle:m});"function"==typeof d&&d(y),i!==this.props.video.id?this._updateConfig():(y.setVideoStyle({objectFit:a}),c||y.play())}),this._containerRef=Object(s.a)(e=>{this._containerElem=e}),this._resetLoop=(()=>{this._loopCounter=1}),this._onReady=(()=>{this._resetLoop()}),this._showControlsForLongVideo=(()=>{const{hiddenForLongVideo:e}=this.props;this._player.setHiddenControls(e)}),this._showControlsForShortVideo=(()=>{const{hidden:e}=this.props;this._player.setHiddenControls(e)}),this._toggleVideoControls=(()=>{if(!this._player)return;this._player.getDuration()>m.d?this._showControlsForLongVideo():this._showControlsForShortVideo()}),this._onCurrentTimeChange=((e,t,n)=>{const{callToAction:r,videoCallToActionTimestamp:i,videoCallToActionWrapTime:o,onCall2ActionShow:a,isCallToActionShown:s,isCallToActionWrapped:c,onCall2ActionWrap:l}=this.props;e&&r&&s&&this.setState({currentTime:e.toString()}),!this.state.isCallToActionShown&&!s&&r&&e>=(r.appearanceTime?r.appearanceTime:i)&&(this.setState({isCallToActionShown:!0}),a({urlType:r.urlType})),o&&r&&n>=(r.appearanceTime?r.appearanceTime:i)+o&&!c&&(this.setState({isCallToActionWrapped:!0}),l()),this._heartbeatHandler&&this._heartbeatHandler(this._watchTimeAccumulator(n))}),this._onStateChange=(e=>{const{onVideoPlay:t,onVideoPause:n,onVideoEnd:r,onVideoReplay:i,video:o,showSubscribe:a,hasPreroll:s,isLooped:c}=this.props,{replayCount:l}=o,{loading:u}=this.state;switch(e){case E.a.PLAYING:"play"===this._latestUserAction&&(t(),this.setState({paused:!1})),u&&this.setState({loading:!1});break;case E.a.PAUSED:"pause"===this._latestUserAction&&(n(),this.setState({paused:!0})),u&&this.setState({loading:!1});break;case E.a.ENDED:if(r(),!c)break;this._loopCounter===l&&s?(a&&a(),this._loopCounter=1):(i(),this._player.play(),this._loopCounter++);break;case E.a.BUFFERING:u||this.setState({loading:!0})}this._latestUserAction=null}),this._onUserAction=(e=>{if(e.name===E.b.PLAY_BUTTON_CLICK){const{state:t}=e.data||{state:void 0};switch(t){case"play":this._resetLoop(),this._latestUserAction=t;break;case"pause":this._latestUserAction=t}}}),this._onVolumeChange=(e=>{const{onVideoSoundOff:t,onVideoSoundOn:n,isFullscreen:r}=this.props,i=0===e;this._latestMuted!==i&&(i?t():n(),this._latestMuted=i),r&&(Object(d.g)(e.toString()),Object(d.f)(i))}),this._handleSeek=(()=>{}),this._prepareHandlers=(()=>{if(!this.props.handlers)return;const e=Object.assign({},this.props.handlers),{video:t,onAdStateChange:n}=this.props,{id:r}=t,{onStateChange:i,onUserAction:o,onVolumeChange:a,onCurrentTimeChange:l,onReady:u}=e;e.onStateChange=((...e)=>{this._onStateChange(...e),i&&i(...e)}),e.onCurrentTimeChange=((...e)=>{this._onCurrentTimeChange(...e),l&&l(...e)}),e.onUserAction=((...e)=>{this._onUserAction(...e),o&&o(...e)}),e.onVolumeChange=((...e)=>{this._onVolumeChange(...e),a&&a(...e)}),e.onReady=(()=>{this._onReady(),u&&u()}),e.onContentImpression=(()=>{this._metricsManager.sendDeltas()}),e.onDurationChange=this._toggleVideoControls,e.onSeek=Object(c.a)(this._handleSeek,300),e.onAdStateChange=(e=>{const t=e.state===w.a.Active;this._isVisibleAd=t,n&&n(e)}),this._cancelableHandlers=Object(k.a)(e).reduce((t,n)=>Object.assign({},t,{[n]:Object(s.a)(e[n])}),{}),this._updateHeartBeatHandler(),this._watchTimeAccumulator=Object(j.a)(r)}),this._prepareSource=(()=>{const{video:{id:e,additionalParams:t,videoInfo:n,adConfig:r},startPosition:i}=this.props;return{streamUrl:e,loop:!1,videoInfo:n,additionalParams:t,startPosition:i,adConfig:r}}),this._updateHeartBeatHandler=(()=>{const{onVideoHeartbeat:e,video:t}=this.props,{heartbeatTimes:n,id:r}=t;this._heartbeatHandler=Object(_.a)(r,n,t=>{e({videoPos:t.toString()})})}),this._updateConfig=(async()=>{this._prepareHandlers();const e=this._prepareSource();this.props.isIE?(this._player&&await this._player.destroy(),this._initStarted=!1,this._player=null,this._initPlayer()):this._player&&await this._player.setSource(e)}),this._destroy=(()=>{const{destroyTimeout:e=m.b,onDestroy:t}=this.props;this._destroyTimeout=window.setTimeout(async()=>{const{shouldInitPlayer:e}=this.props;!this._player||e||this._isVisibleAd||(await this._player.destroy(),this._initStarted=!1,this._player=null,t&&t())},e)})}},function(e,t,n){"use strict";n(368);var r=n(12),i=n.n(r),o=n(13),a=n.n(o),s=new i.a({id:"dots--inline",use:"dots--inline-usage",viewBox:"0 0 20 4",content:'<symbol viewBox="0 0 20 4" id="dots--inline">\n    <path fill-rule="evenodd" d="M2 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm8 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm8 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" />\n</symbol>'}),c=(a.a.add(s),s),l=n(0),u=n.n(l),d=n(5),p=n(16);n.d(t,"a",function(){return h});const b=Object(p.a)("menu-button"),m=(Object(l.memo)(({color:e,dropShadow:t,withOpacity:n,id:r})=>{const i=Object(d.f)(),o=Object(l.useCallback)(()=>{},[i,r]);return u.a.createElement(m,{color:e,dropShadow:t,withOpacity:n,onOpenFeedbackMenu:o})}),({color:e,dropShadow:t,withOpacity:n,onOpenFeedbackMenu:r})=>{const i=Object(l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),r()},[r]);return u.a.createElement("svg",{className:b({dropShadow:t,withOpacity:n}),onClick:i,width:"20",height:"4",viewBox:c.viewBox},u.a.createElement("use",{style:{fill:e},xlinkHref:`#${c.id}`}))}),h=Object(l.memo)(m)},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function r(){var e=o;i(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),i(e)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function b(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var i=this,a=e||"BESbswy",l=0,u=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-p>=u?t():document.fonts.load(b(i,'"'+i.family+'"'),a).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),h=new Promise(function(e,t){l=setTimeout(t,u)});Promise.race([h,m]).then(function(){clearTimeout(l),e(i)},function(){t(i)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=f&&-1!=v||-1!=f&&-1!=g||-1!=v&&-1!=g)&&((t=f!=v&&f!=g&&v!=g)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(f==y&&v==y&&g==y||f==O&&v==O&&g==O||f==_&&v==_&&g==_)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(i))}var d=new n(a),m=new n(a),h=new n(a),f=-1,v=-1,g=-1,y=-1,O=-1,_=-1,k=document.createElement("div");k.dir="ltr",r(d,b(i,"sans-serif")),r(m,b(i,"serif")),r(h,b(i,"monospace")),k.appendChild(d.a),k.appendChild(m.a),k.appendChild(h.a),document.body.appendChild(k),y=d.a.offsetWidth,O=m.a.offsetWidth,_=h.a.offsetWidth,function e(){if((new Date).getTime()-p>=u)k.parentNode&&k.parentNode.removeChild(k),t(i);else{var n=document.hidden;!0!==n&&void 0!==n||(f=d.a.offsetWidth,v=m.a.offsetWidth,g=h.a.offsetWidth,c()),l=setTimeout(e,50)}}(),o(d,function(e){f=e,c()}),r(d,b(i,'"'+i.family+'",sans-serif')),o(m,function(e){v=e,c()}),r(m,b(i,'"'+i.family+'",serif')),o(h,function(e){g=e,c()}),r(h,b(i,'"'+i.family+'",monospace'))})})},e.exports=a}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(e,t,n)=>{const r=window.open(e,t);if(r&&n){const{noOpener:e}=n;e&&(r.opener=null)}return r}},function(e,t,n){var r=n(347)("wks"),i=n(276),o=n(125).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(12),i=n.n(r),o=n(13),a=n.n(o),s=new i.a({id:"dots-m--inline",use:"dots-m--inline-usage",viewBox:"0 0 28 28",content:'<symbol viewBox="0 0 28 28" id="dots-m--inline">\n    <path d="M7 16C8.10457 16 9 15.1046 9 14C9 12.8954 8.10457 12 7 12C5.89543 12 5 12.8954 5 14C5 15.1046 5.89543 16 7 16ZM14 16C15.1046 16 16 15.1046 16 14C16 12.8954 15.1046 12 14 12C12.8954 12 12 12.8954 12 14C12 15.1046 12.8954 16 14 16ZM23 14C23 15.1046 22.1046 16 21 16C19.8954 16 19 15.1046 19 14C19 12.8954 19.8954 12 21 12C22.1046 12 23 12.8954 23 14Z" />\n</symbol>'});a.a.add(s);t.a=s},function(e,t,n){"use strict";
/*! @license Rematrix v0.2.2

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/function r(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(16===e.length)return e;if(6===e.length){var t=i();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function i(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function o(e,t){for(var n=r(e),i=r(t),o=[],a=0;a<4;a++)for(var s=[n[a],n[a+4],n[a+8],n[a+12]],c=0;c<4;c++){var l=4*c,u=[i[l],i[l+1],i[l+2],i[l+3]],d=s[0]*u[0]+s[1]*u[1]+s[2]*u[2]+s[3]*u[3];o[a+l]=d}return o}n(168);var a=n(0),s=n.n(a);n.d(t,"b",function(){return D}),n.d(t,"a",function(){return U}),n.d(t,"c",function(){return L});var c=function(e){return"number"==typeof e},l=function(e){return"[object Object]"===Object.prototype.toString.call(e)},u=function(e){return Array.prototype.slice.apply(e)};function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.forEach(function(t){if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}var p,b=function(e,t,n){return e+(t-e)*n},m={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},h=function(e){return l(e)?e:Object.keys(m).indexOf(e)>-1?m[e]:{}};"undefined"!=typeof window&&(p=window.requestAnimationFrame);var f=p=p||function(e){window.setTimeout(e,1e3/60)},v=Date.now(),g="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()-v};function y(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var O=function(){};O.prototype.run=function(){var e=this;f(function(){e.springSystem.loop(g())})};var _=function(){this.position=0,this.velocity=0},k=0,E=function(e){this._id="s"+k++,this._springSystem=e,this.listeners=[],this._startValue=0,this._currentState=new _,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new _,this._restSpeedThreshold=.001,this._tempState=new _,this._timeAccumulator=0,this._wasAtRest=!0,this._cachedSpringConfig={}};E.prototype.getId=function(){return this._id},E.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},E.prototype.setSpringConfig=function(e){return this._springConfig=e,this},E.prototype.getCurrentValue=function(){return this._currentState.position},E.prototype.getDisplacementDistanceForState=function(e){return Math.abs(this._endValue-e.position)},E.prototype.setEndValue=function(e){if(e===this._endValue)return this;if(this.prevEndValue=e,this._endValue===e&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=e,this._springSystem.activateSpring(this.getId());for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t].onSpringEndStateChange;r&&r(this)}return this},E.prototype.setVelocity=function(e){return e===this._currentState.velocity?this:(this._currentState.velocity=e,this._springSystem.activateSpring(this.getId()),this)},E.prototype.setCurrentValue=function(e){this._startValue=e,this._currentState.position=e;for(var t=0,n=this.listeners.length;t<n;t++){var r=this.listeners[t];r.onSpringUpdate&&r.onSpringUpdate(this)}return this},E.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},E.prototype.setOvershootClampingEnabled=function(e){return this._overshootClampingEnabled=e,this},E.prototype.isOvershooting=function(){var e=this._startValue,t=this._endValue;return this._springConfig.tension>0&&(e<t&&this.getCurrentValue()>t||e>t&&this.getCurrentValue()<t)},E.prototype.advance=function(e,t){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=t;t>.064&&(r=.064),this._timeAccumulator+=r;for(var i,o,a,s,c,l,u=this._springConfig.tension,d=this._springConfig.friction,p=this._currentState.position,b=this._currentState.velocity,m=this._tempState.position,h=this._tempState.velocity;this._timeAccumulator>=.001;)this._timeAccumulator-=.001,this._timeAccumulator<.001&&(this._previousState.position=p,this._previousState.velocity=b),o=u*(this._endValue-m)-d*b,s=u*(this._endValue-(m=p+.001*(i=b)*.5))-d*(h=b+.001*o*.5),l=u*(this._endValue-(m=p+.001*(a=h)*.5))-d*(h=b+.001*s*.5),m=p+.001*(c=h),p+=1/6*(i+2*(a+c)+(h=b+.001*l))*.001,b+=1/6*(o+2*(s+l)+(u*(this._endValue-m)-d*h))*.001;this._tempState.position=m,this._tempState.velocity=h,this._currentState.position=p,this._currentState.velocity=b,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/.001),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var f=!1;this._wasAtRest&&(this._wasAtRest=!1,f=!0);var v=!1;n&&(this._wasAtRest=!0,v=!0),this.notifyPositionUpdated(f,v)}},E.prototype.notifyPositionUpdated=function(e,t){var n=this;this.listeners.filter(Boolean).forEach(function(r){e&&r.onSpringActivate&&!n._onActivateCalled&&(r.onSpringActivate(n),n._onActivateCalled=!0),r.onSpringUpdate&&r.onSpringUpdate(n),t&&r.onSpringAtRest&&r.onSpringAtRest(n)})},E.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},E.prototype.wasAtRest=function(){return this._wasAtRest},E.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},E.prototype._interpolate=function(e){this._currentState.position=this._currentState.position*e+this._previousState.position*(1-e),this._currentState.velocity=this._currentState.velocity*e+this._previousState.velocity*(1-e)},E.prototype.addListener=function(e){return this.listeners.push(e),this},E.prototype.addOneTimeListener=function(e){var t=this;return Object.keys(e).forEach(function(n){var r;e[n]=(r=e[n],function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];r.apply(void 0,n),t.removeListener(e)})}),this.listeners.push(e),this},E.prototype.removeListener=function(e){return y(this.listeners,e),this};var C=function(e){this.looper=e||new O,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}};C.prototype.createSpring=function(e,t){return this.createSpringWithConfig({tension:e,friction:t})},C.prototype.createSpringWithConfig=function(e){var t=new E(this);return this.registerSpring(t),t.setSpringConfig(e),t},C.prototype.getIsIdle=function(){return this._isIdle},C.prototype.registerSpring=function(e){this._springRegistry[e.getId()]=e},C.prototype.deregisterSpring=function(e){y(this._activeSprings,e),delete this._springRegistry[e.getId()]},C.prototype.advance=function(e,t){for(var n=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach(function(r){r.systemShouldAdvance()?r.advance(e/1e3,t/1e3):n._idleSpringIndices.push(n._activeSprings.indexOf(r))});this._idleSpringIndices.length>0;){var r=this._idleSpringIndices.pop();r>=0&&this._activeSprings.splice(r,1)}},C.prototype.loop=function(e){var t;-1===this._lastTimeMillis&&(this._lastTimeMillis=e-1);var n=e-this._lastTimeMillis;this._lastTimeMillis=e;var r=0,i=this.listeners.length;for(r=0;r<i;r++)(t=this.listeners[r]).onBeforeIntegrate&&t.onBeforeIntegrate(this);for(this.advance(e,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),r=0;r<i;r++)(t=this.listeners[r]).onAfterIntegrate&&t.onAfterIntegrate(this);this._isIdle||this.looper.run()},C.prototype.activateSpring=function(e){var t=this._springRegistry[e];-1===this._activeSprings.indexOf(t)&&this._activeSprings.push(t),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())};var j=new C,w=function(e){var t=e.springConfig,n=t.overshootClamping,r=e.getOnUpdateFunc,i=e.onAnimationEnd,o=e.onSpringActivate,a=j.createSpring(t.stiffness,t.damping);a.setOvershootClampingEnabled(!!n);var s={onSpringActivate:o,onSpringAtRest:function(){a.destroy(),i()},onSpringUpdate:r({spring:a,onAnimationEnd:i})};return a.addListener(s),a},S=function(e){var t=w(e);return t.setEndValue(1),t},T=function(e,t){if(void 0===t&&(t={}),e&&e.length){t.reverse&&e.reverse();var n,r="number"!=typeof(n=t.speed)?1.1:1+Math.min(Math.max(5*n,0),5),i=1/Math.max(Math.min(e.length,100),10),o=e.map(function(e,t){var n=e.getOnUpdateFunc;return e.getOnUpdateFunc=function(e){var a=n(e);return function(e){var n=e.getCurrentValue();(n=n<.01?0:n>.99?1:n)>=i&&o[t+1]&&o[t+1](Math.max(Math.min(n*r,1),0)),a(e)}},e}).map(function(e){var t=w(e);if(t)return t.setEndValue.bind(t)}).filter(Boolean);o[0]&&o[0](1)}},x=function(e){return[0,1,4,5,12,13].map(function(t){return e[t]})},A=function(e){return e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0},I=function(e,t){var n;return d(e,((n={})[t[0]]=t[1],n))},P=function(e,t){return u(t?document.querySelectorAll('[data-portal-key="'+t+'"]'):e.querySelectorAll("[data-flip-id]"))},N=function(e){return e.map(function(e){return[e,e.getBoundingClientRect()]})},R=new C,L=function(e){var t=e.values,n=e.onUpdate,r=e.delay;void 0===r&&(r=0);var i=e.onComplete,o=d({},m.noWobble,h(e.config)),a=o.overshootClamping,s=R.createSpring(o.stiffness,o.damping);return s.setOvershootClampingEnabled(!!a),s.addListener({onSpringAtRest:function(e){i&&i(),e.destroy()},onSpringUpdate:function(e){var r=e.getCurrentValue();if(!t)return n(r);var i=Object.keys(t).map(function(e){return[e,b(t[e][0],t[e][1],r)]}).reduce(function(e,t){var n;return Object.assign(e,((n={})[t[0]]=t[1],n))},{});n(i)}}),r?setTimeout(function(){s.setEndValue(1)},r):s.setEndValue(1),s},M=Object(a.createContext)({}),B=Object(a.createContext)("portal"),D=function(e){function t(){e.apply(this,arguments),this.inProgressAnimations={},this.flipCallbacks={},this.el=void 0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getSnapshotBeforeUpdate=function(e){return e.flipKey!==this.props.flipKey&&this.el?function(e){var t=e.element,n=e.flipCallbacks;void 0===n&&(n={});var r=e.inProgressAnimations;void 0===r&&(r={});var i=P(t,e.portalKey),o=u(t.querySelectorAll("[data-inverse-flip-id]")),a={},s=[],c={};i.filter(function(e){return n&&n[e.dataset.flipId]&&n[e.dataset.flipId].onExit}).forEach(function(e){var t=e.parentNode;if(e.closest){var n=e.closest("[data-exit-container]");n&&(t=n)}var r=s.findIndex(function(e){return e[0]===t});-1===r&&(s.push([t,t.getBoundingClientRect()]),r=s.length-1),a[e.dataset.flipId]=s[r][1],c[e.dataset.flipId]=t});var l=N(i),p=l.map(function(e){var t=e[0],r=e[1],i={};if(n&&n[t.dataset.flipId]&&n[t.dataset.flipId].onExit){var o=a[t.dataset.flipId];d(i,{element:t,parent:c[t.dataset.flipId],childPosition:{top:r.top-o.top,left:r.left-o.left,width:r.width,height:r.height}})}return[t.dataset.flipId,{rect:r,opacity:parseFloat(window.getComputedStyle(t).opacity||"1"),domDataForExitAnimations:i}]}).reduce(I,{});return function(e,t){Object.keys(e).forEach(function(t){e[t].destroy&&e[t].destroy(),delete e[t]}),t.forEach(function(e){e.style.transform="",e.style.opacity=""})}(r,i.concat(o)),{flippedElementPositions:p,cachedOrderedFlipIds:l.map(function(e){return e[0].dataset.flipId})}}({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},t.prototype.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&function(e){var t=e.cachedOrderedFlipIds;void 0===t&&(t=[]);var n=e.inProgressAnimations;void 0===n&&(n={});var a=e.flippedElementPositionsBeforeUpdate;void 0===a&&(a={});var s=e.flipCallbacks;void 0===s&&(s={});var l=e.containerEl,p=e.applyTransformOrigin,f=e.spring,v=e.debug,g=e.portalKey,y=e.staggerConfig;void 0===y&&(y={});var O=e.decisionData;void 0===O&&(O={});var _=e.handleEnterUpdateDelete,k=e.onComplete,E=e.onStart,C=function(e){return N(P(e.element,e.portalKey)).map(function(e){var t=e[0],n=e[1],r=window.getComputedStyle(t);return[t.dataset.flipId,{element:t,rect:n,opacity:parseFloat(r.opacity),transform:r.transform}]}).reduce(I,{})}({element:l,portalKey:g}),j=function(e){var t=e.containerEl,n=e.portalKey;return n?function(e){return function(t){return u(document.querySelectorAll('[data-portal-key="'+e+'"]'+t))}}(n):t?function(e){var t=Math.random().toFixed(5);return e.dataset.flipperId=t,function(n){return u(e.querySelectorAll('[data-flipper-id="'+t+'"] '+n))}}(t):function(){return[]}}({containerEl:l,portalKey:g}),w=function(e){return function(t){return e('[data-flip-id="'+t+'"]')[0]}}(j),R=function(e){return a[e]&&C[e]},L=Object.keys(a).concat(Object.keys(C)).filter(function(e){return!R(e)}),M={flipCallbacks:s,getElement:w,flippedElementPositionsBeforeUpdate:a,flippedElementPositionsAfterUpdate:C,inProgressAnimations:n,decisionData:O},B=function(e){var t,n=e.unflippedIds,r=e.flipCallbacks,i=e.getElement,o=e.flippedElementPositionsBeforeUpdate,a=e.flippedElementPositionsAfterUpdate,s=e.inProgressAnimations,c=e.decisionData,l=n.filter(function(e){return a[e]}).filter(function(e){return r[e]&&r[e].onAppear}),u=n.filter(function(e){return o[e]&&r[e]&&r[e].onExit}),d=new Promise(function(e){t=e}),p=[],b=0,m=u.map(function(e,n){var i=o[e].domDataForExitAnimations,a=i.element,l=i.parent,u=i.childPosition,d=u.top,m=u.left,h=u.width,f=u.height;"static"===getComputedStyle(l).position&&(l.style.position="relative"),a.style.transform="matrix(1, 0, 0, 1, 0, 0)",a.style.position="absolute",a.style.top=d+"px",a.style.left=m+"px",a.style.height=f+"px",a.style.width=h+"px";var v=p.filter(function(e){return e[0]===l})[0];v||(v=[l,document.createDocumentFragment()],p.push(v)),v[1].appendChild(a),b+=1;var g=function(){try{l.removeChild(a)}catch(e){}finally{0==(b-=1)&&t()}};return s[e]={stop:g},function(){return r[e].onExit(a,n,g,c)}});return p.forEach(function(e){e[0].appendChild(e[1])}),m.length||t(),{hideEnteringElements:function(){l.forEach(function(e){var t=i(e);t&&(t.style.opacity="0")})},animateEnteringElements:function(){l.forEach(function(e,t){var n=i(e);n&&r[e].onAppear(n,t,c)})},animateExitingElements:function(){return m.forEach(function(e){return e()}),d}}}(d({},M,{unflippedIds:L})),D=B.hideEnteringElements,F=B.animateEnteringElements,V=B.animateExitingElements,U=d({},M,{containerEl:l,flippedIds:t.filter(R),applyTransformOrigin:p,spring:f,debug:v,staggerConfig:y,scopedSelector:j,onComplete:k});E&&E(l,O);var z=function(e){var t=U.flippedIds,n=U.flipCallbacks,a=U.inProgressAnimations,s=U.flippedElementPositionsBeforeUpdate,l=U.flippedElementPositionsAfterUpdate,p=U.applyTransformOrigin,f=U.spring,v=U.getElement,g=U.debug,y=U.staggerConfig;void 0===y&&(y={});var O=U.decisionData;void 0===O&&(O={});var _,k=U.onComplete,E=U.containerEl,C=new Promise(function(e){_=e});if(k&&C.then(function(){return k(E,O)}),!t.length)return function(){return _([]),C};var j,w=[],I=v(t[0]),P=I?I.ownerDocument.querySelector("body"):document.querySelector("body");j=t.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),Object.keys(j).filter(function(e){return j[e]>1});var N=t.map(function(e){var t=s[e].rect,v=l[e].rect,g=s[e].opacity,y=l[e].opacity,k=v.width<1||v.height<1,E=l[e].element;if(!A(t)&&!A(v))return!1;if(!E)return!1;var C=JSON.parse(E.dataset.flipConfig),j=function(e){void 0===e&&(e={});var t=e.flippedSpring;return d({},m.noWobble,h(e.flipperSpring),h(t))}({flipperSpring:f,flippedSpring:C.spring}),S=!0===C.stagger?"default":C.stagger,T={element:E,id:e,stagger:S,springConfig:j};if(n[e]&&n[e].shouldFlip&&!n[e].shouldFlip(O.previous,O.current))return!1;var I=Math.abs(t.left-v.left)+Math.abs(t.top-v.top),R=Math.abs(t.width-v.width)+Math.abs(t.height-v.height),L=Math.abs(y-g);if(I<.5&&R<.5&&L<.01)return!1;var M=function(e){if("string"==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t)return r(t[2].split(", ").map(parseFloat))}return i()}(l[e].transform),B={matrix:M},D={matrix:[]},F=[M];C.translate&&(F.push(function(e){var t=i();return t[12]=e,t}(t.left-v.left)),F.push(function(e){var t=i();return t[13]=e,t}(t.top-v.top))),C.scale&&(F.push(function(e){var t=i();return t[0]=e,t}(Math.max(t.width,1)/Math.max(v.width,1))),F.push(function(e){var t=i();return t[5]=e,t}(Math.max(t.height,1)/Math.max(v.height,1)))),C.opacity&&(D.opacity=g,B.opacity=y);var V=[];if(!n[e]||!n[e].shouldInvert||n[e].shouldInvert(O.previous,O.current)){var U=function(e,t){return u(E.querySelectorAll('[data-inverse-flip-id="'+t+'"]'))}(0,e);V=U.map(function(e){return[e,JSON.parse(e.dataset.flipConfig)]})}D.matrix=x(F.reduce(o)),B.matrix=x(B.matrix);var z,H=function(e){var t=e.element,n=e.invertedChildren,r=e.body;return function(e){var i=e.matrix,o=e.opacity,a=e.forceMinVals;if(c(o)&&(t.style.opacity=o+""),a&&(t.style.minHeight="1px",t.style.minWidth="1px"),i){var s="matrix("+i.join(", ")+")";t.style.transform=s,n&&function(e){var t=e.matrix,n=e.body;e.invertedChildren.forEach(function(e){var r=e[0],i=e[1];if(n.contains(r)){var o=t[0],a=t[3],s=t[5],c={translateX:0,translateY:0,scaleX:1,scaleY:1},l="";i.translate&&(c.translateX=-t[4]/o,c.translateY=-s/a,l+="translate("+c.translateX+"px, "+c.translateY+"px)"),i.scale&&(c.scaleX=1/o,c.scaleY=1/a,l+=" scale("+c.scaleX+", "+c.scaleY+")"),r.style.transform=l}})}({invertedChildren:n,matrix:i,body:r})}}}({element:E,invertedChildren:V,body:P});if(n[e]&&n[e].onComplete){var $=n[e].onComplete;z=function(){return $(E,O)}}var W=c(D.opacity)&&c(B.opacity)&&D.opacity!==B.opacity,q=!1;return d({},T,{stagger:S,springConfig:j,getOnUpdateFunc:function(t){var r=t.spring,i=t.onAnimationEnd;return a[e]={destroy:r.destroy.bind(r),onAnimationEnd:i},function(t){n[e]&&n[e].onSpringUpdate&&n[e].onSpringUpdate(t.getCurrentValue()),q||(q=!0,n[e]&&n[e].onStart&&n[e].onStart(E,O));var r=t.getCurrentValue();if(P.contains(E)){var i={matrix:[]};i.matrix=D.matrix.map(function(e,t){return b(e,B.matrix[t],r)}),W&&(i.opacity=b(D.opacity,B.opacity,r)),H(i)}else t.destroy()}},initializeFlip:function(){H({matrix:D.matrix,opacity:W?D.opacity:void 0,forceMinVals:k}),n[e]&&n[e].onStartImmediate&&n[e].onStartImmediate(E,O),C.transformOrigin?E.style.transformOrigin=C.transformOrigin:p&&(E.style.transformOrigin="0 0"),V.forEach(function(e){var t=e[0],n=e[1];n.transformOrigin?t.style.transformOrigin=n.transformOrigin:p&&(t.style.transformOrigin="0 0")})},onAnimationEnd:function(){delete a[e],"function"==typeof z&&z(),E.style.transform="",V.forEach(function(e){e[0].style.transform=""}),k&&E&&(E.style.minHeight="",E.style.minWidth=""),w.push(e),w.length>=N.length&&_(w)},delayUntil:C.delayUntil})}).filter(Boolean);if(N.forEach(function(e){return(0,e.initializeFlip)()}),g)return function(){};var R=N.filter(function(e){return e.delayUntil&&(t=e.delayUntil,N.filter(function(e){return e.id===t}).length);var t}),L={},M={},B={};R.forEach(function(e){e.stagger?(B[e.stagger]=!0,M[e.delayUntil]?M[e.delayUntil].push(e.stagger):M[e.delayUntil]=[e.stagger]):L[e.delayUntil]?L[e.delayUntil].push(e):L[e.delayUntil]=[e]});var D=N.filter(function(e){return e.stagger}).reduce(function(e,t){return e[t.stagger]?e[t.stagger].push(t):e[t.stagger]=[t],e},{}),F=N.filter(function(e){return-1===R.indexOf(e)});return F.forEach(function(e){e.onSpringActivate=function(){L[e.id]&&L[e.id].forEach(S),M[e.id]&&Object.keys(M[e.id].reduce(function(e,t){var n;return d(e,((n={})[t]=!0,n))},{})).forEach(function(e){T(D[e],y[e])})}}),function(){return N.length||_([]),F.filter(function(e){return!e.stagger}).forEach(S),Object.keys(D).forEach(function(e){B[e]||T(D[e],y[e])}),C}}();_?_({hideEnteringElements:D,animateEnteringElements:F,animateExitingElements:V,animateFlippedElements:z}):(D(),V().then(F),z())}({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},t.prototype.render=function(){var e=this,t=this.props,n=t.portalKey,r=s.a.createElement(M.Provider,{value:this.flipCallbacks},s.a.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children));return n&&(r=s.a.createElement(B.Provider,{value:n},r)),r},t}(a.Component);function F(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}D.defaultProps={applyTransformOrigin:!0,element:"div"};var V=function(e){var t=e.children,n=e.flipId,r=e.inverseFlipId,i=e.portalKey,o=F(e,["children","flipId","inverseFlipId","portalKey"]),s=t,c="function"==typeof s;if(!c)try{s=a.Children.only(t)}catch(e){throw new Error("Each Flipped component must wrap a single child")}o.scale||o.translate||o.opacity||d(o,{translate:!0,scale:!0,opacity:!0});var l={};return l["data-flip-config"]=JSON.stringify(o),n?l["data-flip-id"]=String(n):r&&(l["data-inverse-flip-id"]=String(r)),i&&(l["data-portal-key"]=i),c?s(l):Object(a.cloneElement)(s,l)},U=function(e){var t=e.children,n=e.flipId,r=e.shouldFlip,i=e.shouldInvert,o=e.onAppear,a=e.onStart,c=e.onStartImmediate,u=e.onComplete,d=e.onExit,p=e.onSpringUpdate,b=F(e,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"]);return t?b.inverseFlipId?s.a.createElement(V,Object.assign({},b),t):s.a.createElement(B.Consumer,null,function(e){return s.a.createElement(M.Consumer,null,function(m){return l(m)&&n&&(m[n]={shouldFlip:r,shouldInvert:i,onAppear:o,onStart:a,onStartImmediate:c,onComplete:u,onExit:d,onSpringUpdate:p}),s.a.createElement(V,Object.assign({flipId:n},b,{portalKey:e}),t)})}):null};U.displayName="Flipped"},,function(e,t,n){e.exports=!n(191)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3);const i=()=>({type:r.wb,payload:null})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(10);const r=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=1},function(e,t,n){"use strict";(function(e){var r,i=n(296);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var o=Object(i.a)(r);t.a=o}).call(this,n(358)(e))},function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,!0!==o[l]&&(c+="="+o[l]));return document.cookie=t+"="+i+c}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var b=u[p].split("="),m=b.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=b[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,h):n(m,h)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===h){a=m;break}t||(a[h]=m)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),o=Array.isArray(n);if(i&&o){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var s=t instanceof Date,c=n instanceof Date;if(s&&c)return t.getTime()==n.getTime();if(s!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},function(e){e.exports={b:24,a:23}},function(e){e.exports={b:20,a:396}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(2),a=n(19),s=n(20),c=n(5),l=n(18),u=n(29);var d=n(129),p=n(24),b=n(149),m=n(8),h=n(109),f=n(14);const v=(e,t)=>{const n=Object(c.f)(),i=(e=>{const t=Object(c.f)();return Object(r.useCallback)(()=>{t((t,n)=>{const r=n(),i=Object(l.i)(r),o=Object(l.g)(r);i&&(o?e():Object(u.a)(1e3).then(e))})},[t,e])})(t),a=Object(d.a)(()=>{0});return Object(r.useCallback)((t,r)=>{n((n,i)=>{n(Object(p.f)());const a=i(),s=Object(m.n)(a,e);s&&s.type!==o.e.POST&&Object(h.b)(a,e)&&n(Object(p.e)(e));const{isMobileSimilarsEnabled:c}=Object(f.a)(a);c&&n(Object(p.k)({parentId:e,similarLink:t,parentPos:r})),a.params.shouldCleanCacheOnFeedback&&n(Object(p.l)(e))}),i(),Object(b.a)().then(a)},[i,e,n,a])};var g=n(510),y=n(82),O=n(115),_=n(74),k=n(219),E=n(294);const C=Object(r.createContext)(Object(r.createRef)());var j=n(44),w=n(218),S=n(22),T=n(62),x=n(84),A=n(52);const I=e=>({strongestId:e.id,type:e.type,title:e.title,logo:e.logo,logoBackgroundColor:e.logoBackgroundColor,feedLink:e.feedLink,feedApiLink:e.feedApiLink,subscriptionForbidden:e.subscriptionForbidden,status:e.status,isSubscribedInCurrentSession:Boolean(e.isSubscribedInCurrentSession),isUnsubscribedInCurrentSession:Boolean(e.isUnsubscribedInCurrentSession),isUnblockedInCurrentSession:Boolean(e.isUnblockedInCurrentSession)}),P=Object(A.b)("id","strongestId","type","title","logo","logoBackgroundColor","feedLink","feedApiLink","subscriptionForbidden");var N=n(30),R=n(130),L=(n(366),n(16));const M=Object(L.a)("card-hover"),B=({color:e,isMobile:t})=>t?null:i.a.createElement("div",{className:M(),style:{backgroundColor:e}});var D=n(110),F=n(237),V=n(606),U=n(302),z=n(597),H=n(75),$=n(313),W=n(101),q=(n(410),n(89)),G=n(111),K=n(521),Y=n(49),Z=n(137),Q=n(40),X=n(263),J=n(264),ee=n(228),te=n(108),ne=n(148);n(411),n(413),n(414),n(415);const re=Object(L.a)("share-source-button"),ie=({host:e,url:t,children:n,onClick:r,isColored:o,color:a="white"})=>{const s=o?a:"transparent";return i.a.createElement("div",{className:re({isColored:o}),style:{backgroundColor:s}},t?i.a.createElement(D.b,{host:e,href:t,onClick:r,className:re("icon")},n):i.a.createElement("span",{onClick:r,className:re("icon")},n))},oe=Object(L.a)("mobile-share-item"),ae=Object(r.memo)(({l10n:e,host:t,shareLink:n,icon:o,onClick:a,color:s,transitionDelay:c,onShared:l,getText:u,url:d,hasAnimation:p})=>{const[b,m]=Object(r.useState)(!1),[h,f]=Object(r.useState)(!1),v=u&&"function"==typeof u?u(b):u,g=Object(r.useCallback)(()=>{m(!0),a?a(d):l()},[a,l,d]);Object(S.a)(()=>{f(!0)});const y=Boolean(v);return i.a.createElement("div",{className:oe("item",{isVisible:h,hasAnimation:p}),style:{transitionDelay:c}},i.a.createElement(ie,{host:t,onClick:g,url:n,isColored:!0,color:s},i.a.createElement("div",{className:oe("icon-block",{hasWithText:y})},o,v&&i.a.createElement("span",{className:oe("content")},e(v)))))}),se=Object(L.a)("mobile-share-list"),ce=Object(r.memo)(({l10n:e,host:t,url:n,onShared:r,icons:o,title:a,image:s,hasAnimation:c})=>i.a.createElement("div",{className:se()},o.map((o,l)=>{const{shareLink:u,tooltipText:d,icon:p,onClick:b,color:m,isVisibleTextMobile:h}=o,f=c?`${.05*l}s`:"0s";return i.a.createElement(ae,{l10n:e,host:t,shareLink:u?u(n,a,s):"",url:n,icon:i.a.createElement(p,{className:se("icon")}),onClick:b,onShared:r,color:m,transitionDelay:f,key:l,getText:h?d:void 0,hasAnimation:c})})));var le=n(236);const ue=Object(L.a)("share-popup"),de=["vk","facebook","whatsapp","copy"],pe=Object(r.memo)(({l10n:e,host:t,url:n,title:o,onShared:a,image:s})=>{const c=Object(r.useMemo)(()=>Object(le.a)(de),[]);return i.a.createElement("div",{className:ue()},i.a.createElement(ce,{host:t,l10n:e,url:n,title:o,onShared:a,icons:c,image:s,hasAnimation:!0}))});n(416);const be=Object(L.a)("feedback-menu-item"),me=Object(r.memo)(({icon:e,title:t,subtitle:n,onClick:r})=>i.a.createElement("div",{className:be(),onClick:r},i.a.createElement("div",{className:be("row")},i.a.createElement("div",{className:be("icon")},i.a.createElement("div",{className:be("icon-inner",{type:e})})),i.a.createElement("div",{className:be("title")},t)),n?i.a.createElement("div",{className:be("subtitle")},n):null));var he=n(231),fe=n(136),ve=n(138),ge=n(6);const ye=Object(L.a)("feedback-modal"),Oe=({modalRef:e,l10n:t,host:n,link:o,domainTitle:a,title:s,image:c,isSubscribed:l,isWithOutReportAndBlockButtons:u,onCloseFeedbackMenu:d,onToggleFeedback:p,onSetCardBlocked:b,onToggleSubscribe:m,onOpenComplaints:h})=>{const[f,v]=Object(r.useState)(!1),g=Object(r.useCallback)(()=>{d(),v(!1)},[d]),y=Object(r.useCallback)(()=>{navigator&&navigator.share?(g(),navigator.share({url:o,title:s})):v(!f)},[g,f,o,s]),O=Object(r.useCallback)(()=>{p("disliked"),g()},[g,p]),_=Object(r.useCallback)(()=>{p("disliked"),b(!0),g()},[g,b,p]),k=Object(r.useCallback)(()=>{m("open_feedback_menu"),g()},[g,m]),E=Object(r.useCallback)(()=>{p("disliked"),h(),g()},[g,h,p]),C=e=>e.replace("$1",a),j=i.a.createElement(K.a,{isOpen:!0,close:g,className:ye()},i.a.createElement("div",{className:ye("share-list")},f?i.a.createElement(pe,{l10n:t,host:n,url:o,title:s,onShared:g,image:c}):null),o?i.a.createElement(me,{icon:"share",title:t("feedback.menu.share.title"),onClick:y}):null,i.a.createElement(me,{icon:"dislike",title:t("feedback.menu.dislike.title"),subtitle:t("feedback.menu.dislike.subtitle"),onClick:O}),u?null:i.a.createElement(me,{icon:"block",title:t("feedback.menu.block.title"),subtitle:C(t("feedback.menu.block.subtitle")),onClick:_}),i.a.createElement(me,{icon:l?"unsubscribe":"subscribe",title:t(l?"feedback.menu.unsubscribe.title":"feedback.menu.subscribe.title"),subtitle:C(t(l?"feedback.menu.unsubscribe.subtitle":"feedback.menu.subscribe.subtitle")),onClick:k}),u?null:i.a.createElement(me,{icon:"report",title:t("feedback.menu.complain.title"),onClick:E}));return e.current?Object(q.createPortal)(j,e.current):null},_e=Object(r.memo)(Oe),ke=({id:e,source:t,item:n,shouldGoBack:a,isWithOutReportAndBlockButtons:s,modalRef:l})=>{var u;const d=Object(c.f)(),{l10n:p}=Object(E.a)(),b="subscribed"===t.status,{bulkParams:m,statEvents:h,link:f,domainTitle:v,feedback:g}=n,y=Object(r.useMemo)(()=>({bulkParams:m,statEvents:h}),[m,h]),O=n.type===o.e.POST||n.type===o.e.GALLERY?"":n.title,_=n.type===o.e.IMAGE?n.image:n.type===o.e.POST?null===(u=n.image)||void 0===u?void 0:u.link:void 0,k=Object(he.a)(y),{statItemDislike:C}=Object(fe.a)(y),{statItemCancelLike:j}=Object(ve.a)(y),w=Object(X.a)({statObject:y,triggerEvent:"open_feedback_menu"}),S=Object(J.a)({statObject:y,triggerEvent:"open_feedback_menu"}),T=Object(ne.a)({statObject:y,triggerEvent:"open_feedback_menu"}),x=Object(te.a)(t),A=Object(ee.a)({onUnsubscribe:w,onSubscribe:S,status:t.status,setStatus:x}),I=Object(r.useCallback)(()=>d(Object(Z.a)()),[d]),P=Object(r.useCallback)(t=>{"liked"===g&&(d(Object(Y.c)(e)),j()),C(),d(Object(Y.d)(e))},[g,j,C,d,e]),N=Object(r.useCallback)(()=>{T(),d(Object(Y.a)({id:e})),x(ge.u.BLOCKED)},[d,e,x,T]),R=Object(r.useCallback)(()=>{A()},[A]),L=Object(r.useCallback)(()=>{P("disliked"),k(),d(Object(Y.f)(e))},[d,e,k,P]);Object(r.useEffect)(()=>{a&&d(Object(G.goBack)())},[d,a]);const M=Object(D.c)();return i.a.createElement(Oe,{modalRef:l,l10n:p,host:M,link:f,domainTitle:v,title:O,image:_,isSubscribed:b,onCloseFeedbackMenu:I,onOpenComplaints:L,onSetCardBlocked:N,onToggleFeedback:P,onToggleSubscribe:R,isWithOutReportAndBlockButtons:s})};Object(r.memo)(({modalRef:e})=>{const t=Object(r.useMemo)(Q.c,[]),n=Object(c.g)(e=>{var n;const r=null===(n=e.router)||void 0===n?void 0:n.location.state,i=r&&(r.isIsolatedCard?void 0:r.feedbackMenuItemId);if(!i)return{modalDisabled:!0,shouldGoBack:Boolean(i)};const a=Object(m.x)(e,i,[o.e.IMAGE,o.e.GALLERY,o.e.TEXT,o.e.POST,o.e.GIF]);return a?{modalDisabled:!1,shouldGoBack:!1,id:i,item:a,source:t(e,i),isWithOutReportAndBlockButtons:r.isWithOutReportAndBlockButtons}:{modalDisabled:!0,shouldGoBack:Boolean(i)}},c.e);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{ref:e}),n.modalDisabled?null:i.a.createElement(ke,{modalRef:e,shouldGoBack:n.shouldGoBack,id:n.id,item:n.item,source:n.source,isWithOutReportAndBlockButtons:n.isWithOutReportAndBlockButtons}))});var Ee=n(155),Ce=n(34),je=n(35),we=n(37),Se=n(92);var Te=n(41);var xe=n(95),Ae=n(320);const Ie=({stats:e,dislikeQuestion:t,onFeedback:n,onInvalidateCache:i,toggleFeedback:o,setSourceBlocked:a})=>{const[s,c]=Object(r.useState)({}),[l,u]=Object(r.useState)(!1),[d,p]=Object(r.useState)(null);return Object(r.useMemo)(()=>{return{answerChecks:s,toggleAnswer(t){const r=s[t];e.setAnswerChecked(t,!r),c(Object.assign({},s,{[t]:!r})),n(),i()},cancelFeedback(){o("disliked"),t&&(t.answers.forEach(({id:t})=>{s[t]&&e.setAnswerChecked(t,!1)}),c({}))},isBlocked:l,setCardBlocked(e){u(e),a(e)},complaintsState:d,openComplaints(){e.showComplain(),p("opened")},closeComplaints(){p(null)},sendComplaints(t){e.clickComplain(null==t?void 0:t.reasonIds),p(l?"sended-blocked":"sended")},showExtendedDislike(){e.showExtendedDislike()}}},[s,d,t,a,o,l,n,i,e])},Pe=({initialSource:e,stats:t,onConnectSource:n,onFeedback:i})=>{const o=Object(Ce.a)(()=>n(e,e)),a=(({encodedSource:e,subscribe:t},n,i)=>{const[o,a]=Object(r.useState)(()=>n(e)),s=Object(r.useRef)(o);return Object(S.a)(()=>t(e=>{const t=n(e);i(s.current,t)||(s.current=t,a(t))})),o})(o,Object(A.b)("strongestId","status","feedLink","subscriptionForbidden","isSubscribedInCurrentSession"),c.e),s=Object(r.useCallback)(e=>{"subscribed"===a.status?(t.unsubscribe(e),o.setStatus(ge.u.NOT_SUBSCRIBED)):(t.subscribe(e),o.setStatus(ge.u.SUBSCRIBED))},[o,a.status,t]),l=Object(r.useCallback)(e=>{e?(t.block(),o.setStatus(ge.u.BLOCKED),i()):(t.cancelBlock(),o.setStatus(ge.u.NOT_SUBSCRIBED),i())},[t,o,i]);return{source:a,toggleSubscribe:s,setSourceBlocked:l}};var Ne=n(220),Re=n(27);var Le=n(159),Me=n(1),Be=n(4);const De=Object(Be.e)({rezenPromoBadgeLink:Object(Be.h)(""),enableCardChannelLink:Object(Be.b)(!1),extendFeedback:Object(Be.e)({isPopup:Object(Be.b)(),isDislikeOptionsEnabled:Object(Be.b)()}),viberShareButton:Object(Be.e)({isButtonEnabled:Object(Be.b)(!1),partnerAppMinVersion:Object(Be.h)(""),isShortenerEnabled:Object(Be.b)(!1),shortenerResponseTimeout:Object(Be.d)(1e4)}),measureTitleByFontMetrics:Object(Be.b)(!1)});var Fe=n(54),Ve=n(64);var Ue=n(601);n(81),n(297);var ze=n(23);const He=Object(Me.o)("publisher","domain"),$e=Object(Me.o)("subscribed","not_subscribed","blocked"),We=(Object(Me.o)("active","sleeping","deleted","not_exist"),Object(Me.j)({framed_100x128_1x:Object(Me.h)(Me.n),framed_132x176_1x:Object(Me.h)(Me.n),framed_202x260_1x:Object(Me.h)(Me.n),framed_212x280_1x:Object(Me.h)(Me.n)}),Object(Me.j)({network:Me.n,link:Me.n,name:Me.n,image:Me.n}),Object(Me.j)({strongestId:Me.n,type:He,status:$e,title:Me.n,logo:Me.n,logoBackgroundColor:Me.n,feedLink:Object(Me.h)(Me.n),feedApiLink:Object(Me.h)(Me.n),subscriptionForbidden:Object(Me.h)(Me.c)})),qe=Object(Me.m)(Me.n),Ge=Object(Me.j)({type:Object(Me.g)("direct"),domElemId:Me.n,blockId:Me.n,partnerStatId:Me.n,isBig:Object(Me.h)(Me.c),bulkParams:Me.n,statEvents:qe,data:Object(Me.h)(Me.f)}),Ke=Object(Me.o)("fluid","auto"),Ye=Object(Me.j)({type:Object(Me.g)("adsense"),client:Me.n,slot:Me.n,adsenseFormat:Object(Me.h)(Ke),layoutKey:Object(Me.h)(Me.n)}),Ze=Object(Me.d)("type",{direct:Ge,adsense:Ye}),Qe=Object(Me.j)({card:Me.n,text:Me.n}),Xe=Object(Me.o)("narrative","promo","special"),Je=Object(Me.o)("turbo","subscribed","new_subscription","interest"),et=Object(Me.j)({type:Xe,text:Me.n}),tt=Object(Me.j)({isLiked:Me.c,isDisliked:Me.c}),nt=Object(Me.j)({id:Me.n,type:Me.n,text:Me.n,stats:Object(Me.j)({statEvents:qe,bulkParams:Me.n})}),rt=Object(Me.j)({type:Object(Me.g)("extended_dislike_feedback"),displayType:Object(Me.g)("ask_on_dislike"),id:Me.n,text:Me.n,answers:Object(Me.b)(nt)}),it=Object(Me.j)({id:Me.n,type:Me.n,text:Me.n}),ot=Object(Me.j)({type:Object(Me.g)("zoloka_interest_feedback"),displayType:Object(Me.g)("ask_on_click"),id:Me.n,text:Me.n,answers:Object(Me.b)(it)}),at=Object(Me.d)("type",{extended_dislike_feedback:rt,zoloka_interest_feedback:ot}),st=Object(Me.j)({questions:Object(Me.b)(at)}),ct=Object(Me.j)({id:Me.n,title:Object(Me.h)(Me.n),text:Object(Me.h)(Me.n),bulkParams:Me.n,statEvents:qe,source:We,creationTime:Object(Me.h)(Me.n),actionTime:Object(Me.h)(Me.n),requireUserData:Object(Me.h)(Me.c),pos:Me.i}),lt=Object(Me.j)({ad:Object(Me.h)(Ze),bidFloor:Object(Me.h)(Me.n),domainTitle:Me.n,link:Me.n,urlHash:Object(Me.h)(Me.n),cardColors:Object(Me.h)(Qe),mainColor:Object(Me.h)(Me.n),similar:Object(Me.h)(Object(Me.j)({link:Object(Me.h)(Me.n)})),read:Me.c,feedbackInfo:Object(Me.h)(tt),badges:Object(Me.h)(Object(Me.b)(et)),commentsDocumentId:Object(Me.h)(Me.n),allCommentsLink:Object(Me.h)(Me.n),oneCommentLink:Object(Me.h)(Me.n),reactions:Object(Me.h)(Object(Me.j)({click:Object(Me.h)(Object(Me.j)({title:Me.n})),like:Object(Me.h)(Object(Me.j)({title:Me.n})),dislike:Object(Me.h)(Object(Me.j)({title:Me.n}))}))}),ut=Object(Me.j)({isPromoted:Object(Me.h)(Me.c),isPromoPublication:Object(Me.h)(Me.c),cardBackgroundImage:Object(Me.h)(Me.n),cardBackgroundWhiteImage:Object(Me.h)(Me.n),customUserFeedbackData:Object(Me.h)(st),zenLogo:Object(Me.h)(Object(Me.j)({type:Object(Me.h)(Je),b:Me.n,w:Me.n})),promoLabel:Object(Me.h)(Object(Me.j)({textColor:Me.n,text:Me.n})),pixels:Object(Me.b)(Me.n)}),dt=Object(Me.a)(Object(Me.e)({1:ct,2:lt,3:ut,4:Object(Me.j)({image:Object(Me.h)(Me.n),bigCardImage:Object(Me.h)(Me.n),blurredPreview:Object(Me.h)(Me.n)})}),e=>{let{title:t="",text:n="",badges:r=[],customUserFeedbackData:i,similar:o,feedbackInfo:a,zenLogo:s,promoLabel:c,image:l,bigCardImage:u,blurredPreview:d=""}=e,p=Object(ze.a)(e,["title","text","badges","customUserFeedbackData","similar","feedbackInfo","zenLogo","promoLabel","image","bigCardImage","blurredPreview"]);const b=l?{hasImage:!0,image:l,bigImage:u||l,blurredPreview:d}:{hasImage:!1},m=null==o?void 0:o.link,h=Boolean(s)&&!((null==s?void 0:s.type)&&"turbo"!==s.type);s&&h&&(s.type="turbo");const f=(e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null)(a),v=((null==i?void 0:i.questions)||[]).filter(e=>"ask_on_dislike"===e.displayType),g=v.length>0?v[0]:void 0,y=((null==i?void 0:i.questions)||[]).filter(e=>"ask_on_click"===e.displayType),O=y.length>0?y[0]:void 0;return Object.assign({title:t,text:n,badges:r,similarLink:m,labelIcon:s,labelText:c,feedback:f,dislikeQuestion:g,zolokaQuestion:O},b,p)});n(417);var pt=n(322),bt=n(305),mt=n(256),ht=n(131),ft=n(306),vt=n(257),gt=n(42);const yt=Math.min(vt.a,360-2*vt.b)-2*mt.b,Ot=bt.a-2*mt.a,_t=(e,t,n,r)=>{if(!e)return!1;const i=r.current,o=i?i.clientWidth:t?yt:Ot,a=r.current&&getComputedStyle&&getComputedStyle(r.current),s=a&&a.fontFamily&&a.fontFamily.split(", ")[0]||"regular-ysans";return Object(ht.a)(e,o,{fontSize:ft.a,fontFamily:s},n)};var kt=n(116),Et=n(93),Ct=(n(418),n(177)),jt=n(519);const wt=Object(L.a)("fade-image");class St extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._getImageUrl=(()=>{const{image:e}=this.props;return e}),this._renderBlurredPreviewViewElem=(()=>{const{blurredPreview:e}=this.props,t=`data:image/png;base64,${e||""}`;return i.a.createElement("div",{className:wt("preview"),style:{backgroundImage:`url(${t})`}})}),this._renderImageElem=(e=>{const t={backgroundImage:`url(${this._getImageUrl()})`};return i.a.createElement("div",{className:wt("image",{isLoaded:e}),style:t})}),t}getImageGradient(){const{isDesktop:e,color:t}=this.props,n=Object(m.g)(e);return Object(Ct.b)(t,n)}render(){const{isDesktop:e,size:t}=this.props,n={backgroundImage:this.getImageGradient(),height:""},r=this._getImageUrl();return i.a.createElement("div",{className:wt({size:t,isDesktop:e})},i.a.createElement(jt.a,{imageUrl:r,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),i.a.createElement("div",{className:wt("image-fade"),style:n}))}}var Tt=n(526);n(420);const xt=Object(L.a)("card-read-fade"),At=[0,50,70,100],It=[1,1,.7,.5],Pt=e=>{const{type:t,shown:n,isMobile:o,color:a}=e,{opacities:s,boundaries:c}="linear"===e.type?e:{opacities:void 0,boundaries:void 0},l=Object(r.useMemo)(()=>"linear"===t?((e,t=It,n=At)=>{const r=Object(Fe.a)(e).join();return{backgroundImage:`linear-gradient(\n        to top,\n        ${t.map((e,i)=>`rgba(${r},${t[i]}) ${n[i]}%`).join()}\n    )`}})(a,s,c):(e=>({backgroundColor:e}))(a),[t,a,s,c]);return i.a.createElement("div",{className:xt({type:t,shown:n,isMobile:o}),style:l})};var Nt=n(514);n(422);const Rt=Object(L.a)("card-content"),Lt=({isMobile:e,shouldCollapseHeader:t,textContentRef:n,renderTitle:o,text:a,renderType:s,channelLink:c,subscribeButton:l,cardControls:u,hasSubscribeButton:d,size:p,renderSnippet:b,isNewClampEnabled:m})=>{const h=Object(r.useMemo)(()=>a?b(Rt("text")):null,[b,a]),f=Object(r.useMemo)(()=>o(Rt("title")),[o]);return i.a.createElement("div",{className:Rt({hasSubscribeButton:d,renderType:s,isDesktop:!e,isMobile:e,size:p,collapseHeader:t,clampedSnippet:m})},i.a.createElement("div",{className:Rt("text-content"),ref:n},f,h),i.a.createElement("div",{className:Rt("footer")},i.a.createElement("div",{className:Rt("source")},i.a.createElement("div",{className:Rt("source-name")},c),i.a.createElement("div",{className:Rt("subscribe-button")},l)),i.a.createElement("div",{className:Rt("controls")},u)))},Mt=Object(L.a)("card-image-view"),Bt=({isIntersecting$:e,item:t,read:n,shouldCollapseHeader:a,isMobile:s,visibilityRef:c,renderHeader:l,cardHover:u,renderClickable:d,renderTitle:p,hasSubscribeButton:b,channelLink:m,subscribeButton:h,cardControls:f,feedbackCard:v,feedbackModal:g,withShadows:y,docTitle:O,size:_,textColor:k,cardColor:E,cardColorRgb:C,theme:j})=>{const w=Boolean(!1),{isSmallText:S,textContentRef:T,updateTextDecrease:x}=(({text:e,isMobile:t,lineCountThreshold:n,isIntersecting$:i})=>{const o=Object(r.useRef)(null),[a,s]=Object(r.useState)(()=>_t(e,t,n,o)),c=Object(r.useRef)(null);Object(gt.a)(()=>i,e=>{c.current=e});const l=Object(r.useRef)(null);return{isSmallText:a,updateTextDecrease:Object(r.useCallback)(()=>{const r=window.innerWidth;t&&!1===c.current&&o.current&&l.current!==r&&(l.current=r,s(_t(e,t,n,o)))},[t,n,e]),textContentRef:o}})({text:t.text,isIntersecting$:e,isMobile:s,lineCountThreshold:2}),A=Object(r.useCallback)(()=>{O.current&&O.current.updateStylesAndClamp().then(()=>{L.current&&L.current.clamp()})},[O]),I=Object(Te.a)(()=>{A(),x()});Object(kt.a)(I),Object(r.useEffect)(I,[t.text,t.title,S]),Object(Et.a)(I,e);const P=w?ge.q.Fade:_===o.d.BIG?ge.q.Blur:!t.text||S?ge.q.Fade:ge.q.Blur,N=Object(r.useMemo)(()=>d(Mt("clickable")),[d]),R=Object(r.useMemo)(()=>l(Mt("header")),[l]),L=Object(r.useRef)(null),M=Object(r.useCallback)(e=>i.a.createElement(pt.a,{className:e,withAutoClamp:!1,fitToSpace:P===ge.q.Blur,ref:L,shouldResetLineCount:!0},t.text),[P,t.text]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Mt({renderType:P,size:_,isMobile:s,isDesktop:!s,withShadows:y}),style:{color:k,backgroundColor:E},ref:s?void 0:c},P===ge.q.Fade?i.a.createElement(St,{image:t.image,blurredPreview:t.blurredPreview,color:C,isDesktop:!s,size:_}):i.a.createElement(Tt.a,{image:t.image,bigImage:t.bigImage,blurredPreview:t.blurredPreview,cardBackgroundImage:t.cardBackgroundImage,cardBackgroundWhiteImage:t.cardBackgroundWhiteImage,color:E,theme:j,aspectRatioMode:s?"tall":"normal",size:_,isBlurred:n}),i.a.createElement(Pt,{color:E,type:P===ge.q.Blur&&_===o.d.BIG?"solid":"linear",shown:n||b}),i.a.createElement(Nt.a,null),u,N,R,i.a.createElement(Lt,{text:t.text,isMobile:s,shouldCollapseHeader:a,textContentRef:T,renderTitle:p,renderSnippet:M,renderType:P,channelLink:m,subscribeButton:h,cardControls:f,hasSubscribeButton:b,size:_,isNewClampEnabled:!1}),v,g))};n(423);var Dt=n(56);const Ft=Object(L.a)("card-text-view"),Vt=[0,20,45,100],Ut=[1,.8,.5,.3],zt=[.4,.4,.3,.3],Ht=({isIntersecting$:e,item:t,read:n,shouldCollapseHeader:o,isMobile:a,visibilityRef:s,renderHeader:c,cardHover:l,renderClickable:d,renderTitle:p,hasSubscribeButton:b,channelLink:m,subscribeButton:h,cardControls:f,feedbackCard:v,feedbackModal:g,withShadows:y,feedback:O,isFeedbackCard:_})=>{const k=Object(r.useRef)(null),E=Object(r.useCallback)(()=>{k.current&&k.current.clamp()},[]);Object(Et.a)(E,e),Object(kt.a)(E),Object(r.useEffect)(E,[t.title,t.text]),Object(Dt.a)(()=>{Object(u.a)(150).then(()=>E())},[n,O,E]);const C=Object(r.useMemo)(()=>d(Ft("clickable")),[d]),j=Object(r.useMemo)(()=>c(Ft("header")),[c]),w=Object(r.useMemo)(p,[p]);return i.a.createElement("div",{className:Ft({read:n,promoted:t.isPromoted||t.isPromoPublication,hasSubscribeButton:b,collapseHeader:o,isMobile:a,isDesktop:!a,isFeedbackCard:_,withShadows:y}),ref:a?void 0:s},l,C,i.a.createElement("div",{className:Ft("content")},j,i.a.createElement("div",{className:Ft("title-holder")},w),i.a.createElement(pt.a,{className:Ft("text"),withAutoClamp:!1,ref:k},t.text),i.a.createElement(Pt,{type:"linear",color:"rgb(242, 242, 242)",isMobile:a,shown:b,boundaries:Vt,opacities:Ut}),a?null:i.a.createElement(Pt,{type:"linear",color:"rgb(206, 187, 161)",shown:!1,isMobile:!1,boundaries:Vt,opacities:zt}),i.a.createElement("div",{className:Ft("source-name")},m),i.a.createElement("div",{className:Ft("subscribe-button")},b?h:null),i.a.createElement("div",{className:Ft("controls")},f)),v,g)},$t=Object(r.memo)((e=>e)(({log:e,item:{rawItem:t},containerRef:n,size:o,isSubscribeButtonAllowed:a,isFeedbackEnabled:s,shouldRenderMenu:c,areControlsDisabled:l,withShadows:d,modalRef:p,isMobile:m,isTouch:h,l10n:f,theme:v,host:g,clid:y,complaints:O,complaintCancelBtnShown:_,definitions:k,viberAppCurrentVersion:E,isShowShareInsteadOfComments:C,shownReaction:j,isFeedbackModalOpen:w,onFeedback:T,onShow:x,onClick:A,onPromoCard:I,onInvalidatePromoCard:P,onOpenSourceLink:N,onOpenFeedbackMenu:L,onCloseFeedbackMenu:M,onInvalidateCache:q,onConnectSource:G,onConnectCommentCount:K,onUpdateFeedKey:Y,onRemoveFeedbackSuggest:Z,onSetReactionShown:Q})=>{const{extendFeedback:{isPopup:X,isDislikeOptionsEnabled:J},enableCardChannelLink:ee,rezenPromoBadgeLink:te,viberShareButton:ne,measureTitleByFontMetrics:re}=De(k),{isButtonEnabled:ie,partnerAppMinVersion:oe,isShortenerEnabled:ae,shortenerResponseTimeout:se}=ne,ce=ie&&Object(Le.a)(E,oe),le=Object(Ce.a)(()=>Object(Me.k)(dt,t)),ue=Object(r.useCallback)((t,n)=>e(t,Object.assign({},n,{statEvents:le.statEvents,bulkParams:le.bulkParams})),[le.bulkParams,le.statEvents,e]),de=Object(Ce.a)(()=>Object.assign({},((e,t)=>({click:()=>e("click",{extendStatMeta:{link:t}}),show:()=>e("show")}))(ue,le.link),(e=>({like:()=>e("feedback_more"),dislike:()=>e("feedback_less"),cancelLike:()=>e("feedback_cancel_more"),cancelDislike:()=>e("feedback_cancel_less")}))(ue),(e=>({clickCommentCounter:()=>e("click_comments_counter"),clickShare:()=>e("share")}))(ue),(e=>({clickTeaser:()=>e("click_teaser"),showTeaser:()=>e("show_teaser")}))(ue),(e=>({showComplain:()=>e("complain_show"),clickComplain:t=>{var n;e("complain_click",{eventReplaceMap:{__reasons__:null!==(n=null==t?void 0:t.join(","))&&void 0!==n?n:""}})}}))(ue),((e,t)=>{const n=n=>r=>{const i=r?t[r]:void 0;e(n,{eventReplaceMap:{__pe__:i||"__pe__"}})};return{unsubscribe:n("feedback_cancel_favourite"),subscribe:n("feedback_favourite"),showSubscribeButton:n("favourite_button_show"),block:()=>e("feedback_block"),cancelBlock:()=>e("feedback_cancel_block")}})(ue,le.statEvents),((e,t,n)=>({setAnswerChecked:(r,i)=>{if(!n)return;const{id:o,type:a,answers:s}=n,c=s.find(({id:e})=>r===e);if(!c)return console.error("Answer not found: ",r);e(i?"custom_user_feedback":"custom_user_feedback_cancel",{eventReplaceMap:{__uq__:o,__ut__:a,__ua__:r,__uat__:c.type}}),t(i?"feedback_block":"feedback_cancel_block",c.stats)},showExtendedDislike:()=>{if(!n)return;const{id:t,type:r,answers:i}=n;e("custom_user_feedback_show",{eventReplaceMap:{__uq__:t,__ut__:r,__ua__:i.map(({id:e})=>e).join(","),__uat__:i.map(({type:e})=>e).join(",")}})}}))(ue,e,le.dislikeQuestion),(e=>({showLikeReaction:()=>e("reaction_show_like"),showDislikeReaction:()=>e("reaction_show_dislike"),showClickReaction:()=>e("reaction_show_click")}))(ue))),{source:pe,toggleSubscribe:be,setSourceBlocked:me}=Pe({initialSource:le.source,onFeedback:T,stats:de,onConnectSource:G}),he=Object(r.useCallback)(()=>N(pe.strongestId),[N,pe]),fe=(({initial:e,subscribe:t})=>{const[n,i]=Object(r.useState)(e);return Object(S.a)(()=>t(e=>{i(e)})),n})(Object(Ce.a)(()=>K(le.commentsDocumentId)));Object(S.a)(()=>(I({containerRef:n,title:le.title,domainTitle:le.domainTitle,stats:de}),()=>{P()}));const ve=Object(Ne.a)(le.pixels),[ge,ye,Oe]=Object(je.a)();Object(we.b)({isVisible$:ye,onShow(){de.show(),ve(),x()}});const{mittensJumpAnimationKey:ke,read:Be,handleClick:ze,handleAuxClick:He}=(({stats:e,initialRead:t,onClick:n})=>{const[i,o]=Object(r.useState)(t),[a,s]=Object(r.useReducer)(e=>e+1,0),c=Object(Se.a)(()=>{Object(b.a)().then(()=>{o(!0),Object(u.a)(1500).then(s)}),e.click(),n()},250),l=Object(r.useCallback)(e=>{0!==e.button&&1!==e.button||c()},[c]);return{read:i,mittensJumpAnimationKey:a,handleClick:c,handleAuxClick:l}})({stats:de,initialRead:le.read,onClick(){Ke("click"),A(le.similarLink,le.pos)}}),{feedback:$e,handleToggleFeedback:We}=(({initialFeedback:e,stats:t,onFeedback:n,onLike:i})=>{const[o,a]=Object(r.useState)(e),s=Object(Te.a)(e=>("liked"===o?t.cancelLike():"disliked"===o&&t.cancelDislike(),"liked"===e&&i(),e===o?(a(null),n(),!1):(a(e),n(),"liked"===e?t.like():t.dislike(),!0)));return{feedback:o,handleToggleFeedback:s}})({initialFeedback:le.feedback,onFeedback:T,stats:de,onLike:()=>Ke("feedback_more")}),{hasSubscribeButton:qe,clickSubscribeButton:Ge,setSubscribeTriggerEvent:Ke}=(({stats:e,isSubscribeButtonAllowed:t,source:n,feedback:i,read:o,toggleSubscribe:a})=>{const s=t&&!n.subscriptionForbidden&&("subscribed"!==n.status||Boolean(n.isSubscribedInCurrentSession))&&("liked"===i||o),[c,l]=Object(r.useState)(),[u,d]=Object(Ce.a)(()=>{const e=new xe.a;return[e,e.pipe(Object(Ae.a)())]});Object(r.useEffect)(()=>{u.next(s)},[u,s]),Object(we.b)({isVisible$:d,onShow:()=>e.showSubscribeButton(c)});const p=Object(r.useCallback)(()=>{a(c)},[a,c]);return{hasSubscribeButton:s,clickSubscribeButton:p,setSubscribeTriggerEvent:l}})({toggleSubscribe:be,isSubscribeButtonAllowed:a,read:Be,feedback:$e,source:pe,stats:de}),Ye=s&&("disliked"===$e||X),Ze=Ie({stats:de,dislikeQuestion:le.dislikeQuestion,setSourceBlocked:me,toggleFeedback:We,onFeedback:T,onInvalidateCache:q}),Qe=le.hasImage?le.image:void 0,{textColor:Xe,cardColor:Je,cardColorRgb:et,hoverColor:tt}=Qe?((e,t)=>{if(e){const{text:t,card:n,isDarkImage:r}=Object(Ve.a)(e);return{hoverColor:r?"#000":"#fff",textColor:t,cardColor:n,cardColorRgb:Object(Fe.a)(n).join()}}const n=t?t.card:"#fff",r=Object(Fe.a)(n).join(),i=t?t.text:"#000",{isDarkImage:o}=Object(Ve.a)(n);return{hoverColor:o?"#000":"#fff",textColor:i,cardColor:n,cardColorRgb:r}})(le.mainColor,le.cardColors):{textColor:"#000",cardColor:"#fff",cardColorRgb:"255, 255, 255",hoverColor:"#CEBBA1"},nt=Object(Fe.c)(le),rt=!(le.labelIcon||le.isPromoted||le.isPromoPublication||le.badges.length),it=!Object(Re.f)(fe)&&!Object(Re.f)(le.allCommentsLink),ot=Object(r.useMemo)(()=>i.a.createElement(B,{color:tt,isMobile:m}),[tt,m]),at=Object(r.useCallback)(e=>i.a.createElement(D.b,{href:le.link,host:g,className:e,onClick:ze,onAuxClick:He}),[He,ze,g,le.link]),st=Object(r.useCallback)(e=>i.a.createElement(F.b,{isDark:nt,image:Qe,mainColor:le.mainColor,cardColors:le.cardColors,badges:le.badges,labelIcon:le.labelIcon,labelText:le.labelText,onOpenFeedbackMenu:L,isDesktop:!m,host:g,isTextCard:!Qe,shouldRenderMenu:c,read:Be,className:e,promoLink:te}),[g,Qe,nt,m,le.badges,le.cardColors,le.mainColor,le.labelIcon,le.labelText,L,te,Be,c]),ct=Object(r.useRef)(null),lt=Object(r.useCallback)(e=>i.a.createElement(R.a,{title:le.title,rootRef:m?ge:void 0,isDesktop:!m,isMobile:m,isLetterSpacingExp:!0,fitToSpace:!1,ref:ct,className:e}),[m,le.title,ge]),ut=Object(r.useMemo)(()=>i.a.createElement(U.b,{host:g,isMobile:m,feedLink:pe.feedLink||"",isCardChannelLinkEnabled:ee,onOpenSourceLink:he},i.a.createElement(z.a,{name:le.domainTitle,textColor:Xe,isCommentCounterAppeared:it})),[he,g,ee,it,m,le.domainTitle,pe.feedLink,Xe]),pt=Object(r.useMemo)(()=>i.a.createElement(H.b,{style:{borderColor:Xe,color:Xe,opacity:.7},isMobile:m,l10n:f,isSubscribed:"subscribed"===pe.status,onClick:Ge}),[Ge,m,f,pe.status,Xe]),bt=Object(r.useMemo)(()=>i.a.createElement($.b,{stats:de,link:le.link,urlHash:le.urlHash,allCommentsLink:le.allCommentsLink,l10n:f,host:g,clid:y,areControlsDisabled:l,isMobile:m,isHoverable:!h,isShowShareInsteadOfComments:C,hasProductsButton:!1,isShareButtonEnabled:ce,isShortenerEnabled:ae,shortenerResponseTimeout:se,backgroundColor:Je,iconColor:Xe,feedback:$e,commentCount:fe,mittensJumpAnimationKey:ke,onCardClick:ze,onToggleFeedback:We}),[l,Je,fe,$e,ze,We,g,y,f,m,ce,ae,C,h,le,ke,se,de,Xe]),mt=Object(r.useMemo)(()=>Ye?i.a.createElement(W.b,{mainColor:le.mainColor,domainTitle:le.domainTitle,question:le.dislikeQuestion,feedbackProps:Ze,isDislikeOptionsEnabled:J,isOfficialComplains:!0,isExtendFeedbackPopupExp:X,l10n:f,isMobile:m,size:o,theme:v,complaints:O,canBlockAndComplain:!0,complaintCancelBtnShown:_}):null,[O,_,Ze,J,X,Ye,m,le,f,o,v]),ht=Object(r.useMemo)(()=>w?i.a.createElement(_e,{link:le.link,domainTitle:le.domainTitle,title:le.title,image:Qe,modalRef:p,l10n:f,host:g,isSubscribed:"subscribed"===pe.status,onCloseFeedbackMenu:M,onToggleFeedback:We,onOpenComplaints:Ze.openComplaints,onSetCardBlocked:Ze.setCardBlocked,onToggleSubscribe:be}):null,[Ze.openComplaints,Ze.setCardBlocked,We,g,Qe,w,le,f,p,M,pe.status,be]),ft=Bt,vt=le.image?i.a.createElement(ft,{isIntersecting$:Oe,item:le,read:Be,shouldCollapseHeader:rt,isMobile:m,visibilityRef:ge,renderHeader:st,renderClickable:at,cardHover:ot,renderTitle:lt,hasSubscribeButton:qe,channelLink:ut,subscribeButton:pt,cardControls:bt,feedbackCard:mt,feedbackModal:ht,withShadows:d,docTitle:ct,size:o,textColor:Xe,cardColor:Je,cardColorRgb:et,theme:v}):i.a.createElement(Ht,{isIntersecting$:Oe,item:le,read:Be,shouldCollapseHeader:rt,isMobile:m,visibilityRef:ge,renderHeader:st,renderClickable:at,cardHover:ot,renderTitle:lt,hasSubscribeButton:qe,channelLink:ut,subscribeButton:pt,cardControls:bt,feedbackCard:mt,feedbackModal:ht,withShadows:d,feedback:$e,isFeedbackCard:Ye});return i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{withShadows:d},m&&Qe?i.a.createElement(Ue.a,{width:365,height:429},vt):vt),m&&le.reactions?i.a.createElement(Ee.b,{stats:de,reactions:le.reactions,shownReaction:j,onSetReactionShown:Q,onRemoveFeedbackSuggest:Z,onAnimation:Y,cardFeedback:$e,isClicked:Be}):null)}));n.d(t,"a",function(){return Wt});const Wt=Object(r.memo)(({id:e,size:t,containerRef:n,itemIndexInRow:u,scrollTo:d})=>{const{zenApi:b,globalBus:h}=Object(s.c)(),f=Boolean(!1),S=Boolean(!1),A=Object(a.b)(),R=Object(r.useCallback)(Object(j.a)(()=>b.invalidateCache(),w.a),[b]),L=v(e,d),M=Object(c.f)(),{handleFeedback:B}=Object(g.b)(),D=Object(r.useCallback)(()=>{B(),h&&h.emit("cardFeedback"),M(Object(p.f)())},[B,h,M]),{item:F,isSubscribeButtonAllowed:V,shouldRenderMenu:U,theme:z,isFeedbackEnabled:H,itemOrder:$,promoCardRowsCount:W,host:q,clid:G,withShadows:K,isTouch:Y,areControlsDisabled:Z,isSpaApp:Q,complaints:X,definitions:J,viberAppCurrentVersion:ee,isFeedbackModalOpen:te,shownReaction:ne}=Object(c.g)(t=>{var n,r,i,a,s;return{item:Object(m.x)(t,e,[o.e.IMAGE,o.e.TEXT]),itemOrder:Object(m.m)(t,e),isSubscribeButtonAllowed:Object(O.b)(t),isFeedbackEnabled:Object(y.a)(t),shouldRenderMenu:Object(l.h)(t),areControlsDisabled:Object(l.e)(t),withShadows:Object(m.l)(t),promoCardRowsCount:Object(m.r)(t),complaints:t.params.complaints,theme:Object(l.m)(t),host:t.params.host||"",clid:t.params.clid||"",isTouch:Boolean(null==t?void 0:null===(n=t.params)||void 0===n?void 0:n.isTouch),isSpaApp:t.params.isSpaApp,viberAppCurrentVersion:t.params.partnerAppVersion||"0",definitions:t.params.clientDefinition,isFeedbackModalOpen:(null===(r=t.router)||void 0===r?void 0:null===(i=r.location.state)||void 0===i?void 0:i.feedbackMenuItemId)===e&&(null===(a=t.router)||void 0===a?void 0:null===(s=a.location.state)||void 0===s?void 0:s.isIsolatedCard),shownReaction:t.iface.shownReaction}},_.a),re=Object(r.useCallback)(()=>{b.packShown(F.packId,F.cacheId)},[b,F.packId,F.cacheId]),{onPromoCard:ie,onInvalidatePromoCard:oe}=Object(k.a)({isDesktop:Boolean(!0),id:e,scrollTo:d,itemIndexInRow:u,promoCardRowsCount:W,itemOrder:$}),ae=Object(r.useCallback)(e=>!!Q&&(M((t,n)=>{h.emit("requestSourceOpen",n().sources[e])}),!0),[Q,M,h]),se=(()=>{const e=Object(c.f)(),t=Object(T.c)();return Object(r.useCallback)((n,{status:r})=>{const i=P(n),o=i.strongestId,a=e((e,t)=>{const n=t().sources[o];e(Object(x.b)(i.strongestId,Object.assign({},i,{id:o,status:n?n.status:r})));const a=t().sources[o];return I(a)});return{encodedSource:a,subscribe:e=>{let n=a;return t.subscribe(()=>{const r=I(t.getState().sources[o]);Object(c.e)(n,r)||(n=r,e(r))})},setStatus:n=>{const r=t.getState().sources[o],a=Object.assign({},i,{id:o},r,{status:n});e(Object(x.d)(n,a))}}},[e,t])})(),ce=(()=>{const e=Object(T.c)();return Object(r.useCallback)(t=>{const n=()=>{var n,r;if(t)return null===(n=e.getState().commentsData)||void 0===n?void 0:null===(r=n[t])||void 0===r?void 0:r.count},r=n();let i=r;return{initial:r,subscribe:t=>e.subscribe(()=>{const e=n();e!==i&&(i=e,t(e))})}},[e])})(),le=Object(r.useCallback)(()=>{},[M,e]),ue=Object(r.useCallback)(()=>{},[M]),de=Object(r.useContext)(C),{l10n:pe}=Object(E.a)(),be=Object(r.useCallback)(()=>{M(Object(p.o)())},[M]),me=Object(r.useCallback)(()=>M(Object(p.h)(e)),[M,e]),he=Object(r.useCallback)(e=>{M(Object(N.d)(e))},[M]);return i.a.createElement($t,{item:F,log:A,size:t,containerRef:n,onShow:re,onClick:L,onFeedback:D,onPromoCard:ie,onInvalidatePromoCard:oe,onOpenSourceLink:ae,onConnectSource:se,onUpdateFeedKey:be,onRemoveFeedbackSuggest:me,onSetReactionShown:he,l10n:pe,isMobile:f,isTouch:Y,isShowShareInsteadOfComments:S,withShadows:K,areControlsDisabled:Z,isSubscribeButtonAllowed:V,shouldRenderMenu:U,theme:z,host:q,clid:G,complaints:X,complaintCancelBtnShown:Boolean(!1),isFeedbackEnabled:H,onOpenFeedbackMenu:le,viberAppCurrentVersion:ee,definitions:J,onInvalidateCache:R,isFeedbackModalOpen:te,onCloseFeedbackMenu:ue,modalRef:de,onConnectCommentCount:ce,shownReaction:ne})})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n(20),o=n(5),a=n(18);const s=(e,t)=>{const{globalBus:n}=Object(i.c)(),s=Object(o.g)(e=>e.params.isSpaApp),c=Object(o.g)(a.k).redesign;return Object(r.useCallback)(r=>{t&&t(r),e&&e.feedLink&&("user"!==e.type||c)&&(!s||r.ctrlKey||r.metaKey||r.shiftKey||(r.preventDefault(),n.emit("requestSourceOpen",e)))},[s,n,t,e,c])}},function(e,t,n){"use strict";var r=n(12),i=n.n(r),o=n(13),a=n.n(o),s=new i.a({id:"cross--inline",use:"cross--inline-usage",viewBox:"0 0 14 14",content:'<symbol viewBox="0 0 14 14" id="cross--inline"><path d="m13.0208153 11.0208153v-7.50000002h-2v7.50000002h-7.50000002v2h7.50000002v7.5h2v-7.5h7.5v-2z" fill-rule="evenodd" transform="matrix(.70710678 -.70710678 .70710678 .70710678 -9.979185 7.020815)" /></symbol>'});a.a.add(s);t.a=s},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=({statObject:e})=>{const t=Object(i.b)();return Object(r.useCallback)(()=>{e&&t("feedback_cancel_block",e)},[t,e])}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=({statObject:e,triggerEvent:t})=>{const n=Object(i.b)();return Object(r.useCallback)(()=>{e&&n("feedback_cancel_favourite",Object.assign({},e,{eventReplaceMap:{__pe__:t||"__pe__"}}))},[n,e,t])}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(19);const o=({statObject:e,triggerEvent:t})=>{const n=Object(i.b)();return Object(r.useCallback)(()=>{e&&n("feedback_favourite",Object.assign({},e,{eventReplaceMap:{__pe__:t||"__pe__"}}))},[n,e,t])}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(17),i=n(23),o=n(0),a=n.n(o),s=n(81);const c=e=>{const t=Object(o.forwardRef)((t,n)=>{const{renderTrigger:s,renderContent:c}=t,l=Object(i.a)(t,["renderTrigger","renderContent"]),u=Object(o.useRef)(null),d=Object(o.useCallback)(()=>u.current,[]),[p,b]=Object(o.useState)(!1),m=Object(o.useCallback)(()=>b(!0),[]),h=Object(o.useCallback)(()=>b(!1),[]),f=Object(o.useCallback)(()=>b(e=>!e),[]),v=s({containerRef:u,open:m,close:h,toggle:f,isOpen:p}),g=a.a.createElement(e,Object(r.a)({},l,{ref:n,getTriggerElem:d,close:h,isOpen:p}),c({close:h}));return a.a.createElement(a.a.Fragment,null,v,g)});return t.displayName=Object(s.a)("WithOpenState",e),Object(o.memo)(t)}},function(e,t,n){var r=n(125),i=n(188),o=n(278),a=n(277),s=n(361),c=function(e,t,n){var l,u,d,p,b=e&c.F,m=e&c.G,h=e&c.S,f=e&c.P,v=e&c.B,g=m?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,y=m?i:i[t]||(i[t]={}),O=y.prototype||(y.prototype={});for(l in m&&(n=t),n)d=((u=!b&&g&&void 0!==g[l])?g:n)[l],p=v&&u?s(d,r):f&&"function"==typeof d?s(Function.call,d):d,g&&a(g,l,d,e&c.U),y[l]!=d&&o(y,l,p),f&&O[l]!=d&&(O[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},,,,,,,,function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(125),i=n(278),o=n(352),a=n(276)("src"),s=Function.toString,c=(""+s).split("toString");n(188).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(279),i=n(351);e.exports=n(248)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(324),i=n(348),o=n(350),a=Object.defineProperty;t.f=n(248)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){},function(e,t,n){"use strict";n(5),n(53);var r=n(6);n(2),n(300),n(30),n(24),n(7),n(184),n(8),n(118),n(14),n(252);const{ClickScroll:i,Scroll:o}=r.v},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};i(n(0));var r=i(n(168));function i(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";var r=n(12),i=n.n(r),o=n(13),a=n.n(o),s=new i.a({id:"zen-star--inline",use:"zen-star--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="zen-star--inline">\n    <path d="M17 9.24194V8.75806C14.1121 8.58296 12.478 8.20496 11.1214 6.87857C9.79504 5.52203 9.41704 3.88792 9.24194 1H8.75806C8.58296 3.88792 8.20496 5.52203 6.87857 6.87857C5.52203 8.20496 3.88792 8.58296 1 8.75806V9.24194C3.88792 9.41704 5.52203 9.79504 6.87857 11.1214C8.20496 12.478 8.58296 14.1121 8.75806 17H9.24194C9.41704 14.1121 9.79504 12.478 11.1214 11.1214C12.478 9.79504 14.1121 9.41704 17 9.24194Z" />\n</symbol>'});a.a.add(s);t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(135);const o=({cardFeedback:e,setCardFeedback:t,onDislike:n,onCancelLike:o,onCancelDislike:a})=>{const s=Object(r.useCallback)(()=>{switch(e){case null:t("disliked"),n();break;case"liked":t("disliked"),o(),n();break;case"blocked":case"disliked":t(null),a()}},[e,a,o,n,t]),c=Object(r.useMemo)(()=>"blocked"===e||"disliked"===e?i.a.Focused:"liked"===e?i.a.Unfocused:i.a.Normal,[e]);return Object(r.useMemo)(()=>({focus:c,onDislikeClick:s}),[c,s])}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";n.r(t);var r=n(101);n.d(t,"default",function(){return r.a})},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(5),a=n(8),s=n(2),c=(n(10),n(487),n(16)),l=n(42),u=n(41),d=n(116),p=n(93),b=n(64),m=n(101);n(491),n(497);const h=Object(c.a)("video-fullscreen-toggle"),f=Object(r.memo)(({onToggle:e,isFullscreen:t})=>{const n=Object(r.useCallback)(()=>{e(!t)},[t,e]);return i.a.createElement("button",{onClick:n,className:h({isFullscreen:t})})});n(498);const v=Object(r.memo)(({time:e})=>i.a.createElement("span",null,(e=>{const t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),i=r<10?`0${r}`:r.toString(),o=n<10?`0${n}`:n.toString(),a=t<10?`0${t}`:t.toString();return(0===r?[o,a]:[i,o,a]).join(":")})(e)));n(499);const g=Object(c.a)("video-timeline"),y=({duration:e,currentTime:t,onSeek:n})=>{const o=Object(r.useRef)(null),a=Object(r.useRef)(null),s=Object(r.useRef)({mouseX:0,containerWidth:0,progress:0}),c=Object(r.useRef)(null),l=Object(r.useRef)(1),[u,d]=Object(r.useState)(!1),p=Object(r.useCallback)(e=>{const{current:t}=s,{current:n}=a,{current:r}=o,{current:i}=l;if(!n||!r)return;const{containerWidth:c}=t,u=Math.max(0,Math.min(c,e));n.style.transform=`translateX(${u}px) scale(${i})`,r.style.width=`${u}px`,t.progress=u},[]),b=Object(r.useCallback)(t=>{const r=t.touches&&t.touches[0]||t,{clientX:i}=r,{current:o}=s,{mouseX:a}=o;p(i-a);const c=o.progress*(e/o.containerWidth);n(c)},[e,p,n]),m=Object(r.useCallback)(()=>{document.removeEventListener("touchmove",b),document.removeEventListener("touchend",m),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",m),l.current=1,d(!1)},[b]),h=Object(r.useCallback)(()=>{const{current:e}=c;if(!e)return;const{current:t}=s,{width:n}=e.getBoundingClientRect();t.containerWidth=n},[]),f=Object(r.useCallback)(t=>{const r=t.touches&&t.touches[0]||t,{clientX:i}=r,{current:o}=c;if(!o)return;l.current=1.2;const{current:a}=s,{left:u,width:h}=o.getBoundingClientRect(),f=i-u;a.mouseX=u,a.containerWidth=h,p(f);const v=a.progress*(e/h);n(v),document.addEventListener("touchmove",b),document.addEventListener("touchend",m),document.addEventListener("mousemove",b),document.addEventListener("mouseup",m),d(!0)},[e,b,m,p,n]);Object(r.useEffect)(()=>h(),[h]),Object(r.useEffect)(()=>{const{current:n}=s;if(u||0===n.containerWidth)return;const r=t/(e/n.containerWidth);p(r)},[u,t,e,p]);const v=Object(r.useCallback)(e=>{e.stopPropagation()},[]);return i.a.createElement("div",{className:g(),draggable:!1,onTouchMove:v},i.a.createElement("div",{className:g("progress"),ref:o}),i.a.createElement("div",{draggable:!1,onDragStart:e=>e.preventDefault(),className:g("cursor"),ref:a}),i.a.createElement("div",{draggable:!1,className:g("clickable-zone"),ref:c,onTouchStart:f,onMouseDown:f}))},O=Object(c.a)("video-timeline-controls"),_=e=>{const{currentTime:t,duration:n,onSeek:r,withTimeline:o,withDuration:a,withCurrentTime:s,withCountdown:c,isFullControls:l}=e,u=!a&&!s&&o,d=Math.max(0,Math.min(t,n));return i.a.createElement("div",{className:O({isFullControls:l})},s&&i.a.createElement("div",{className:O("label")},i.a.createElement(v,{time:d})),o&&i.a.createElement("div",{className:O("timeline",{isFullWidth:u})},i.a.createElement(y,{duration:n,currentTime:d,onSeek:r})),a&&i.a.createElement("div",{className:O("label")},i.a.createElement(v,{time:n})),c&&i.a.createElement("div",{className:O("label",{hasBackface:!0})},i.a.createElement(v,{time:n-d})))};n(495);var k=n(294);n(493);const E=Object(c.a)("shadower"),C=({boxShadow:e,children:t})=>i.a.createElement("div",{className:E()},i.a.createElement("span",{className:E("shadow"),style:{boxShadow:e}}),i.a.createElement("div",{className:E("content")},t)),j={xs:16,s:24,m:32},w=Object(r.memo)(({size:e,icon:t,className:n})=>{const r="string"==typeof e?j[e]:e;return i.a.createElement("svg",{viewBox:t.viewBox,width:r,height:r,className:n},i.a.createElement("use",{xlinkHref:`#${t.id}`}))});n(496);const S=({pressRef:e,animationTime:t,unpressDelay:n=0,initialClassName:i,pressedClassName:o,onEndPress:a,onStartPress:s})=>{const c=Object(r.useRef)(!1),l=Object(r.useCallback)(()=>{const{current:r}=e;r&&(i&&r.classList.remove(i),r.classList.add(o),c.current=!0,s&&s(),window.setTimeout(()=>{c.current=!1},t+n))},[t,i,s,e,o,n]),u=Object(r.useCallback)(()=>{const{current:t}=e;t&&(t.classList.remove(o),i&&t.classList.add(i),a&&a())},[i,a,e,o]),d=Object(r.useCallback)(e=>{e?l():c.current?window.setTimeout(()=>{u()},t+n):u()},[t,l,u,n]);!function(e,t){Object(r.useEffect)(()=>{const n=()=>{t(!0)},r=()=>{t(!1)},i=e.current;if(i)return i.addEventListener("mousedown",n),i.addEventListener("mouseup",r),()=>{i.removeEventListener("mousedown",n),i.removeEventListener("mouseup",r)}},[e,t])}(e,d)},T=Object(c.a)("scale-on-press"),x=Object(r.memo)(({children:e,withOpacityWhenPress:t,wrappedComponent:n="div"})=>{const o=Object(r.useRef)(null),a=Object(r.useRef)(),[s,c]=Object(r.useState)(!1),l=Object(r.useCallback)(()=>{a.current=null,c(!1)},[]),u=Object(r.useCallback)(()=>{a.current=e,c(!0)},[e]);return S({pressRef:o,animationTime:200,pressedClassName:"_is-pressed",onEndPress:l,onStartPress:u}),i.a.createElement(n,{className:T({withOpacityWhenPress:t}),ref:o},s?a.current:e)});var A=n(44);var I=n(12),P=n.n(I),N=n(13),R=n.n(N),L=new P.a({id:"mute-button--inline",use:"mute-button--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="mute-button--inline"><path d="M16.2 7.8L14.8 9.2C16.3 10.8 16.3 13.3 14.8 14.8L16.2 16.3C18.5 13.9 18.5 10.1 16.2 7.8Z" /><path d="M17.6 17.7L19.0 19.1C22.9 15.2 22.9 8.9 19.0 5.0L17.6 6.4C20.7 9.5 20.7 14.6 17.6 17.7Z" /><path d="M12 5.0L6.0 9.0H3.0C2.4 9.0 2.0 9.4 2.0 10V14C2.0 14.5 2.4 15 3.0 15H6.0L12 19V5.0Z" /><path d="M12.3 4.4V19.5L5.9 15.3H3.0C2.2 15.3 1.7 14.7 1.7 14V10C1.7 9.2 2.2 8.7 3.0 8.7H5.9L12.3 4.4ZM11.7 5.5L6.0 9.3H3.0C2.6 9.3 2.3 9.6 2.3 10V14C2.3 14.3 2.6 14.7 3.0 14.7H6.0L11.7 18.4V5.5Z" /></symbol>'}),M=(R.a.add(L),L),B=new P.a({id:"unmute-button--inline",use:"unmute-button--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="unmute-button--inline"><path d="M18.4 13.1L16.5 15.0L15.4 13.9L17.3 11.9L15.4 10.0L16.5 8.9L18.4 10.8L20.4 8.9L21.5 10.0L19.6 11.9L21.5 13.9L20.4 15.0L18.4 13.1Z" /><path d="M12.7 20.4V3.5L5.7 8.2H2.9C2.0 8 1 9.0 1.1 10.0V14.0C1.1 14.9 2.0 15.8 2.9 15.8H5.7L12.7 20.4ZM6.6 9.5L11.1 6.4V17.5L6.6 14.4V9.5ZM5 9.8V14.2H2.9C2.8 14.2 2.7 14.1 2.7 14.0V10.0C2.7 9.8 2.8 9.8 2.9 9.8H5Z" /></symbol>'}),D=(R.a.add(B),B);const F=Object(c.a)("video-mute-toggle"),V=Object(r.memo)(({isMuted:e,onToggle:t,withSound:n,isShownWhenVisible:o,isLabelVisibleInitial:a,size:s="s",isVisible$:c})=>{const{l10n:u}=Object(k.a)(),[d,p]=Object(r.useState)(),[b,m,h]=((e,t)=>{const[n,i]=Object(r.useState)(e);return[n,Object(r.useRef)(Object(A.a)(i,t)).current,i]})(a,3e3);Object(l.a)(()=>c,e=>{p(Boolean(e))});const f=Object(r.useCallback)(()=>{n?t&&t(!e):(h(!0),m(!1))},[e,t,h,m,n]),v=e||!n?D:M,g=Object(r.useMemo)(()=>i.a.createElement(C,{boxShadow:"0 0 20px 4px rgba(0, 0, 0, 0.2)"},i.a.createElement("button",{type:"button",onClick:f,className:F("button",{isMuted:e,soundOff:!n})},i.a.createElement(w,{icon:v,size:s}))),[v,f,e,s,n]);return i.a.createElement("div",{className:F({isLabelVisible:b,isVisible:d&&o})},n?i.a.createElement(x,{withOpacityWhenPress:!0},g):i.a.createElement(i.a.Fragment,null,g,i.a.createElement("span",{className:F("without-sound-label")},u("mobile.video.no_sound"))))});n(492);var U=n(603),z=n(21);n(494);const H=Object(c.a)("circular-progress-indicator"),$=({isActive:e,size:t=43,background:n="#fff"})=>i.a.createElement("svg",{width:t,height:t,viewBox:"0 0 100 100",className:H({isActive:e})},i.a.createElement("circle",{className:H("circle"),stroke:n,cx:"50",cy:"50",r:"45",fill:"none",strokeMiterlimit:"10",strokeWidth:"10"}));var W=new P.a({id:"play-button--inline",use:"play-button--inline-usage",viewBox:"0 0 84 84",content:'<symbol viewBox="0 0 84 84" fill="white" id="play-button--inline">\n    <path d="M29.4472 24.7236C28.7823 24.3912 28 24.8747 28 25.618V58.382C28 59.1253 28.7823 59.6088 29.4472 59.2764L62.2111 42.8944C62.9482 42.5259 62.9482 41.4741 62.2111 41.1056L29.4472 24.7236Z" />\n</symbol>'}),q=(R.a.add(W),W),G=new P.a({id:"pause-button--inline",use:"pause-button--inline-usage",viewBox:"0 0 84 84",content:'<symbol viewBox="0 0 84 84" fill="white" id="pause-button--inline">\n    <path d="M29 28C29 27.4477 29.4477 27 30 27H36C36.5523 27 37 27.4477 37 28V56C37 56.5523 36.5523 57 36 57H30C29.4477 57 29 56.5523 29 56V28Z" />\n    <path d="M47 28C47 27.4477 47.4477 27 48 27H54C54.5523 27 55 27.4477 55 28V56C55 56.5523 54.5523 57 54 57H48C47.4477 57 47 56.5523 47 56V28Z" />\n</symbol>'}),K=(R.a.add(G),G),Y=new P.a({id:"error-button--inline",use:"error-button--inline-usage",viewBox:"0 0 84 84",content:'<symbol viewBox="0 0 84 84" fill="white" id="error-button--inline">\n    <path d="M42.0002 20C46.4949 20 50.6652 21.3889 54.1054 23.7609L50.1033 27.1179C47.7087 25.7693 44.9443 25 42.0002 25C32.8669 25 25.4628 32.404 25.4628 41.5374C25.4628 43.4552 25.7892 45.2967 26.3896 47.0094L22.5698 50.2135C21.3365 47.514 20.6493 44.5127 20.6493 41.3509C20.6493 29.5591 30.2084 20 42.0002 20ZM34.3049 56.1791C34.2875 56.1699 34.2701 56.1607 34.2527 56.1515L30.4704 59.3242C30.4907 59.3372 30.5109 59.3502 30.5313 59.3631L29.8601 59.9294C29.6234 60.1291 29.6234 60.4939 29.8601 60.6937L41.4352 70.4602C41.98 70.9198 42.8135 70.5326 42.8135 69.8198L42.8135 62.6866C54.2284 62.2591 63.3511 52.8704 63.3511 41.3509C63.3511 38.4344 62.7663 35.6544 61.7076 33.1219L57.7402 36.4498C58.2579 38.0526 58.5376 39.7623 58.5376 41.5374C58.5376 50.3981 51.5691 57.6311 42.8135 58.0551L42.8135 50.8033C42.8135 50.0905 41.98 49.7032 41.4352 50.1629L34.3049 56.1791Z" />\n    <path d="M43.7854 32.4602C43.2407 32.9198 42.4072 32.5326 42.4072 31.8198L42.4072 12.8033C42.4072 12.0905 43.2407 11.7032 43.7854 12.1629L55.3606 21.9294C55.5973 22.1291 55.5973 22.4939 55.3606 22.6937L43.7854 32.4602Z" />\n</symbol>'}),Z=(R.a.add(Y),Y);const Q=Object(c.a)("video-state"),X=Object(r.memo)(e=>{const{state:t,onPlay:n,onPause:r,onReplayByTimeout:o,onReplayByUser:a,replaySecIn:s,isFreezeAnimations:c,withReplay:l}=e,{l10n:u}=Object(k.a)();switch(t){case z.b.Buffering:return i.a.createElement("div",{className:Q()},i.a.createElement(C,{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 30px 30px"},i.a.createElement($,{isActive:!c})));case z.b.Paused:return i.a.createElement("div",{className:Q(),onClick:n},i.a.createElement(C,{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 30px 30px"},i.a.createElement("svg",{viewBox:q.viewBox,width:"84",height:"84"},i.a.createElement("use",{xlinkHref:`#${q.id}`}))));case z.b.Playing:return i.a.createElement("div",{className:Q(),onClick:r},i.a.createElement(C,{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 30px 30px"},i.a.createElement("svg",{viewBox:K.viewBox,width:"84",height:"84"},i.a.createElement("use",{xlinkHref:`#${K.id}`}))));case z.b.Error:return i.a.createElement("div",{className:Q(),onClick:n},i.a.createElement("div",{className:Q("error-block")},i.a.createElement(C,{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 30px 30px"},i.a.createElement("svg",{viewBox:Z.viewBox,width:"84",height:"84"},i.a.createElement("use",{xlinkHref:`#${Z.id}`}))),i.a.createElement("div",{className:Q("error-message")},u("desktop.video_player.load_error"),i.a.createElement("br",null),u("desktop.video_player.load_try_again"))));case z.b.Ended:return l?i.a.createElement("div",{className:Q()},i.a.createElement(U.a,{isPlayNext:!1,seconds:s,onFinish:o,isPauseCountDown:c,onClick:a,strokeWidth:2,radius:40})):null;default:return null}}),J=Object(c.a)("video-controls"),ee=e=>{const{onPlay:t,onPause:n,onFullscreenToggle:o,currentTime:a,duration:s,onSeek:c,playerState:l,isMuted:u,onMuteToggle:d,withTimeline:p,withDuration:b,withCurrentTime:m,withCountdown:h,withSound:v,withFullscreen:g,withMuteToggleWhenVisible:y,withReplay:O,isMobile:k,isVisibleState:E,isVisibleControls:C,onVideoReplay:j,replaySecIn:w,stateBlockRef:S,footerBlockRef:T,isFullControls:x,isWithCallToAction:A,isVisible$:I}=e,P=void 0!==a&&void 0!==s&&!(A&&k),N=Object(r.useCallback)(()=>{j({videoPos:String(a)}),t&&t()},[a,t,j]);return i.a.createElement("div",{className:J({isMobile:k})},i.a.createElement("div",{className:J("state",{isVisible:E}),ref:S},i.a.createElement(X,{state:l,onPlay:t,onPause:n,onReplayByTimeout:N,onReplayByUser:N,replaySecIn:w,isFreezeAnimations:!1,withReplay:O})),i.a.createElement("div",{className:J("controls",{isVisible:C})},i.a.createElement("div",{className:J("header")},i.a.createElement("div",{className:J("mute-toggle")},i.a.createElement(V,{isMuted:u,onToggle:d,withSound:v,isVisible$:I,isShownWhenVisible:y,isLabelVisibleInitial:!1})),g?i.a.createElement(f,{isFullscreen:!1,onToggle:o}):null),i.a.createElement("div",{className:J("footer",{isVisible:C}),ref:T},P&&s?i.a.createElement(_,{currentTime:C?a:0,duration:s,onSeek:c,withTimeline:p,withDuration:b,withCurrentTime:m,withCountdown:h,isFullControls:x}):null)))};n(500);var te=n(156),ne=n(68),re=n(65),ie=n(63);const oe=Object(c.a)("video-call-to-action-bar"),ae=Object(r.memo)(e=>{const{currentTime:t,watchedTime:n,wrapTime:o,timestamp:a,isMobile:s,callToAction:c,onCallToActionClick:l,onCallToActionShow:u,onCallToActionWrap:d,isCallToActionWrapped:p,modelPrice:m,isBig:h}=e,[f,v]=Object(r.useState)(!1),[g,y]=Object(r.useState)(!1);Object(r.useEffect)(()=>{t>=(a||5)&&(v(!0),u({urlType:c.urlType}))},[c.urlType,t,u,v,a]);const O=o&&a?o+a:10;Object(r.useEffect)(()=>{n>=O&&!p?(y(!0),d()):y(!1)},[n,O,p,d]);const{logo:_,title:k,description:E,buttonName:C,url:j,urlType:w,type:S}=c,T=(null==_?void 0:_.mainColor)||re.a,x=(null==_?void 0:_.logoUrl)||"",{isDarkImage:A}=Object(b.a)(T),I=Object(ie.d)(j,t,"{start_time}"),P=g||p,N=S===ne.a.beru||S===ne.a.market,R=N&&!P,L=R&&m?m:C,M=R?m||"":C;return i.a.createElement("div",{className:oe({isWrapped:g,isPreWrapped:p,isVisible:f,isMobile:s}),onClick:()=>{l({urlType:w})}},i.a.createElement("div",{className:oe("wrapper",{isWrapped:g,isPreWrapped:p,isVisible:f,isMobile:s})},i.a.createElement(te.a,{imageUrl:x,backgroundColor:T,isDark:A,title:k,description:E,buttonText:s?M:L,href:I,target:"_blank",isWrapped:P,isButtonLight:!0,isShadowed:!s,barSize:h?"m":"s",isArrowButton:R,trueColor:N,titleWeight:N?"regular":"bold",imageSize:N?"contain":"cover"})))});n(488);var se=n(88),ce=n(153),le=n(97),ue=n(57),de=n(47);const pe={};var be=n(234),me=n(56),he=n(22);const fe=Object(c.a)("video-player"),ve=e=>{const{source:t,isAllowAutoplay:n,children:a,frameFit:s,onEnd:c,onPlay:d,onPause:p,containerRef:b,onPlayerApiLoaded:m,heartbeatTimes:h,onHeartbeat:f,onAutoplay:v,onAutopause:g,onAdStateChange:y,isSilenceMode:O,isMuted:_,onLoadedFirstFrame:k,onMuteChange:E,onMuteChangeByUser:C,onBeforeInit:j,isOpenedDesktopModal:w,playerApiPreloadMode:S,apiVersion:T,maxBufferLength:x,adConfig:I,isUseSingletonPlayer:P,isFreezeVisibility:N,isAdBlockPlayerBundle:R,destroyPlayerDelay:L,videoDuration:M,isIntersecting$:B,isVisible$:D,onCurrentTimeChangeCustom:F,currentTimeChangeHandlerTimestamp:V}=e,U=Object(r.useRef)(null),H=Object(r.useRef)(O),$=Object(r.useRef)(!0),W=Object(r.useRef)(!1),[q,G]=Object(r.useState)(!1),K=Object(r.useMemo)(()=>Object(be.a)(t.streamUrl),[t]),Y=Object(r.useMemo)(()=>h&&f&&Object(ce.a)(t.streamUrl,h,f),[h,f,t]),Z=Object(se.a)(U,b),Q=Object(r.useCallback)((e,t)=>{"play"===e?d({videoPos:String(t)}):p({videoPos:String(t)})},[p,d]),{isReady:X,getOrLoadPlayer:J,preloadPlayer:ee,htmlVideoRef:te,currentTime:ne,watchedTime:re,destroyPlayer:ie,fullscreenToggle:oe,play:ae,pause:ve,seek:ge,playerState:ye,givePlayer:Oe,duration:_e,muteToggle:ke,playerApiRef:Ee,isFullscreen:Ce}=(({playerContainerRef:e,source:t,frameFit:n,onPlayerApiLoaded:i,isMuted:a,onLoadedFirstFrame:s,onMuteChange:c,onMuteChangeByUser:l,onUserClick:d,onBeforeInit:p,apiVersion:b,maxBufferLength:m,onAdStateChange:h,adConfig:f,isUseSingletonPlayer:v,isAdBlockPlayerBundle:g,videoDuration:y,onCurrentTimeChangeCustom:O,currentTimeChangeHandlerTimestamp:_})=>{const[k,E]=Object(r.useState)(!1),[C,j]=Object(r.useState)(z.b.Unstarted),[w,S]=Object(r.useState)(0),[T,x]=Object(r.useState)(0),[A,I]=Object(r.useState)(Math.floor(y||0)),P=Object(r.useRef)(!1),N=Object(r.useRef)(),R=Object(r.useRef)(null),L=Object(r.useRef)(!1),M=Object(r.useRef)(0),B=Object(r.useRef)(0),D=v?"zen-video":t.streamUrl,F=Object(r.useMemo)(()=>Object(le.c)()||b,[b]),V=Object(r.useRef)(!1),U=Object(r.useMemo)(()=>({onDurationChange:e=>{const t=Math.floor(e);Object(o.c)(()=>{I(t)})},onCurrentTimeChange:(e,t,n)=>{const r=Math.floor(e),i=Math.floor(n);r!==M.current&&Object(o.c)(()=>{S(r),x(i),M.current=r,B.current=i,_&&O&&n>=_&&O()})},onError:()=>{Object(o.c)(()=>{j(z.b.Error),E(!1),P.current=!1})},onStateChange:e=>{Object(o.c)(()=>{j(e)})},onContentImpression:()=>{Object(o.c)(()=>{L.current?Z():Q(),s&&s()})},onUserAction:({name:e,data:t})=>{Object(o.c)(()=>{if(e===de.b.PLAY_BUTTON_CLICK&&t){var n;const{state:e}=t;d(e,null===(n=N.current)||void 0===n?void 0:n.getCurrentTime())}})},onAdStateChange:h,onVolumeChange:e=>{Object(o.c)(()=>{var t;const n=0===e;(null===(t=N.current)||void 0===t?void 0:t.getAdState().state)===z.a.Active&&l&&l(n)})},onFullScreenChange:e=>{V.current=e}}),[s,d]),H=Object(r.useCallback)(e=>{Object.keys(U).forEach(t=>{const n=e.hasOwnProperty(t)?e[t]:null;n&&n.removeAll&&n.removeAll()}),e.onPositionChange.removeAll()},[U]),$=Object(r.useCallback)(async(e,t,n,r)=>{var i;if(!n.element.parentNode)throw new Error("Players element is not mounted");return(null===(i=n.currentSource)||void 0===i?void 0:i.id)!==r.id?(t.onStateChange&&t.onStateChange(z.b.Buffering),await n.setSource(r).catch(()=>{})):t.onStateChange&&t.onStateChange(n.getState()),H(n),n.addHandlersSubscription(t),n.insertInto(e),h&&h({state:z.a.NoActive}),n},[h,H]),W=Object(r.useCallback)(async()=>{const{current:n}=e;if(!n||P.current)return;P.current=!0,E(!1);const r=Object.assign({startPosition:M.current},t,{adConfig:f}),o=pe[D];let a;if(p&&p(),o)a=$(n,U,o,r);else{const e=document.createElement("div");e.style.width="100%",e.style.height="100%",n.innerHTML="",n.appendChild(e),a=Object(le.b)({playerElement:e,handlers:U,videoSource:r,apiVersion:F,maxBufferLength:m,isAdBlockPlayerBundle:g})}return a.then(e=>(N.current=e,P.current=!1,R.current=e.element.querySelector("video"),i&&i(N.current),pe[D]=e,E(!0),e)).catch(()=>{P.current=!1,j(z.b.Error)})},[e,t,f,D,p,$,U,F,m,i,g]);Object(r.useEffect)(()=>{const{current:e}=N;j(z.b.Unstarted),e&&(E(!1),e.setSource(t),M.current=0)},[N,t]);const q=Object(r.useCallback)(async()=>{const{current:e}=N;return e||W()},[W]),G=Object(r.useCallback)(()=>{if(v)return Object(le.d)(F);q()},[F,q,v]),K=Object(r.useCallback)(()=>{N.current&&!v&&(N.current.destroy(),delete pe[D],N.current=void 0,j(z.b.Unstarted))},[v,D]),Y=Object(r.useCallback)(()=>{N.current=void 0,R.current=null,j(z.b.Unstarted)},[]);Object(ue.a)(()=>{N.current=void 0});const Z=Object(u.a)(async()=>{L.current=!0;const e=await q();if(!e||!R.current||!L.current)return;if(e.getAdState().state===z.a.Active)return void e.play();const t=R.current.play();t&&t.catch(()=>{L.current&&(e.setMuted(!0),e.play(),c&&c(!0))})}),Q=Object(u.a)(()=>{const{current:e}=N;L.current=!1,e&&(e.pause(),v&&Y())}),X=Object(r.useCallback)(async e=>{const{current:t}=N;t&&(V.current=e,t.setFullscreen(e))},[]),J=Object(r.useCallback)(()=>V.current,[]),ee=Object(r.useCallback)(()=>{const{current:e}=N;if(!e)return;const t=!e.getMuted();return e.setMuted(t),t},[]);Object(r.useEffect)(()=>{const{current:e}=N;e&&(e.setVideoStyle({objectFit:n}),e.setMuted(a))},[n,a,k,N]);const te=Object(r.useCallback)(async e=>{const t=await q();t&&(t.seek(e),C===z.b.Ended&&j(z.b.Playing))},[q,C]);return{isReady:k,playerApiRef:N,getOrLoadPlayer:q,preloadPlayer:G,givePlayer:Y,htmlVideoRef:R,playerState:C,currentTime:w,watchedTime:T,destroyPlayer:K,play:Z,pause:Q,fullscreenToggle:X,seek:te,duration:A,muteToggle:ee,isFullscreen:J,onCurrentTimeChange:U.onCurrentTimeChange}})({playerContainerRef:U,source:t,frameFit:s,onPlayerApiLoaded:m,isMuted:_,onLoadedFirstFrame:k,onMuteChange:E,onMuteChangeByUser:C,onUserClick:Q,onAdStateChange:y,adConfig:I,onBeforeInit:j,apiVersion:T,maxBufferLength:x,isUseSingletonPlayer:P,isAdBlockPlayerBundle:R,videoDuration:M,onCurrentTimeChangeCustom:F,currentTimeChangeHandlerTimestamp:V}),je=Object(r.useRef)(ye);Object(r.useEffect)(()=>{var e;ye===z.b.Ended&&ye!==je.current&&(c({videoPos:String(null===(e=Ee.current)||void 0===e?void 0:e.getCurrentTime())}),oe(!1));je.current=ye},[oe,c,Ee,ye]),Object(r.useEffect)(()=>{Y&&!O&&re>0&&Y(K(re))},[Y,O,re,K]);const we=Object(r.useCallback)(Object(A.a)(()=>{je.current!==z.b.Paused&&G(!1)},3e3),[]),Se=Object(r.useCallback)(Object(A.a)(()=>{var e;const t=(null===(e=Ee.current)||void 0===e?void 0:e.getAdState().state)===z.a.Active;H.current||t||ie()},L),[]);Object(me.a)(()=>{w&&($.current=!1)},[w]),Object(me.a)(()=>{H.current=O,O&&(Oe(),xe.current="pause")},[Oe,O]);const Te=Object(r.useRef)(!1),xe=Object(r.useRef)("pause"),Ae=Object(u.a)(()=>{var e,t;if(Ce()||O)return;const r=Te.current&&n,i=null===(e=Ee.current)||void 0===e?void 0:e.getState(),o=i===z.b.Paused||i===z.b.Unstarted||void 0===i,a=String(null===(t=Ee.current)||void 0===t?void 0:t.getCurrentTime());if(r){if("play"===xe.current)return;if(xe.current="play",ae(),!o||!v)return;$.current?v({videoPos:a}):d({videoPos:a}),$.current=!0}else{if("pause"===xe.current)return;if(xe.current="pause",ve(),o||!g)return;w?p({videoPos:a}):g({videoPos:a})}});Object(me.a)(()=>{Ae(),n||G(!1)},[n]),Object(l.a)(()=>D,e=>{N||(Te.current=Boolean(e),e&&(W.current=!0),Ae())}),Object(l.a)(()=>B,e=>{N||(e?(Se.cancel(),("onmount"===S||"onintersected"===S||n)&&(ee(),O&&J())):!H.current&&W.current&&Se())}),Object(he.a)(()=>{"onmount"===S&&ee()}),Object(ue.a)(()=>{H.current||ie()});const Ie=Object(r.useCallback)(()=>{G(!0),we()},[we]),Pe=Object(r.useCallback)(()=>{const e=Boolean(ke());C&&C(e)},[ke,C]),Ne=(ye===z.b.Buffering||ye===z.b.Playing||ye===z.b.Paused)&&X;return i.a.createElement("div",{className:fe(),onClick:Ie},i.a.createElement("div",{className:fe("player-keeper",{isVisible:Ne})},i.a.createElement("div",{ref:Z,className:fe("player")})),a({seek:ge,play:ae,pause:ve,fullscreenToggle:oe,playerState:ye,isControlsVisible:q,currentTime:ne,watchedTime:re,isVisiblePlayer:Ne,htmlVideoRef:te,duration:_e,muteToggle:Pe}))};n(502);var ge=n(302),ye=n(597),Oe=n(130),_e=n(75),ke=n(313);const Ee=Object(c.a)("card-video-content"),Ce=["medium","small"],je=["small"],we=Object(r.memo)(({docTitleRef:e,isMobile:t,link:n,title:r,isLetterSpacingExp:o,domainTitle:a,textColor:s,host:c,isCardChannelLinkEnabled:l,statObject:u,id:d,cardColor:p,onClick:b,hasSubscribeButton:m,triggerEvent:h,source:f,isTitleSingleLine:v,isDesktop:g,isCommentCounterAppeared:y,hasProductsButton:O,onProductsButtonClick:_})=>{const k=Ee({hasSubscribeButton:m,isMobile:t}),E={borderColor:s,color:s,opacity:.7};return i.a.createElement("div",{className:k},i.a.createElement("div",{className:Ee("text-content",{isSingleLine:v})},i.a.createElement(Oe.a,{title:r,rootRef:null,ref:e,isDesktop:g,isMobile:t,isLetterSpacingExp:o,availableSizeNames:v?je:Ce,linesLimit:v?1:void 0,fitToSpace:v})),i.a.createElement("div",{className:Ee("footer")},i.a.createElement("div",{className:Ee("source")},i.a.createElement("div",{className:Ee("source-name")},i.a.createElement(ge.a,{host:c,source:f,isMobile:t,isCardChannelLinkEnabled:l},i.a.createElement(ye.a,{textColor:s,name:a,isCommentCounterAppeared:y}))),i.a.createElement("div",{className:Ee("subscribe-button")},i.a.createElement(_e.a,{source:f,triggerEvent:h,isVisible:m,style:E,isMobile:t,statObject:u}))),i.a.createElement("div",{className:Ee("controls")},i.a.createElement(ke.a,{id:d,link:n,isMobile:t,iconColor:s,backgroundColor:p,onCardClick:b,isHoverable:!t,hasProductsButton:O,onProductsButtonClick:_}))))});var Se=n(110);n(490);const Te=Object(c.a)("video-poster-dynamic"),xe=Object(r.memo)(({videoElement:e,isActive:t,isActiveRef:n,isBlurred:o})=>{const a=Object(r.useRef)(null),s=Object(r.useRef)(null);return Object(r.useEffect)(()=>{const{current:e}=a;if(!e)return;const t=e.getContext("2d");t&&(s.current=t)},[a]),Object(r.useEffect)(()=>{const{current:r}=s,{current:i}=a;let o=null;if(!r||!e||!i)return;const c=()=>{n&&!n.current||(i.width=e.videoWidth,i.height=e.videoHeight,r.drawImage(e,0,0)),t?o=setTimeout(c,40):o&&clearInterval(o)};return c(),()=>{o&&clearInterval(o)}},[t,e,n]),i.a.createElement("div",{className:Te({isBlurred:o})},i.a.createElement("canvas",{ref:a,className:Te("canvas")}))});var Ae=n(152),Ie=n(606),Pe=(n(489),n(519));const Ne=Object(c.a)("video-image-preview"),Re=Object(r.memo)(({image:e,blurredPreview:t,isBlurredOnly:n})=>{const o=Object(r.useCallback)(t=>t&&e?i.a.createElement("div",{className:Ne("full-image"),style:{backgroundImage:`url(${e})`}}):null,[e]),a=Object(r.useCallback)(()=>t?i.a.createElement("div",{className:Ne("blurred-image"),style:{backgroundImage:`url(data:image/png;base64,${t})`}}):null,[t]);return i.a.createElement("div",{className:Ne({isBlurredOnly:n})},i.a.createElement(Pe.a,{imageUrl:e,renderImage:o,renderPlaceholder:a}))});n(240),n(501);var Le=n(317),Me=n(260);const Be=Object(c.a)("video-products-bar"),De=Object(r.memo)(e=>{const{callToAction:t,onCallToActionClick:n,modelPrice:r,isVisible:o,isBig:a,backgroundColor:s,textColor:c,onClose:l}=e,{l10n:u}=Object(k.a)(),d=u("common.video.products_count.one"),{logo:p,title:m,description:h,buttonName:f,url:v,urlType:g}=t,y=(null==p?void 0:p.mainColor)||re.a,O=(null==p?void 0:p.logoUrl)||"",{isDarkImage:_}=Object(b.a)(y),E=r||f;return i.a.createElement("div",{className:Be({isVisible:o}),style:{backgroundColor:s}},i.a.createElement("div",{className:Be("heading")},i.a.createElement("h5",{className:Be("title")},d),i.a.createElement("div",{className:Be("close-cross"),onClick:l},i.a.createElement(Le.a,{symbol:Me.a,width:13,height:13,fill:c}))),i.a.createElement("div",{className:Be("wrapper",{isSmall:a}),onClick:()=>{n({urlType:g})}},i.a.createElement(te.a,{imageUrl:O,backgroundColor:y,isDark:_,title:m,description:h,buttonText:a?E:"",href:v,target:"_blank",isWrapped:!1,isButtonLight:!0,isShadowed:!1,barSize:a?"m":"s",isArrowButton:!1,trueColor:!0,titleWeight:"regular",imageSize:"contain"})))}),Fe=Object(c.a)("card-video-block"),Ve=Object(r.memo)(({title:e,domainTitle:t,image:n,statObject:o,id:a,mainColor:c,onClick:h,rootRef:f,isFeedbackCard:v,isLetterSpacingExp:g,hasSubscribeButton:y,source:O,triggerEvent:_,host:k,isCardChannelLinkEnabled:E,videoStream:C,size:j,link:w,withSound:S,onInteracted:T,isAllowAutoplay:x,shouldRenderMenu:I,isVideoCardsHoverAnimation:P,isVideoCardsDynamicPoster:N,videoSubscribeShowForSeconds:R,videoDuration:L,videoWidth:M,videoHeight:B,isMobile:D,heartbeatTimes:F,videoInfo:V,additionalParams:U,videoVisibleContentDelay:H,isVideoModalEnabled:$,isNegativeFeedback:W,isOpenedFeedModal:q,isOpenedModal:G,isVisible$:K,isIntersecting$:Y,onVideoPlay:Z,onVideoPause:Q,onVideoEnd:X,onVideoAutoplay:J,onVideoSoundToggle:te,onVideoSoundToggleByUser:re,onVideoHeartbeat:ie,onVideoReplay:oe,onVideoAutopause:se,onVideoCardVisibility:ce,onModalOpen:le,muteStateByClick:ue,playerApiPreloadMode:de,isCardVideoMuted:pe,callToAction:be,videoCallToActionTimestamp:me,videoCallToActionWrapTime:he,onCallToActionShow:fe,onCallToActionClick:ge,onCallToActionWrap:ye,onOpenFeedbackMenu:Oe,isCallToActionWrapped:_e,modelPrice:ke,videoPlayerApiVersion:Ee,isCommentCounterAppeared:Ce,videoPlayerApiMaxBufferLength:je,minPlayerSizeRatio:Te,maxPlayerSizeRatio:Pe,maxPlayerHorizontalSizeRatio:Ne,adConfig:Le,withShadows:Me,isUseSingletonPlayer:Be,blurredPreview:Ve,isAdBlockPlayerBundle:Ue,isVideoMultipleProductsEnabled:ze})=>{const He=Object(r.useRef)(null),$e=Object(r.useRef)(null),We=Object(r.useRef)(null),qe=Object(r.useRef)(null),Ge=Object(r.useRef)(null),Ke=Object(r.useRef)(null),Ye=Object(r.useRef)(null),Ze=Object(r.useRef)(null),Qe=Object(r.useRef)(null),Xe=Object(r.useRef)(void 0!==M&&void 0!==B?{width:M,height:B}:void 0),Je=Object(r.useRef)(),et=Object(r.useRef)(0),tt=Object(r.useRef)(0),nt=Object(r.useRef)(),rt=Object(r.useRef)(!1),it=Object(r.useRef)(!0),[ot,at]=Object(r.useState)(!1),st=Object(r.useRef)(!1),[ct,lt]=Object(r.useState)(!1),[ut,dt]=Object(r.useState)(!1),[pt,bt]=Object(r.useState)(!1),[mt,ht]=Object(r.useState)(!1),ft=Object(r.useMemo)(()=>new Ae.a("undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0,"v2"),[]),vt=!D&&P,gt=Object(r.useMemo)(()=>({streamUrl:C,id:C,withCredentials:!1,additionalParams:U,videoInfo:V}),[U,C,V]),yt=Object(r.useCallback)(()=>{We.current&&We.current.updateStylesAndClamp()},[]),Ot=Object(u.a)(()=>{yt()});Object(d.a)(Ot),Object(r.useEffect)(Ot,[e]),Object(p.a)(Ot,Y),Object(l.a)(()=>K,e=>{ce(Boolean(e)),e&&ft.trigger("Visible")});const{textColor:_t,cardColor:kt}=Object(r.useMemo)(()=>{const{text:e,card:t}=Object(b.a)(c);return{textColor:e,cardColor:t}},[c]),Et=!D&&ze&&be&&(be.type===ne.a.beru||be.type===ne.a.market),Ct=Object(r.useCallback)(e=>{if(!vt)return;const{current:t}=$e,{current:n}=Ge,{current:r}=qe,{current:i}=et,{current:o}=tt,{current:a}=Ke,{current:s}=Ye,{current:c}=Qe;t&&r&&n&&a&&s&&(r.style.transform="none",n.style.transform="none",s.style.transform="none",c?e?(t.style.transform=`translateY(${i-100}px)`,t.style.height="0",c.style.height="100px",t.style.opacity="0",a.style.height=`${o-100}px`):(t.style.transform="none",t.style.opacity="1",c.style.height="0",t.style.height="auto",a.style.height=`${o-i}px`):(a.style.height=`${o-i}px`,t.style.transform="none"),it.current=!0)},[vt]),jt=Object(r.useCallback)(()=>{if(!vt||st.current||rt.current||ot)return;const{current:e}=$e,{current:t}=Je,{current:n}=Xe,{current:r}=Ke,{current:i}=Ge,{current:o}=qe,{current:a}=He,{current:s}=et,{current:c}=tt,{current:l}=Ye;if(!(e&&t&&r&&o&&i&&n&&a&&l))return;const{width:u,height:d}=n,{width:p,height:b}=t,{actualVideoWidth:m,actualVideoHeight:h}=((e,t,n,r)=>{const i=t/r,o=e/n,a=i>o?i:o;return{actualVideoWidth:e/a,actualVideoHeight:t/a}})(u,d,p,b),f=h/m>=Ne,v=((e,t,n,r,i,o)=>{const a=n/e,s=i/t;return`translateY(${(i-r)/2}px) scale(${o?Math.min(a,s):Math.max(a,s)})`})(m,h,p,b,c,f);i.style.transform=v,o.style.transform=v,e.style.transform=`translateY(${s}px)`,r.style.height=`${c}px`,l.style.transform=`translateY(${s}px)`,a.classList.add("_with-transitions"),it.current=f},[vt,ot,Ne]),wt=Object(r.useCallback)(Object(A.a)(jt,H),[ot]),St=Object(r.useCallback)(()=>{var e;Z({videoPos:String(null===(e=nt.current)||void 0===e?void 0:e.getCurrentTime())}),lt(!1),st.current=!1,ut||wt()},[wt,ut,Z]);Object(r.useEffect)(()=>{const{current:e}=He,{current:t}=$e;if(!e||!t||!vt)return;const n=e.offsetHeight,r=t.offsetHeight;Je.current={width:e.offsetWidth,height:n-r},tt.current=n,et.current=r},[vt]);const Tt=Object(r.useCallback)(()=>{var e;X({videoPos:String(null===(e=nt.current)||void 0===e?void 0:e.getCurrentTime())}),Ct(ut),lt(!0),st.current=!0},[Ct,ut,X]),xt=Object(r.useCallback)(()=>{var e;J({videoPos:String(null===(e=nt.current)||void 0===e?void 0:e.getCurrentTime())}),lt(!1),st.current=!1,ut||wt()},[wt,ut,J]),At=Object(r.useCallback)(e=>{e.preventDefault();const{current:t}=nt,{current:n}=Ze,r=t?t.getCurrentTime():0;if(h(),$){if(n){const{left:e,top:i,width:o,height:a}=n.getBoundingClientRect();t&&D&&t.setMuted(ue),le(r,{left:e,top:i,width:o,height:a})}}else t&&(t.getState()===z.b.Paused?t.play():t.pause())},[$,D,ue,h,le]),It=Object(r.useCallback)(e=>{nt.current=e},[]),Pt=Object(r.useCallback)(e=>{ie({videoPos:e.toString()})},[ie]),Nt=Object(r.useCallback)(()=>{rt.current=!1,ct||ut||(Et&&!ut&&ht(!1),jt())},[jt,ct,ut,Et]),Rt=Object(r.useCallback)(()=>{rt.current=!0,ot||ut||(Et&&!ut&&ht(!1),Ct(!1))},[Ct,ot,ut,Et]),Lt=Object(r.useCallback)(e=>{st.current=!1,oe(e),lt(!1),ut||jt()},[jt,ut,oe]),Mt=Object(r.useCallback)(()=>{ft.sendDeltas()},[ft]),Bt=Object(r.useCallback)(()=>{ft.trigger("Init")},[ft]),Dt=Object(r.useCallback)(({state:e})=>{const t=e===z.a.Active;at(t),t?Ct(ut):rt.current||ut||jt()},[jt,Ct,ut]),Ft=Xe.current?Xe.current.height/Xe.current.width:1,Vt=Math.max(Math.min(Pe,Ft),Te),Ut=!D&&N,zt=D?"cover":"contain",Ht=j===s.d.BIG,$t=(Ft>1||Ht)&&!D,Wt=D?`${Math.ceil(1e3*Vt)/10}%`:"0",qt={color:_t,backgroundColor:kt},Gt={hasSubscribeButton:y,isDesktop:!D,hasAnimationFit:vt,isNegativeFeedback:W,isAdVisible:ot,withShadows:Me},Kt=Object(u.a)(e=>{be&&Et&&(!pt||e&&e.isForced)&&(dt(!0),bt(!0),Ct(!0),ht(!1),fe({urlType:be.urlType}))}),Yt=Object(r.useCallback)(()=>{dt(!1),bt(!0),ht(!0),Ct(!1)},[Ct]),Zt=Object(r.useCallback)(()=>{Kt({isForced:!0})},[Kt]);return i.a.createElement(Ie.a,{withShadows:Me,withBorder:!0},i.a.createElement("div",{className:Fe(Gt),style:qt,onClickCapture:T,onMouseEnter:Rt,onMouseLeave:Nt,ref:He},i.a.createElement("div",{className:Fe("player"),style:{paddingBottom:Wt}},i.a.createElement("div",{className:Fe("player-wrapper"),ref:f},i.a.createElement("div",{className:Fe("player-block"),ref:Ze},i.a.createElement(ve,{source:gt,isAllowAutoplay:x,frameFit:zt,onEnd:Tt,onPlay:St,onPause:Q,onAutoplay:xt,onAutopause:se,containerRef:Ge,onPlayerApiLoaded:It,heartbeatTimes:F,onHeartbeat:Pt,isSilenceMode:q,isOpenedDesktopModal:G&&!D,isIntersecting$:Y,isVisible$:K,isMuted:pe,onLoadedFirstFrame:Mt,onMuteChange:te,onMuteChangeByUser:re,onBeforeInit:Bt,onAdStateChange:Dt,playerApiPreloadMode:de,apiVersion:Ee,maxBufferLength:je,adConfig:Le,isUseSingletonPlayer:Be,isFreezeVisibility:!1,isAdBlockPlayerBundle:Ue,destroyPlayerDelay:5e3,videoDuration:L,onCurrentTimeChangeCustom:Kt,currentTimeChangeHandlerTimestamp:Number(me)},({play:e,fullscreenToggle:t,playerState:r,currentTime:o,watchedTime:a,seek:s,htmlVideoRef:c,duration:l,muteToggle:u})=>{const d=r!==z.b.Ended&&r!==z.b.Unstarted&&x,p=Boolean(be),b=r===z.b.Unstarted?z.b.Paused:r;return i.a.createElement("div",{className:Fe("on-screen-display")},i.a.createElement("div",{className:Fe("poster"),ref:qe,style:{backgroundColor:kt}},n?i.a.createElement(Re,{image:n,isBlurredOnly:d&&!Ut,blurredPreview:Ve}):null,Ut?i.a.createElement(xe,{videoElement:c.current,isActive:b===z.b.Playing&&"contain"===zt,isActiveRef:it,isBlurred:!0}):null),i.a.createElement("div",{className:Fe("controls")},i.a.createElement(ee,{onSeek:s,onPlay:e,onMuteToggle:u,isMuted:pe,onFullscreenToggle:t,duration:L||l,currentTime:o,playerState:b,isVisibleState:b!==z.b.Playing,withTimeline:!1,withDuration:!1,withCurrentTime:!1,withFullscreen:!1,withCountdown:!0,withMuteToggleWhenVisible:x,isVisible$:K,withSound:S,onVideoReplay:Lt,isMobile:D,replaySecIn:R,footerBlockRef:Ye,stateBlockRef:Ke,isFullControls:!1,isWithCallToAction:p,isVisibleControls:!0,withReplay:!0})),be&&!Et?i.a.createElement(ae,{currentTime:o,watchedTime:a,callToAction:be,timestamp:me,wrapTime:he,isMobile:D,onCallToActionShow:fe,onCallToActionClick:ge,onCallToActionWrap:ye,isCallToActionWrapped:_e,isBig:Ht,modelPrice:ke}):null)})))),i.a.createElement(Se.a,{className:Fe("clickable",{hasRightShadow:I}),onClick:At,href:w}),I&&!1,be&&Et?i.a.createElement("div",{className:Fe("products-bar"),ref:Qe},i.a.createElement("div",{className:Fe("products-bar-wrapper")},i.a.createElement(De,{callToAction:be,onCallToActionClick:ge,isBig:Ht,modelPrice:ke,isVisible:ut,onClose:Yt,backgroundColor:kt,textColor:_t}))):null,i.a.createElement("div",{className:Fe("content",{withProductsBarAnimation:Et&&mt}),ref:$e},i.a.createElement(we,{id:a,isLetterSpacingExp:g,link:w,title:e,domainTitle:t,hasSubscribeButton:y||ct,source:O,triggerEvent:_,statObject:o,isDesktop:!D,isMobile:D,cardColor:kt,textColor:_t,onClick:At,docTitleRef:We,host:k,isCardChannelLinkEnabled:E,isTitleSingleLine:$t,isCommentCounterAppeared:Ce,hasProductsButton:Boolean(Et),onProductsButtonClick:Zt})),v&&!q?i.a.createElement(m.a,{id:a,mainColor:c}):null))});var Ue=n(20),ze=n(115),He=n(14),$e=n(40),We=n(18),qe=n(74),Ge=n(83),Ke=n(92),Ye=n(123),Ze=n(106),Qe=n(37),Xe=n(71),Je=n(70),et=n(19),tt=n(117),nt=n(35),rt=n(181),it=n(30),ot=n(86),at=n(82),st=n(60),ct=n(155),lt=n(24),ut=n(61);const dt=Object(r.memo)(({id:e,size:t})=>{const n=Boolean(!1),{zenApi:c}=Object(Ue.c)(),d=Object(r.useMemo)($e.c,[]),p=Object(r.useMemo)(Ze.b,[]),{item:b,isFeedbackCard:m,isLetterSpacingExp:h,isCardChannelLinkEnabled:f,hasSubscribeButton:v,source:g,triggerEvent:y,host:O,shouldRenderMenu:_,isAutoPlayPriority:k,isVideoCardsDynamicPoster:E,isVideoCardsHoverAnimation:C,isVideoUseSingletonPlayer:j,videoSubscribeShowForSeconds:w,videoVisibleContentDelay:S,isCurrentItemInteracted:T,isNegativeFeedback:x,isVideoModalEnabled:A,isOpenedModal:I,isCardVideoMuted:P,videoCallToActionTimestamp:N,videoCallToActionWrapTime:R,videoPlayerApiVersion:L,isCommentCounterAppeared:M,videoPlayerApiMaxBufferLength:B,shownReaction:D,minPlayerSizeRatio:F,maxPlayerSizeRatio:V,maxPlayerHorizontalSizeRatio:U,withShadows:z,isVideoMuteWhenAutopause:H,openedItemId:$,isAdBlockPlayerBundle:W,isVideoMultipleProductsEnabled:q}=Object(o.g)(t=>{const n=Object(a.w)(t,e,s.e.GIF),r=d(t,e),i=Object(at.a)(t),{feedback:o,statEvents:c,subscribeTriggerEvent:l}=n,u=p(t,e),b=Object(Ze.e)(t)===e,{openedItemId:m}=t.videoModal,{isCardVideoMuted:h}=t.iface,f=Object(Ze.c)(),{isLetterSpacingExp:v,extendFeedback:{isPopup:g},enableCardChannelLink:y,isVideoCardsDynamicPoster:O,isVideoCardsHoverAnimation:_,videoVisibleContentDelay:k,videoSubscribeShowForSeconds:E,isVideoModalEnabled:C,videoCallToActionTimestamp:j,videoCallToActionWrapTime:w,videoPlayerApiVersion:S,videoPlayerApiMaxBufferLength:T,videoPlayerSizeRatio:x,isVideoMuteWhenAutopause:A,isVideoUseSingletonPlayer:I,isVideoMultipleProductsEnabled:P}=Object(He.a)(t),N=i&&("disliked"===o||"blocked"===o||g),{min:R,max:L,maxHorizontal:M}=x,B=Boolean(o&&"liked"!==o),D=m===e,F=Object(st.c)(t,e),V=Object(st.b)(t,e),U=Object(Ze.d)(t);return{openedItemId:m,item:n,isFeedbackCard:N,isLetterSpacingExp:v,isCardChannelLinkEnabled:y,hasSubscribeButton:Object(ze.a)(t,n,r),source:r,triggerEvent:l?c[l]:"",host:t.params.host||"",shouldRenderMenu:Object(We.h)(t),isAutoPlayPriority:u,isVideoCardsDynamicPoster:O||f,isVideoCardsHoverAnimation:_||f,isVideoUseSingletonPlayer:I,videoSubscribeShowForSeconds:E,videoVisibleContentDelay:k,isCurrentItemInteracted:b,isNegativeFeedback:B,isVideoModalEnabled:C,isOpenedModal:D,isCardVideoMuted:h,videoCallToActionTimestamp:j,videoCallToActionWrapTime:w,videoPlayerApiVersion:S,isCommentCounterAppeared:Boolean(F&&V),videoPlayerApiMaxBufferLength:T,minPlayerSizeRatio:R,maxPlayerSizeRatio:L,maxPlayerHorizontalSizeRatio:M,shownReaction:t.iface.shownReaction,withShadows:Object(a.l)(t),isVideoMuteWhenAutopause:A,isAdBlockPlayerBundle:U,isVideoMultipleProductsEnabled:P}},qe.a),G=Object(r.useMemo)(()=>({statEvents:b.statEvents,bulkParams:b.bulkParams}),[b.bulkParams,b.statEvents]),{statItemVideoPlay:K,statItemVideoPause:Y,statItemVideoEnd:Z,statItemVideoAutoplay:Q,statItemVideoSoundToggle:X,statItemVideoHeartbeat:J,statItemVideoReplay:ee,statItemVideoAutoPause:te,statItemCall2ActionShow:ne,statItemCall2ActionClick:re}=Object(tt.a)(G),ie=Object(Xe.a)(G),oe=Object(Je.a)(G),ae=Object(o.f)(),{title:se,domainTitle:ce,image:le,link:ue,mainColor:de,video:pe,packId:be,cacheId:me,callToAction:he,isCallToActionShown:fe,isCallToActionWrapped:ve,modelPrice:ge,blurredPreview:ye}=b,{width:Oe=1,height:_e=1,autoplay:ke,hasSound:Ee,duration:Ce,id:je,heartbeatTimes:we,additionalParams:Se,videoInfo:Te,adConfig:xe}=pe,[Ae,Ie,Pe]=Object(nt.a)();Object(Qe.b)({isVisible$:Ie,onShow(){T||(oe(),c.packShown(be||"",me||""))}}),Object(l.a)(()=>Pe,e=>{e||!T||$||ae(Object(Ye.c)(null))});const Ne=Object(ut.a)(it.b),Re=Object(Ke.a)(()=>{ie()},250),Le=Object(r.useCallback)((t,n)=>{ae(Object(Ge.e)(e,t,n))},[ae,e]),Me=Object(r.useCallback)(()=>{ae(Object(Ye.c)(e))},[ae,e]),Be=Object(r.useRef)(!1),De=Object(r.useCallback)(t=>{$||(Be.current||t)&&(ae(Object(rt.b)(e,Boolean(t))),Be.current=!0)},[ae,e,$]),Fe=Object(r.useCallback)(e=>{Ne(e),X(e)},[Ne,X]),dt=Object(r.useCallback)(()=>{he&&!fe&&(ne({urlType:he.urlType}),ae(Object(ot.b)(e)))},[ae,he,ne,fe,e]),pt=Object(r.useCallback)(()=>{ae(Object(ot.c)(e))},[ae,e]),bt=Object(r.useCallback)(()=>{},[ae,e]),mt=Object(r.useCallback)(e=>{te(e),H&&Ne(!0)},[te,H,Ne]),ht=ke?n?"onmount":"onintersected":"never",ft=Object(r.useCallback)(()=>{ae(Object(lt.o)())},[ae]),vt=Object(r.useCallback)(()=>ae(Object(lt.h)(e)),[ae,e]),gt=Object(r.useCallback)(e=>{ae(Object(it.d)(e))},[ae]),yt=Object(et.b)(),Ot=Object(r.useCallback)(e=>{yt(e,G)},[yt,G]),_t=Object(r.useCallback)(()=>{he&&he.priceUrl&&ae(Object(ot.a)(e,he.priceUrl))},[ae,he,e]),kt=Object(u.a)(e=>{J(e),"4"===(null==e?void 0:e.videoPos)&&_t()}),Et=i.a.createElement(Ve,{title:se,statObject:G,domainTitle:ce,onVideoPlay:K,onVideoPause:Y,onVideoEnd:Z,onVideoAutoplay:Q,onVideoSoundToggle:Ne,onVideoSoundToggleByUser:Fe,onVideoHeartbeat:kt,onVideoReplay:ee,onVideoAutopause:mt,onVideoCardVisibility:De,onCallToActionClick:re,onCallToActionShow:dt,onCallToActionWrap:pt,onOpenFeedbackMenu:bt,isCallToActionWrapped:ve||!1,modelPrice:ge,id:e,mainColor:de||"#000",onInteracted:Me,onClick:Re,onModalOpen:Le,rootRef:Ae,isFeedbackCard:m,isLetterSpacingExp:h,hasSubscribeButton:v,source:g,triggerEvent:y,host:O,isCardChannelLinkEnabled:f,videoStream:je,size:t,isVisible$:Ie,isIntersecting$:Pe,image:le,link:ue,withSound:Ee,isAllowAutoplay:k&&ke&&!x&&!I,videoWidth:Oe,videoHeight:_e,shouldRenderMenu:_,isVideoCardsDynamicPoster:E,isVideoCardsHoverAnimation:C&&ke,videoSubscribeShowForSeconds:w,videoVisibleContentDelay:S,videoDuration:Ce,isMobile:n,heartbeatTimes:we,videoInfo:Te,additionalParams:Se,isVideoModalEnabled:A,isUseSingletonPlayer:j,isNegativeFeedback:x,isOpenedFeedModal:I&&n,isOpenedModal:I,muteStateByClick:!1,isCardVideoMuted:P,playerApiPreloadMode:ht,callToAction:he,videoCallToActionTimestamp:(null==he?void 0:he.appearanceTime)||N,videoCallToActionWrapTime:R,videoPlayerApiVersion:L,isCommentCounterAppeared:M,videoPlayerApiMaxBufferLength:B,minPlayerSizeRatio:F,maxPlayerSizeRatio:V,maxPlayerHorizontalSizeRatio:U,adConfig:xe,withShadows:z,blurredPreview:ye,isAdBlockPlayerBundle:W,isVideoMultipleProductsEnabled:q});return i.a.createElement(i.a.Fragment,null,Et,n&&b.reactions?i.a.createElement(ct.a,{id:e,reactions:b.reactions,shownReaction:D,onSetReactionShown:gt,onRemoveFeedbackSuggest:vt,onAnimation:ft,cardFeedback:b.feedback,log:Ot,isClicked:Boolean(b.read)}):null)});n.d(t,"default",function(){return dt})},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(5),a=(n(10),n(59)),s=n(58),c=n(76),l=n(29),u=n(47),d=n(97);const p=1,b=0;class m{constructor({onPopState:e}){this._onWindowPopState=(()=>{this._onPopState&&this._onPopState()}),this.handleEnterFullScreen=(()=>{window.history.state&&window.history.state.hasOwnProperty("videoFullScreen")?window.history.replaceState({videoFullScreen:p},""):window.history.pushState({videoFullScreen:p},"")}),this.handleExitFullScreen=(()=>{window.history.state&&window.history.state.videoFullScreen===p&&window.history.replaceState({videoFullScreen:b},"")}),this._onPopState=e,window.addEventListener("popstate",this._onWindowPopState)}destroy(){window.removeEventListener("popstate",this._onWindowPopState)}}var h=n(132),f=n(67),v=n(18),g=(n(477),n(16)),y=n(30),O=n(139),_=n(140);const k=()=>new Promise(e=>requestAnimationFrame(()=>e())),E=Object(g.a)("resize-to-fullscreen"),C=200;const j={setBodyScroll:y.a},w=Object(o.d)(({iface:e})=>{const{isBodyScrollEnabled:t}=e;return{isBodyScrollEnabled:t}},j)(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={rect:null,style:void 0,isFullScreenEntered:!1},this.containerRef=Object(r.createRef)(),this.orientationChanged=!1,this.onResize=(()=>{this.orientationChanged=!0}),this.handleScroll=(()=>{const{isBodyScrollEnabled:e}=this.props;e&&this.exitFullScreen()}),this.scrollToCard=(()=>{const e=this.containerRef.current;if(!e)return;const t=Object(O.a)(e);_.a.scrollTo({top:t,animate:!1})}),this.applyTransition=(e=>Object.assign({},e,{transition:`all ${this.getAnimationTime()}ms ease-out`})),t}componentDidMount(){this.checkUpdate(),window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),window.addEventListener("scroll",this.handleScroll)}componentDidUpdate(){this.checkUpdate()}async checkUpdate(){const{isFullScreen:e,setBodyScroll:t}=this.props,{isFullScreenEntered:n}=this.state;e&&!n&&(this.enterFullScreen(),await Object(l.a)(this.getAnimationTime()),t(!1)),!e&&n&&t(!0)}enterFullScreen(){const e=this.containerRef.current;if(!e)return;const t=e.getBoundingClientRect(),{top:n,left:r,width:i,height:o}=t,a={rect:t,style:{position:"fixed",top:n,left:r,width:i,height:o},isFullScreenEntered:!0},s={position:"fixed",top:0,left:0,bottom:0,right:0},c={style:this.applyTransition(s)};this.orientationChanged=!1,this.setState(a,()=>{k().then(()=>this.setState(c))})}exitFullScreen(){const{rect:e}=this.state;if(!e)return;const{top:t,left:n,width:r,height:i}=e,o={rect:null,style:this.applyTransition({position:"fixed",top:t,left:n,width:r,height:i}),isFullScreenEntered:!1},a={rect:null,style:void 0,isFullScreenEntered:!1};this.orientationChanged?(this.setState(a),k().then(this.scrollToCard)):(this.setState(o),Object(l.a)(this.getAnimationTime()).then(()=>this.setState(a)))}getAnimationTime(){const{animationTime:e}=this.props;return"number"==typeof e?e:C}render(){const{children:e}=this.props,{style:t}=this.state;return i.a.createElement("div",{className:E(),ref:this.containerRef,style:t},e)}});var S=n(86),T=n(17),x=(n(478),n(156)),A=n(64),I=n(65),P=n(302),N=n(597),R=n(313);n(479);const L=Object(g.a)("spinner"),M=({size:e=50,background:t="#fff"})=>{const n={width:.2*e,height:.2*e,background:t},r=Object.assign({marginRight:.2*e},n);return i.a.createElement("div",{className:L()},i.a.createElement("div",{className:L("bounce",{bounce1:!0}),style:r}),i.a.createElement("div",{className:L("bounce",{bounce2:!0}),style:r}),i.a.createElement("div",{className:L("bounce",{bounce3:!0}),style:n}))};var B=n(75),D=n(237),F=n(322),V=n(513),U=n(527),z=n(605),H=n(110),$=n(44),W=n(233),q=n(606);const G=Object(g.a)("video-view"),K="#fff",Y=500,Z=100;const Q=Object(U.a)(class extends r.PureComponent{constructor(e){super(e),this.state={player:{hidden:!1},isLoading:!0,playing:!1},this._loadingTimeout=null,this._setPlayerVisible=Object(a.a)(()=>{this.setState({player:{hidden:!1}})}),this._checkVideoViewMode=(()=>{const{videoMinWidth:e,videoMinHeight:t,isFullScreen:n}=this.props,{innerWidth:r,innerHeight:i}=window,o=t/(e/r),a=i-(this._titleElem&&this._titleElem.offsetHeight||0)<o&&n;this.setState({isFullHeight:a,videoContainerHeight:o})}),this._clearLoadingTimeout=(()=>{this._loadingTimeout&&(window.clearTimeout(this._loadingTimeout),this._loadingTimeout=null)}),this._handleCallToActionClick=(()=>{const{callToAction:{urlType:e},onCallToActionClick:t}=this.props;t({urlType:e})}),this._setTitleRef=(e=>{this._titleElem=e}),this._onToggleMuteClick=(()=>{const{onToggleMuteClick:e,hasSound:t}=this.props;t&&e()}),this._getSoundTitle=(()=>{const{muted:e,hasSound:t,l10n:n}=this.props;return n(t?e?"mobile.video.unmute":"mobile.video.mute":"mobile.video.no_sound")}),this._renderHeader=(()=>{const{shouldRenderMenu:e}=this.props;return i.a.createElement("div",{className:G("header")},i.a.createElement(D.a,Object(T.a)({dropShadow:!0,color:K},this.props,{shouldRenderMenu:e})))}),this._handleReloadClick=(()=>{const{play:e,onReplayClick:t}=this.props;t&&t(),e()}),this._renderFeedback=(()=>{const{id:e,mainColor:t}=this.props;return i.a.createElement(W.a,{id:e,mainColor:t})}),this._checkVideoViewModeDebounced=Object($.a)(this._checkVideoViewMode,Z)}componentWillReceiveProps(e){const{isFullScreen:t,resizeAnimationTime:n}=this.props,{isFullScreen:r,buffering:i}=e,o={};t!==r&&(o.player={hidden:!0},Object(l.a)(n+100).then(()=>{k().then(this._setPlayerVisible)})),i?this._loadingTimeout||(this._loadingTimeout=window.setTimeout(()=>this.setState({isLoading:!0}),Y)):(this._clearLoadingTimeout(),o.isLoading=!1),this.setState(o)}componentDidUpdate(){this._checkVideoViewMode()}componentWillUnmount(){this._setPlayerVisible.cancel(),this._clearLoadingTimeout(),window.removeEventListener("resize",this._checkVideoViewModeDebounced),window.removeEventListener("orientationchange",this._checkVideoViewModeDebounced)}componentDidMount(){window.addEventListener("resize",this._checkVideoViewModeDebounced),window.addEventListener("orientationchange",this._checkVideoViewModeDebounced)}_renderCallToAction(){const{callToAction:e,isCallToActionShown:t,isFullScreen:n,isShowVideoControls:r}=this.props,{isFullHeight:o}=this.state;if(!e)return;const{buttonName:a,title:s,url:c,description:l,logo:u}=e,d=u&&u.logoUrl||"",p=u&&u.mainColor||I.a,b=o&&n&&r,{isDarkImage:m}=Object(A.a)(p);return i.a.createElement("div",{className:G("call-to-action-bar",{visible:t,isFullHeight:b,isFullScreen:n}),onClick:this._handleCallToActionClick},i.a.createElement(x.a,{imageUrl:d,backgroundColor:p,isDark:m,title:s,description:l,buttonText:a,href:c,target:"_blank",isWrapped:!1,isButtonLight:!1,isShadowed:!1,isArrowButton:!1,trueColor:!1}))}_renderPlayer(){const{player:e,playerRef:t,isFullScreen:n,isShowVideoControls:r,callToAction:o,isAdVisible:a}=this.props,{isFullHeight:s,videoContainerHeight:c,isLoading:l}=this.state,{hidden:u}=this.state.player,d=!(a||n&&r),p=s||!n||!r,b=p||isNaN(c)?"auto":c;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:G("player-wrap",{isFullHeight:p,isHidden:l})},i.a.createElement("div",{className:G("player",{hidden:u,isAdVisible:a}),ref:t,style:{height:b}},e),d&&i.a.createElement("div",{className:G("play-icon")})),!a&&o&&this._renderCallToAction())}_renderTitle(e){const{title:t}=this.props;if(e){const n=n=>i.a.createElement(V.a,{className:n.className},i.a.createElement(H.a,{href:e,className:G("title-link")},t));return i.a.createElement(F.a,{className:G("title"),component:n,href:e},t)}return i.a.createElement(F.a,{className:G("title"),component:V.a},t)}_renderDomain(){const{domainTitle:e,host:t,source:n,isCardChannelLinkEnabled:r}=this.props;return i.a.createElement("div",{className:G("source",{small:!1})},i.a.createElement(P.a,{host:t,source:n,isMobile:!0,isCardChannelLinkEnabled:r},i.a.createElement(N.a,{textColor:"#fff",name:e})))}_renderContent(){const{isFullHeight:e}=this.state;return i.a.createElement("div",{className:G("content",{isFullHeight:e}),ref:this._setTitleRef},i.a.createElement("div",{className:G("title-wrapper")},this._renderTitle()),this._renderDomain(),this._renderSubscribeButton())}_renderPreviewImage(){const{image:e,isPreviewVisible:t,isFullScreen:n}=this.props,{player:r}=this.state,o=t&&!r.hidden&&!n,a={backgroundImage:`url(${e})`};return i.a.createElement("div",{className:G("preview-image",{visible:o}),style:a})}_renderMittens(){const{id:e,link:t,onClick:n}=this.props,{isFullHeight:r}=this.state;return i.a.createElement("div",{className:G("mittens",{isFullHeight:r})},i.a.createElement(R.a,{id:e,link:t,isMobile:!0,isTouch:!0,iconColor:K,backgroundColor:"#000",withoutCommentCounter:!0,onCardClick:n,hasProductsButton:!1}))}_renderCloseButton(){const{isFullScreen:e,onCloseFullScreenClick:t,moveDislike:n,noDislike:r,l10n:o}=this.props;return e?n&&!r?i.a.createElement("div",{className:G("exit-full-screen-text-button"),onClick:t},o("feedback.complain_close")):i.a.createElement("div",{className:G("exit-full-screen-button"),onClick:t}):null}_renderDotsMenu(){}_renderSubscribeButton(){const{source:e,statObject:t}=this.props,n={borderColor:K,color:K,opacity:.7};return i.a.createElement("div",{className:G("subscribe-button-wrapper",{small:!1})},i.a.createElement(B.a,{source:e,statObject:t,isVisible:this._hasSubscribeButton(),style:n,isMobile:!0,triggerEvent:"click",className:G("subscribe-button")}),this._renderDotsMenu())}_renderMuteButton(){const{muted:e,hasSound:t,isFullScreen:n,isShowVideoControls:r}=this.props,o=n&&(e||!t),a=e||!t;return(!n||!r)&&i.a.createElement("div",{className:G("mute-button")},(t||n)&&i.a.createElement("div",{className:G("mute-button-icon",{muted:a}),onClick:this._onToggleMuteClick}),i.a.createElement("div",{className:G("mute-button-text")},i.a.createElement("div",{className:G("mute-button-text-wrapper",{visible:o}),onClick:this._onToggleMuteClick},this._getSoundTitle())))}_renderSpinner(){const{isLoading:e}=this.state;return i.a.createElement("div",{className:G("spinner",{isLoading:e})},i.a.createElement(M,null))}_hasSubscribeButton(){const{isFullScreen:e,hasSubscribeButton:t}=this.props;return t&&e}_renderPostroll(){const{bigImage:e,play:t,source:n,feedback:r,areControlsHidden:o,link:a,isVideoSubscribeCardViewCircle:s,videoSubscribeShowForSeconds:c,statObject:l}=this.props,{logo:u,title:d,feedLink:p}=n||{},b="disliked"===r;return i.a.createElement(z.a,{channelLogo:u,channelTitle:d,channelTitleBlock:this._renderDomain(),channelLink:p,source:n,statObject:l,mittens:this._renderMittens(),controls:i.a.createElement(i.a.Fragment,null,this._renderMuteButton(),this._renderHeader()),isMobile:!0,reloadSecIn:c,onReload:t,onManualReload:this._handleReloadClick,isPauseCountDown:b,backgroundImage:e,title:this._renderTitle(a),viewType:s?"circle":"normal",isControlsHidden:o})}render(){const{playing:e,isFullScreen:t,isPlayIconHidden:n,isPreviewClickable:r,areControlsHidden:o,isShowVideoControls:a,isVisibleSubscribe:s,onPreviewClick:c,onClick:l,isFeedbackCard:u,rootRef:d,isAdVisible:p}=this.props,{player:b}=this.state,m=!t||!a,h={isFullScreen:t,hasSubscribeButton:this._hasSubscribeButton(),isPreviewClickable:r,isPlayIconHidden:n,playing:e,contentHidden:b.hidden,areControlsHidden:o&&!t&&!s,areTitleHidden:o&&!s,isMobile:!0,isFeedbackCard:u};return i.a.createElement(q.a,{forceDisable:t},i.a.createElement("div",{className:G(h),onClickCapture:l,ref:d},this._renderPlayer(),s?this._renderPostroll():p?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:G("preview-wrapper")},this._renderPreviewImage(),i.a.createElement("div",{className:G("vignette-top")}),i.a.createElement("div",{className:G("vignette-bottom")}),m&&i.a.createElement("div",{className:G("play-icon")})),i.a.createElement("div",{className:G("overlay",{visible:!t&&!u}),onClick:c}),this._renderContent(),this._renderMittens(),this._renderMuteButton(),this._renderHeader(),this._renderCloseButton(),this._renderSpinner(),u&&this._renderFeedback())))}});var X=n(153),J=n(14),ee=n(152),te=n(21);const ne={PLAY:"play",PAUSE:"pause"},re=200,ie=2e3,oe=2e3;var ae=function(){this._loopCounter=1,this._startedInitPlayer=!1,this._metricsManager=new ee.a("undefined"!=typeof window?window.Ya&&window.Ya.Rum:void 0,"v1"),this._initPlayer=Object(a.a)(()=>{const{video:e,autoplay:t,shouldPreload:n,videoPlayerApiVersion:r}=this.props;if(this._player)return;this._metricsManager.trigger("Init");const{id:i,additionalParams:o,videoInfo:a,adConfig:s}=e;window.Ya.streamPlayer.init({version:Object(d.c)()||r,element:this._playerContainer,source:{streamUrl:i,loop:!1,additionalParams:o,videoInfo:a,adConfig:s},muted:t,maxBufferLength:7,hidden:"*",size:{width:"100%",height:"100%"},preload:n,handlers:{onStateChange:this._onPlayerStateChange,onUserAction:this._onPlayerUserAction,onError:this._onPlayerError,onCurrentTimeChange:this._onCurrentTimeChange,onDurationChange:this._toggleVideoControls,onVolumeChange:this._handleVolumeChange,onContentImpression:this._handleContentImpression,onAdStateChange:this._handleAdStateChange},features:{NativeUI:!0},togglePlaybackOnVisibilityChange:!1}).then(e=>{this._player=e,this._onPlayerReady()})}),this._onPlayerReady=Object(a.a)(()=>{const{autoplay:e}=this.props,{isIntersecting:t}=this.state;this._isPlayerReady=!0,this._setVideoStyle("cover"),t&&(e||this._latestUserAction===ne.PLAY)&&this._autoplay()}),this._onPlayerError=Object(a.a)(()=>{this._autopause(),this.setState({isError:!0})}),this._onPlayerUserAction=Object(a.a)(e=>{if(e.name===u.b.PLAY_BUTTON_CLICK){const{state:t}=e.data||{};switch(t){case ne.PLAY:case ne.PAUSE:this._latestUserAction=t}const{isFullScreen:n}=this.state;n||this._onPreviewClick()}}),this._onPlayerStateChange=Object(a.a)(e=>{const{id:t,videoStart:n,video:r,onVideoPlay:i,onVideoPause:o,onVideoReplay:a,onVideoEnd:s}=this.props,{loop:c,replayCount:l}=r,{isFullScreen:d}=this.state;switch(e){case u.a.PLAYING:this._latestUserAction===ne.PLAY&&(this._latestUserAction=null,i({videoPos:String(this._player.getCurrentTime())})),n(t),this.setState({paused:!1,isStartedOnce:!0,areControlsHidden:!0});break;case u.a.PAUSED:if(!this._player)return;this._latestUserAction===ne.PAUSE?(this._latestUserAction=null,o({videoPos:String(this._player.getCurrentTime())}),this.setState({paused:!0,areControlsHidden:!1})):setTimeout(()=>this.setState({paused:!0,areControlsHidden:!1}),0);break;case u.a.ENDED:if(a({videoPos:String(this._player.getCurrentTime())}),!1===c)break;s({videoPos:String(this._player.getCurrentTime())}),this._loopCounter!==l||d?(this._loopCounter++,this._player.play()):(this._showSubscribe(),this._loopCounter=1);break;case u.a.BUFFERING:window.clearTimeout(this._pauseTimeoutId)}this.setState({playerStateId:e})}),this._loadPlayerJS=(()=>{this._startedInitPlayer||(this._startedInitPlayer=!0,Object(s.a)(d.a).then(this._initPlayer))}),this._subscribe=(()=>{const{isIntersecting$:e,isVisible$:t}=this.props,n=e.subscribe(e=>this.setState({isIntersecting:e})),r=t.subscribe(e=>this.setState({isVisible:e}));this._unsubscribe=(()=>{n.unsubscribe(),r.unsubscribe()})}),this._hideControls=(()=>{const{started:e}=this.props,{paused:t}=this.state;!t&&e&&this.setState({areControlsHidden:!0})}),this._showControls=(()=>{this.setState({areControlsHidden:!1})}),this._resetTimeout=(()=>{window.clearTimeout(this._hideControlsTimeout),this._hideControlsTimeout=window.setTimeout(this._hideControls,oe)}),this._handleUserActivity=(()=>{const{isFullScreen:e}=this.state;e||(this._showControls(),this._resetTimeout())}),this._showControlsForLongVideo=(()=>{this._player.setHiddenControls("preloader")}),this._showControlsForShortVideo=(()=>{this._player.setHiddenControls("timeline,preloader")}),this._hideVideoControls=(()=>{this._player.setHiddenControls("*")}),this._toggleVideoControls=(()=>{const{isFullScreen:e}=this.state,{isShowVideoControls:t}=this.props;if(t)return e?void(this._player&&(this._player.getDuration()>I.d?this._showControlsForLongVideo():this._showControlsForShortVideo())):this._hideVideoControls()}),this._handleVolumeChange=(e=>{const{isFullScreen:t,isAdVisible:n}=this.state,r=0===e;(t||!r||n)&&(Object(y.g)(e.toString()),Object(y.f)(r)),n&&this.setState({muted:r})}),this._handleContentImpression=(()=>{this._metricsManager.sendDeltas()}),this._handleAdStateChange=(({state:e})=>{const{isFullScreen:t}=this.state,n=e===te.a.Active;this._setVideoStyle(n||t?"contain":"cover"),this.setState({isAdVisible:n})}),this._isFeedbackCard=((e,t)=>e&&t&&"liked"!==t),this._destroyPlayer=(()=>{this.state.isAdVisible||(this._player&&(this._player.destroy(),this._player=null),this.setState({isStartedOnce:!1,playerStateId:null}),this._isPlayerReady=!1,this._startedInitPlayer=!1)}),this._showSubscribe=(()=>{this.setState({isVisibleSubscribe:!0},()=>this._player&&this._player.pause())}),this._hideSubscribe=(()=>{this.setState({isVisibleSubscribe:!1},()=>this._player&&this._player.play())}),this._handleReplayClick=(()=>{}),this._autoplay=(()=>{const{muted:e,isAdVisible:t}=this.state;e||t||this._mute(),this._player&&this._isPlayerReady&&(this._player.play(),this.props.onVideoAutoplay({videoPos:String(this._player.getCurrentTime())}))}),this._onPreviewClick=(()=>{const{id:e,link:t,videoClick:n,onClick:r}=this.props,{isError:i}=this.state;i?(this._destroyPlayer(),this._initPlayer(),this.setState({isError:!1})):(this._isPlayerReady||(this._latestUserAction=ne.PLAY),this._onEnterFullScreen()),n(e),r({link:t,videoPos:String(this._player.getCurrentTime())})}),this._onCallToActionClick=(()=>{const{onCall2ActionClick:e,callToAction:{urlType:t}}=this.props;e({urlType:t})}),this._onCloseButtonClick=(()=>{this.setState({isFullScreen:!1,paused:!0}),this._player.pause()}),this._onToggleMuteClick=(()=>{const{muted:e,isFullScreen:t}=this.state,{setVideoMute:n}=this.props;e?(this._unmute(),this.props.onVideoSoundOn({videoPos:String(this._player.getCurrentTime())})):(this._mute(),this.props.onVideoSoundOff({videoPos:String(this._player.getCurrentTime())})),t&&n(!e)}),this._onToggleAutoplayClick=(()=>{const{autoplay:e}=this.props;e?this._autoplayOff():this._autoplayOn()}),this._onCurrentTimeChange=((e,t,n)=>{if(!this._player)return;const{callToAction:r,videoCallToActionTimestamp:i,onCall2ActionShow:o}=this.props;!this.state.isCallToActionShown&&r&&n>=i&&(this.setState({isCallToActionShown:!0}),o({urlType:r.urlType})),this._heartbeatHandler(n)}),this._setPlayerRef=(e=>{this._playerContainer=e})};const se={videoStart:S.e,videoClick:S.d,setVideoAutoplay:y.e,setVideoMute:y.f},ce=Object(o.d)((e,{item:t,source:n})=>{const{autoplay:r}=Object(h.d)(e),i=Object(f.b)(),o=!Object(v.c)(e),{isVideoSubscribeCardViewCircle:a,videoSubscribeShowForSeconds:s,videoCallToActionTimestamp:c,videoPlayerApiVersion:l}=Object(J.a)(e),u="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iPad|iPhone|iPod/.test(window.navigator.platform);return Object.assign({autoplay:r,shouldPreload:o,resizeAnimationTime:re,isMutedByUser:i,isVideoSubscribeCardViewCircle:a,videoSubscribeShowForSeconds:s,videoCallToActionTimestamp:c,videoPlayerApiVersion:l,isShowVideoControls:!u},t,{source:n})},se)(class extends r.PureComponent{constructor(e){super(e),ae.call(this),this.state={muted:e.autoplay,paused:!1,playerStateId:null,isError:!1,isStartedOnce:!1,isFullScreen:!1,areControlsHidden:!1,isVisibleSubscribe:!1,isCallToActionShown:!1,isAdVisible:!1},this._player=null,this._playerContainer=null,this._isPlayerReady=!1,this._startedInitPlayer=!1,this._eventLoggersCache={},this._pauseTimeoutId=null,this._destroyTimeoutId=null,this._isReplay=!1,this._isAutopause=!1,this._latestUserAction=null,this._scrollEventName=null,this._hideControlsTimeout=null;const{video:{heartbeatTimes:t,id:n},onVideoHeartbeat:r}=this.props;this._heartbeatHandler=Object(X.a)(n,t,e=>{r({videoPos:e})})}componentDidMount(){this._subscribe(),this._loadPlayerJS(),this._videoBrowserHistory=new m({onPopState:()=>this.setState({isFullScreen:!1})}),this._scrollEventName=Object(c.a)({},this._handleUserActivity),this._hideControlsTimeout=window.setTimeout(this._hideControls,oe)}componentDidUpdate(e,t){const{started:n,isFeedbackEnabled:r,feedback:i}=e,{isIntersecting:o,isVisible:a,isFullScreen:s}=t,{started:c,autoplay:l,isFeedbackEnabled:u,feedback:d}=this.props,{isIntersecting:p,isVisible:b,isFullScreen:m,paused:h}=this.state;(n&&!c||a&&!b)&&this._autopause();const f=h||!c,v=this._latestUserAction===ne.PAUSE,g=l&&f&&!v;!a&&b&&(g&&this._autoplay(),this._metricsManager.trigger("Visible")),!o&&p&&this._onTransitionToVisible(),o&&!p&&this._onTransitionToHidden(),s&&!m&&this._onExitFullScreen();const y=this._isFeedbackCard(u,d);y!==this._isFeedbackCard(r,i)&&(y?(this.setState({isFullScreen:!1}),this._autopause()):g&&this._autoplay())}componentWillUnmount(){this._unsubscribe&&this._unsubscribe(),window.clearTimeout(this._pauseTimeoutId),window.clearTimeout(this._destroyTimeoutId),window.clearTimeout(this._hideControlsTimeout),Object(c.d)(this._scrollEventName),this._initPlayer.cancel(),this._onPlayerReady.cancel(),this._onPlayerStateChange.cancel(),this._onPlayerUserAction.cancel(),this._onPlayerError.cancel(),this._videoBrowserHistory&&this._videoBrowserHistory.destroy()}_onTransitionToVisible(){this._clearDestroyTimeout(),this._player||this._loadPlayerJS()}_onTransitionToHidden(){this._clearDestroyTimeout(),this._setDestroyTimeout(ie)}_onEnterFullScreen(){const{isMutedByUser:e}=this.props;this._setVideoStyle("contain"),this._videoBrowserHistory.handleEnterFullScreen(),this.setState({isFullScreen:!0},()=>{this._toggleVideoControls()}),e?this._mute():this._unmute(),this._player&&this._player.play()}_onExitFullScreen(){const{autoplay:e,resizeAnimationTime:t}=this.props;this._videoBrowserHistory.handleExitFullScreen(),Object(l.a)(t).then(()=>{this._setVideoStyle("cover"),this._mute(),this._toggleVideoControls(),e||this._autopause()})}_autopause(){this._player&&this._isPlayerReady&&(this._player.pause(),this.props.onVideoAutoPause({videoPos:String(this._player.getCurrentTime())}))}_setDestroyTimeout(e){this._clearDestroyTimeout(),this._destroyTimeoutId=window.setTimeout(this._destroyPlayer,e)}_clearDestroyTimeout(){window.clearTimeout(this._destroyTimeoutId)}_autoplayOn(){const{setVideoAutoplay:e}=this.props;e(!0),this.props.onVideoAutoplayOn({videoPos:String(this._player.getCurrentTime())}),this._autoplay()}_autoplayOff(){const{setVideoAutoplay:e}=this.props;e(!1),this.props.onVideoAutoplayOff({videoPos:String(this._player.getCurrentTime())}),this._autopause()}_mute(){this.setState({muted:!0}),this._player&&this._player.setMuted(!0)}_unmute(){this.setState({muted:!1}),this._player&&this._isPlayerReady&&this._player.setMuted(!1)}_setVideoStyle(e){this._player&&this._player.setVideoStyle({objectFit:e})}_isPreviewVisible(){const{playerStateId:e,isStartedOnce:t}=this.state;return!t&&e!==u.a.PLAYING}_isPlayIconHidden(){const{paused:e,playerStateId:t,isError:n,isVisibleSubscribe:r}=this.state;return t===u.a.PLAYING&&!e||t===u.a.BUFFERING||this._latestUserAction===ne.PLAY||n||r}render(){const{id:e,resizeAnimationTime:t,video:n,autoplay:r,title:o,domainTitle:a,image:s,rootRef:c,feedback:l,hasSubscribeButton:d,feedLink:p,bigImage:b,source:m,link:h,isVideoSubscribeCardViewCircle:f,videoSubscribeShowForSeconds:v,isShowVideoControls:g,shouldRenderMenu:y,isCardChannelLinkEnabled:O,mainColor:_,isExtendFeedbackPopupExp:k,callToAction:E,statObject:C,isFeedbackEnabled:j}=this.props,{muted:S,isFullScreen:T,playerStateId:x,isError:A,areControlsHidden:I,isVisibleSubscribe:P,isCallToActionShown:N,isAdVisible:R}=this.state,L=A||!this._isPlayerReady,M=this._player&&this._player.getVideoTracks()[0],B=M?M.width:0,D=M?M.height:0,F={id:e,title:o,domainTitle:a,image:s,statObject:C,rootRef:c,feedback:l,hasSubscribeButton:d,muted:S,autoplay:r,isFullScreen:T,playerRef:this._setPlayerRef,playing:x===u.a.PLAYING,buffering:x===u.a.BUFFERING,hasSound:n.hasSound,isPreviewClickable:L,isPlayIconHidden:this._isPlayIconHidden(),areControlsHidden:I,isPreviewVisible:this._isPreviewVisible(),resizeAnimationTime:t,onPreviewClick:this._onPreviewClick,onCloseFullScreenClick:this._onCloseButtonClick,onToggleMuteClick:this._onToggleMuteClick,onToggleAutoplayClick:this._onToggleAutoplayClick,isDark:!0,feedLink:p,isVisibleSubscribe:P,source:m,video:n,bigImage:b,play:this._hideSubscribe,onReplayClick:this._handleReplayClick,link:h,isVideoSubscribeCardViewCircle:f,videoSubscribeShowForSeconds:v,videoMinWidth:B,videoMinHeight:D,isShowVideoControls:g,shouldRenderMenu:y,onClick:this._handleUserActivity,isCardChannelLinkEnabled:O,mainColor:_,isExtendFeedbackPopupExp:k,isFeedbackCard:this._isFeedbackCard(j,l),callToAction:E,isCallToActionShown:N,onCallToActionClick:this._onCallToActionClick,isAdVisible:R};return i.a.createElement(w,{isFullScreen:T,animationTime:re},i.a.createElement(Q,F))}});var le=n(20),ue=n(2),de=n(8),pe=n(40),be=n(74),me=n(37),he=n(117),fe=n(70),ve=n(71),ge=n(115),ye=n(601),Oe=n(35),_e=n(19),ke=n(82),Ee=n(155),Ce=n(24);const je=343,we=380,Se=Object(r.memo)(({id:e})=>{const{zenApi:t}=Object(le.c)(),n=Object(r.useMemo)(pe.c,[]),{shouldRenderMenu:a,isFeedbackEnabled:s,hasSubscribeButton:c,source:l,isExtendFeedbackPopupExp:u,item:d,isCardChannelLinkEnabled:p,shownReaction:b}=Object(o.g)(t=>{const r=Object(de.w)(t,e,ue.e.GIF),i=n(t,e),{extendFeedback:{isPopup:o},enableCardChannelLink:a}=Object(J.a)(t);return{item:r,shouldRenderMenu:Object(v.h)(t),isFeedbackEnabled:Object(ke.a)(t),hasSubscribeButton:Object(ge.a)(t,r,i),source:i,isExtendFeedbackPopupExp:o,isCardChannelLinkEnabled:a,shownReaction:t.iface.shownReaction}},be.a),{statEvents:m,bulkParams:h,packId:f,cacheId:g,feedback:O}=d,_=Object(r.useMemo)(()=>({statEvents:m,bulkParams:h}),[m,h]),{statItemVideoPlay:k,statItemVideoEnd:E,statItemVideoAutoplay:C,statItemVideoSoundOff:j,statItemVideoSoundOn:w,statItemCall2ActionClick:S,statItemCall2ActionShow:T,statItemVideoReplay:x,statItemVideoHeartbeat:A,statItemVideoPause:I,statItemVideoAutoPause:P,statItemVideoAutoplayOn:N,statItemVideoAutoplayOff:R}=Object(he.a)(_),L=Object(fe.a)(_),M=Object(ve.a)(_),[B,D,F]=Object(Oe.a)();Object(me.b)({isVisible$:D,onShow(){L(),t.packShown(f,g)}});const V=ce,U=Object(o.f)(),z=Object(r.useCallback)(()=>{U(Object(Ce.o)())},[U]),H=Object(r.useCallback)(()=>U(Object(Ce.h)(e)),[U,e]),$=Object(r.useCallback)(e=>{U(Object(y.d)(e))},[U]),W=Object(_e.b)(),q=Object(r.useCallback)(e=>{W(e,_)},[W,_]),G=i.a.createElement(ye.a,{width:je,height:we},i.a.createElement(V,{rootRef:B,shouldRenderMenu:a,isVisible$:D,isIntersecting$:F,statObject:_,isFeedbackEnabled:s,feedback:O,hasSubscribeButton:c,isExtendFeedbackPopupExp:u,item:d,source:l,onClick:M,isCardChannelLinkEnabled:p,onVideoPlay:k,onVideoEnd:E,onVideoAutoplay:C,onVideoSoundOff:j,onVideoSoundOn:w,onCall2ActionClick:S,onCall2ActionShow:T,onVideoReplay:x,onVideoHeartbeat:A,onVideoPause:I,onVideoAutoPause:P,onVideoAutoplayOn:N,onVideoAutoplayOff:R}));return i.a.createElement(i.a.Fragment,null,G,d.reactions?i.a.createElement(Ee.a,{id:e,reactions:d.reactions,shownReaction:b,onSetReactionShown:$,onRemoveFeedbackSuggest:H,onAnimation:z,cardFeedback:d.feedback,log:q,isClicked:Boolean(d.read)}):null)});n.d(t,"default",function(){return Se})},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(5);n(473);const a=(e,t,n)=>{const r=t.length;return r<=20?e.l:r<=40&&!n?e.m:e.s},s={s:{fontSize:"18px",lineHeight:"22px"},m:{fontSize:"18px",lineHeight:"22px"},l:{fontSize:"26px",lineHeight:"32px"}},c={s:{fontSize:"12px",lineHeight:"16px"},m:{fontSize:"14px",lineHeight:"20px"},l:{fontSize:"14px",lineHeight:"20px"}},l={s:{fontSize:"10px",lineHeight:"14px"},l:{},m:{}},u=({title:e,text:t,warning:n})=>({title:a(s,e,Boolean(n)),text:a(c,t,Boolean(n)),warning:n?a(l,n,!1):{}});var d=n(607);const p=Object(r.memo)(({rootRef:e,l10n:t,title:n,text:o,imageData:a,warning:s,domain:c,age:l,isLabelCut:p,forceTextStyle:b,withBorderShadow:m,fitPadding:h,hasButton:f,theme:v,onClick:g,onAuxClick:y,onLabelClick:O})=>{const _=a||b,k=Object(r.useMemo)(()=>_?u({title:n,text:o,warning:s}):{title:{},text:{},warning:{}},[_,o,n,s]),E=Object(r.useMemo)(()=>p?i.a.createElement(d.a,{text:t("desktop.direct")}):i.a.createElement(i.a.Fragment,null,t("desktop.direct")),[p,t]),C=Object(r.useMemo)(()=>{if(a){const{width:e,height:t,url:n}=a;return e>=306&&t>=135?n:null}return null},[a]),j=Object(r.useCallback)(e=>{e.stopPropagation(),O(e)},[O]),w=Boolean(a);return i.a.createElement("div",{className:`zenad-direct-view ${h?"_zenad-fit-padding":""} ${f?"_zenad-has-button":""} _zenad-theme_${v} ${w?"_zenad-has-image":""} ${m?"_zenad-with-border-shadow":""}`,onClick:g,onAuxClick:y,ref:e},i.a.createElement("div",{className:"zenad-direct-view__label",onClick:j},E),C?i.a.createElement("div",{className:"zenad-direct-view__image",style:{backgroundImage:`url(${C})`}}):null,i.a.createElement("div",{className:"zenad-direct-view__image-gradient"}),i.a.createElement("div",{className:"zenad-direct-view__title-spacer"}),i.a.createElement("div",{className:"zenad-direct-view__content"},i.a.createElement("div",{className:"zenad-direct-view__title-content"},i.a.createElement("div",{className:"zenad-direct-view__title",style:k.title},n)),i.a.createElement("div",{className:"zenad-direct-view__sub-content"},i.a.createElement("div",{className:"zenad-direct-view__domain"},c),l?i.a.createElement("div",{className:"zenad-direct-view__age"},l):null),i.a.createElement("div",{className:"zenad-direct-view__text-content"},i.a.createElement("div",{className:"zenad-direct-view__text",style:k.text},o),s?i.a.createElement("div",{className:"zenad-direct-view__warning",style:k.warning},s):null)),f?i.a.createElement("div",{className:"zenad-direct-view__button"},t("desktop.direct_go")):null)});n(472);const b=Object(r.memo)(({rootRef:e,l10n:t,title:n,text:o,image:a,warning:s,domain:c,age:l,fitPadding:p,hasButton:b,isLabelCut:m,theme:h,onClick:f,onAuxClick:v,onLabelClick:g})=>{const y=Object(r.useMemo)(()=>u({title:n,text:o,warning:s}),[o,n,s]),O=Object(r.useMemo)(()=>m?i.a.createElement(d.a,{text:t("desktop.direct")}):i.a.createElement(i.a.Fragment,null,t("desktop.direct")),[m,t]),_=Object(r.useCallback)(e=>{e.stopPropagation(),g(e)},[g]);return i.a.createElement("div",{className:`zenad-direct-wide-view ${p?"_zenad-fit-padding":""} ${b?"_zenad-has-button":""} _zenad-${h}`,ref:e,onClick:f,onAuxClick:v},i.a.createElement("div",{className:"zenad-direct-wide-view__label",onClick:_},O),i.a.createElement("div",{className:"zenad-direct-wide-view__background"},i.a.createElement("div",{className:"zenad-direct-wide-view__image",style:{backgroundImage:`url(${a})`}}),i.a.createElement("div",{className:"zenad-direct-wide-view__image-mask"})),i.a.createElement("div",{className:"zenad-direct-wide-view__hover-fade"}),i.a.createElement("div",{className:"zenad-direct-wide-view__title-spacer"}),i.a.createElement("div",{className:"zenad-direct-wide-view__content"},i.a.createElement("div",{className:"zenad-direct-wide-view__title-content"},i.a.createElement("div",{className:"zenad-direct-wide-view__title",style:y.title},n)),i.a.createElement("div",{className:"zenad-direct-wide-view__sub-content"},i.a.createElement("div",{className:"zenad-direct-wide-view__domain"},c),l?i.a.createElement("div",{className:"zenad-direct-wide-view__age"},l):null),i.a.createElement("div",{className:"zenad-direct-wide-view__text-content"},i.a.createElement("div",{className:"zenad-direct-wide-view__text",style:y.text},o),s?i.a.createElement("div",{className:"zenad-direct-wide-view__warning",style:y.warning},s):null)),b?i.a.createElement("div",{className:"zenad-direct-wide-view__button"},t("desktop.direct_go")):null)});n(471);const m=Object(r.memo)(e=>{const{title:t,text:n,image:o,warning:a,domain:s,age:c,onLabelClick:l,onClick:u,rootRef:d,l10n:p}=e,b=Object(r.useCallback)(e=>{e.stopPropagation(),l()},[l]);return i.a.createElement("div",{ref:d,className:"zenad-direkt-big",onClick:u},i.a.createElement("div",{className:"zenad-direkt-big__label",onClick:b},p("desktop.direct")),i.a.createElement("div",{className:"zenad-direkt-big__background"},i.a.createElement("div",{className:"zenad-direkt-big__spacer"}),i.a.createElement("div",{className:"zenad-direkt-big__image-container"},i.a.createElement("div",{className:"zenad-direkt-big__image",style:{backgroundImage:`url(${o})`}}),i.a.createElement("div",{className:"zenad-direkt-big__image-fade"}))),i.a.createElement("div",{className:"zenad-direkt-big__content"},i.a.createElement("h2",{className:"zenad-direkt-big__title"},t),i.a.createElement("div",{className:"zenad-direkt-big__text"},n),i.a.createElement("div",{className:"zenad-direkt-big__domain"},s," ",i.a.createElement("span",{className:"zenad-direkt-big__age"},c))),a&&i.a.createElement("div",{className:"zenad-direkt-big__warning"},a))});var h=n(294),f=n(70),v=n(119),g=n(37),y=n(8),O=n(2),_=n(71),k=n(242);const E={ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"};var C=n(14),j=n(18),w=n(35);const S=Object(r.memo)(({id:e})=>{const{l10n:t}=Object(h.a)(),[n,a]=Object(w.a)(),{item:s,handleClick:c,handleAuxClick:l,handleLabelClick:u}=(({id:e,isVisible$:t})=>{const{item:n,tld:i}=Object(o.g)(t=>{const n=Object(y.w)(t,e,O.e.DIRECT),{tld:r}=t.params;return{item:n,tld:r}},o.e),{url:a,bulkParams:s,statEvents:c,showUrl:l}=n,u={bulkParams:s,statEvents:c},d=Object(_.a)(u),p=Object(r.useCallback)(()=>d(),[d]),b=Object(r.useCallback)(()=>{const e=E[i];e?Object(k.a)(e,"_blank",{noOpener:!0}):console.warn("directPartnerClickHandler: invalid tld")},[i]),m=Object(r.useCallback)(()=>{d(),Object(k.a)(a,"_blank",{noOpener:!0})},[d,a]),h=Object(f.a)(u),C=Object(r.useCallback)(()=>{Object(v.a)(l).catch(console.error),h()},[h,l]);return Object(g.b)({isVisible$:t,onShow:C}),{item:n,handleClick:m,handleAuxClick:p,handleLabelClick:b}})({id:e,isVisible$:a}),{columnCount:d,rubberyType:S,isWideImagesExp:T,isDirectLabelCut:x,theme:A,size:I}=Object(o.g)(t=>{const n=Object(y.c)(t),{isWideImagesExp:r,isDirectLabelCut:i}=Object(C.a)(t),o=Object(j.m)(t);return{columnCount:n,rubberyType:Object(y.u)(t),isWideImagesExp:r,isDirectLabelCut:i,theme:o,size:Object(y.o)(t,e)}},o.e),{title:P,text:N,warning:R,domain:L,age:M,imageData:B}=s,D=3===d,F=Boolean(!0);if(I===O.d.BIG)return i.a.createElement(m,{rootRef:n,l10n:t,title:P,text:N,image:null==B?void 0:B.url,warning:R,domain:L,age:M,onClick:c,onLabelClick:u});const V=B&&B.width/B.height>4/3;return B&&V&&T?i.a.createElement(b,{rootRef:n,l10n:t,title:P,text:N,image:B.url,warning:R,domain:L,age:M,fitPadding:D,hasButton:!0,theme:A,isLabelCut:x,onClick:c,onAuxClick:l,onLabelClick:u}):i.a.createElement(p,{rootRef:n,l10n:t,imageData:B,warning:R,title:P,text:N,domain:L,age:M,fitPadding:D,hasButton:!0,forceTextStyle:Boolean(S),withBorderShadow:F,theme:A,isLabelCut:x,onClick:c,onAuxClick:l,onLabelClick:u})});n.d(t,"default",function(){return S})},function(e,t,n){"use strict";n.r(t);var r=n(17),i=n(0),o=n.n(i),a=n(5),s=(n(503),n(16)),c=n(101);n(504);const l=Object(s.a)("video_autoplay"),u=Object(i.memo)(({autoplay:e,onAutoplayClick:t})=>o.a.createElement("div",{className:l("wrapper",{active:e}),onClick:t},"Автовоспроизведение",o.a.createElement("div",{className:l("outer")},o.a.createElement("div",{className:l("inner")}))));var d=n(2),p=n(239),b=n(302),m=n(597),h=n(513),f=n(527),v=n(605),g=n(110),y=n(130),O=n(313),_=n(606),k=n(21);const E=Object(s.a)("video-card");const C=Object(f.a)(class extends i.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1},this._getSoundTitle=(()=>{const{muted:e,hasSound:t,l10n:n}=this.props;return n(t?e?"mobile.video.unmute":"mobile.video.mute":"mobile.video.no_sound")}),this._linkComponent=(({className:e})=>{const{title:t,link:n}=this.props;return o.a.createElement(h.a,{className:e},o.a.createElement(g.a,{href:n,className:E("title-link")},t))}),this._handleReloadClick=(()=>{const{playerProps:{hideSubscribe:e,onReplayClick:t}}=this.props;e&&e(),t&&t()}),this._handleMouseEnter=(()=>{this.setState({isHovered:!0})}),this._handleMouseLeave=(()=>{this.setState({isHovered:!1})}),this._handleAdStateChange=(({state:e})=>{const{onAdVisible:t}=this.props;t(e===k.a.Active)}),t}_renderPlayer(){const{playerProps:e,onClick:t,controlsHidden:n,callToAction:i,isVisible:a,onVideoPlay:s,onVideoEnd:c,onVideoAutoplay:l,onVideoSoundOff:u,onVideoSoundOn:d,onCall2ActionClick:b,onCall2ActionShow:m,onVideoReplay:h,onVideoHeartbeat:f,onVideoPause:v,onVideoAutoplayOn:g,onVideoAutoplayOff:y,onVideoClick:O,videoPlayerApiVersion:_,isAdVisible:k}=this.props;return o.a.createElement(p.a,Object(r.a)({className:E("player-wrapper")},e,{onClick:t,cardControlsHidden:n&&!this.state.isHovered,callToAction:i,isVisible:a,onAdStateChange:this._handleAdStateChange,onVideoPlay:s,onVideoEnd:c,onVideoAutoplay:l,onVideoSoundOff:u,onVideoSoundOn:d,onCall2ActionClick:b,onCall2ActionShow:m,onVideoReplay:h,onVideoHeartbeat:f,onVideoPause:v,onVideoAutoplayOn:g,onVideoAutoplayOff:y,onVideoClick:O,videoPlayerApiVersion:_,isAdVisible:k}))}_renderPreview(){const{started:e,size:t,image:n,bigImage:r}=this.props,i={backgroundImage:`url(${t!==d.d.SMALL&&r?r:n})`};return e?null:o.a.createElement("div",{className:E("preview",{started:e}),style:i})}_renderMute(){const{onMuteClick:e,hasSound:t,muted:n}=this.props;if(t)return o.a.createElement("div",{className:E("mute",{active:!n}),onClick:e,title:this._getSoundTitle()})}_renderControls(){const{autoplay:e,onAutoplayClick:t}=this.props,n=o.a.createElement(u,{autoplay:e,onAutoplayClick:t});return o.a.createElement("div",{className:E("controls")},this._renderMute(),o.a.createElement("div",{className:E("autoplay")},n))}_renderPlayButton(){const{paused:e}=this.props;return o.a.createElement("div",{className:E("play_button",{visible:e})})}_renderTitle(){const{title:e}=this.props;return o.a.createElement("span",{className:E("title")},o.a.createElement(y.a,{title:e,isDesktop:!0,isMobile:!1,fitToSpace:!1}))}_renderPostrollTitle(){const{title:e}=this.props;return o.a.createElement("span",{className:E("title")},o.a.createElement(y.a,{title:e,isDesktop:!0,isMobile:!1,clampComponent:this._linkComponent,fitToSpace:!1}))}_renderDomain(){const{domainTitle:e,source:t,isCardChannelLinkEnabled:n}=this.props,{feedLink:r}=t;return o.a.createElement("div",{className:E("source")},o.a.createElement(b.a,{host:r,source:t,isMobile:!0,isCardChannelLinkEnabled:n},o.a.createElement(m.a,{textColor:"#fff",name:e})))}_renderMittens(){const{id:e}=this.props;return o.a.createElement("div",{className:E("mittens")},o.a.createElement(O.a,{id:e,isMobile:!1,iconColor:"#fff",backgroundColor:"#000",hasProductsButton:!1}))}_renderFeedback(){const{id:e,isFeedbackEnabled:t,feedback:n,isExtendFeedbackPopupExp:r,isAdVisible:i}=this.props;return!t||i?null:n&&"liked"!==n||r?r?o.a.createElement(c.a,{id:e,mainColor:"rgb(0,0,0)",className:E("feedback-popup-view"),isWhiteThemeForced:!0}):o.a.createElement("div",{className:E("feedback-wrapper")},o.a.createElement(c.a,{id:e})):null}_renderFeedbackControls(){const{isVisibleSubscribe:e,id:t,isDesktopVideoModalCommentsEnabled:n}=this.props;return o.a.createElement("div",{className:E("feedback-controls")},o.a.createElement("div",{className:E("bottom")},e?null:this._renderDomain(),o.a.createElement("div",{className:E("feedback-controls-container",{popup:!0})},o.a.createElement(O.a,{id:t,isMobile:!1,iconColor:"#fff",backgroundColor:"#000",withoutCommentCounter:!n,hasProductsButton:!1}))))}_renderPostroll(){const{hasNegativeFeedback:e,source:t,playerProps:n,bigImage:r,controlsHidden:i,isVideoSubscribeCardViewCircle:a,videoSubscribeShowForSeconds:s,statObject:c}=this.props,{isHovered:l}=this.state,{hideSubscribe:u}=n,{logo:d,feedLink:p,title:b}=t||{};return o.a.createElement(v.a,{channelLogo:d,channelTitle:b,channelTitleBlock:this._renderDomain(),channelLink:p,source:t,mittens:this._renderMittens(),controls:this._renderMute(),isMobile:!1,reloadSecIn:s,onReload:u,onManualReload:this._handleReloadClick,isPauseCountDown:e,backgroundImage:r,title:this._renderPostrollTitle(),viewType:a?"circle":"normal",isControlsHidden:i&&!l,statObject:c})}render(){const{id:e,onAuxClick:t,started:n,paused:r,onClick:i,isIntersecting:a,controlsHidden:s,link:c,withShadows:l,isExtendFeedbackPopupExp:u,isVisibleSubscribe:d,isTouch:p,callToAction:b,rootRef:m,isAdVisible:h}=this.props,f={visible:a,started:n,paused:r,isExtendFeedbackPopupExp:u,isDesktop:!0,withShadows:l},v=Boolean(b);return o.a.createElement(_.a,{withShadows:l},o.a.createElement("div",{ref:m,className:E(f),onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},this._renderPreview(),d||h?null:o.a.createElement("div",{className:E("content",{hidden:s,"with-call-to-action":v})},this._renderPlayButton(),o.a.createElement(g.a,{href:c,target:"_blank",onClick:i,onAuxClick:t,className:E("clickable")}),!v&&this._renderControls(),this._renderTitle(),o.a.createElement("div",{className:E("bottom")},this._renderDomain(),o.a.createElement("div",{className:E("feedback-controls-container")},o.a.createElement(O.a,{id:e,isMobile:!1,isTouch:p,iconColor:"#fff",backgroundColor:"#000",withoutCommentCounter:!1,hasProductsButton:!1})))),this._renderPlayer(),this._renderFeedback(),d&&!h&&this._renderPostroll(),u&&!h?this._renderFeedbackControls():null))}});n(10);var j=n(96),w=n(22);const S=({timeout:e=800,shouldResetOnVisibilityChange:t=!1,sendShow:n=!0,sendDeepwatch:r=!1,loggerParams:o={},logger:a,onShow:s,onDeepwatch:c,isVisible:l})=>{(({timeout:e=800,shouldResetOnVisibilityChange:t=!1,onShow:n,onDeepwatch:r,isVisible:o})=>{const[a,s]=Object(i.useState)(j.a),c=o&&a,l=Object(i.useRef)(0),u=Object(i.useRef)(!1),d=Object(i.useRef)(!1),p=Object(i.useRef)(null),b=Object(i.useCallback)(()=>{u.current||(n&&n(),u.current=!0)},[n]),m=Object(i.useCallback)(()=>{d.current||(r&&r(Date.now()-l.current),d.current=!0)},[r]),h=Object(i.useCallback)(()=>{null!==p.current&&(window.clearTimeout(p.current),Date.now()>l.current+e&&b(),p.current=null)},[b,e]),f=Object(i.useCallback)(()=>{c?null===p.current&&(p.current=window.setTimeout(b,e),l.current=Date.now()):h()},[c,b,e,h]);Object(w.a)(()=>(f(),Object(j.d)(e=>{s(e)}))),Object(i.useEffect)(()=>{t&&(u.current=!1,d.current=!1)},[t,a]),Object(i.useEffect)(f),Object(i.useEffect)(()=>{if(c)return()=>{u&&m()}},[c,m]),Object(i.useEffect)(()=>h,[])})({timeout:e,shouldResetOnVisibilityChange:t,onShow:Object(i.useCallback)(()=>{a&&n&&a.log("show",o),s&&s()},[a,o,n,s]),onDeepwatch:Object(i.useCallback)(e=>{const t={local:{__t__:(~~(e/1e3)).toString()}};a&&r&&a.log("deepwatch",t),c&&c(e)},[a,r,c]),isVisible:l})},T=e=>{const{children:t}=e;return S(e),void 0===t?null:t};var x=n(59),A=n(9),I=n(235),P=n(8);const N=Object(A.createSelector)((e,t)=>t,e=>e.videoModal.openedItemId,e=>{const{interactionCardId:t,intersectingCardIndices:n}=e.videoCards;if(void 0!==n[t])return t},(e,t)=>Object(P.n)(e,t).video.autoplay&&e.iface.isVideoAutoplayEnabled,(e,t)=>{const{visibleCardIndices:n}=e.videoCards;if(0===n.length)return!1;const r=Object.values(n);return n[t]===Math.min.apply(void 0,r)},(e,t,n,r,i)=>!(t||n&&n!==e)&&(n===e||!!r&&i)),R=(e,t,n)=>{const{activeCard:r}=e.videoCards.activeCard.id===t?e.videoCards:I.a;return r[n]};var L=n(65),M=n(14),B=n(42),D=n(40),F=n(74),V=n(35),U=n(117),z=n(70),H=n(71),$=n(67),W=n(30),q=n(123),G=n(83),K=n(82);class Y extends i.PureComponent{constructor(...e){var t;return t=super(...e),this.state={controlsHidden:!1,isVisibleSubscribe:!1,started:!1,isAdVisible:!1},this._hideControls=Object(x.a)(e=>{this.setState({controlsHidden:e})}),this._onPlayerDestroy=(()=>{this.setState({started:!1})}),this._changeActiveCard=(e=>{const{id:t,paused:n,muted:r,hasNegativeFeedback:i,setActiveCard:o}=this.props,{isAdVisible:a}=this.state;o(Object.assign({id:t,paused:n,muted:r,hasNegativeFeedback:i,isAdVisible:a},e))}),this._onAuxClick=(e=>{if(1===e.button){const{id:e,paused:t,setLastInteractedCard:n,onVideoPause:r}=this.props;n(e),t||(this._changeActiveCard({paused:!0}),r())}}),this._onClick=(e=>{const{id:t,setLastInteractedCard:n,onVideoPause:r}=this.props;if(n(t),(e.ctrlKey||e.metaKey)&&0===e.button){const{paused:e}=this.props;return void(e||(this._changeActiveCard({paused:!0}),r()))}const{isVideoModalEnabled:i}=this.props;if(i){const{id:e,paused:t,toggleVideoModal:n,isModalOpen:r,onVideoPause:i,onVideoClick:o}=this.props;r||(o(),n(e),t||(this._changeActiveCard({paused:!0}),i()))}else{const{paused:e,onVideoClick:t,onVideoPlay:n,onVideoPause:r}=this.props;t(),this._changeActiveCard({paused:!e}),e?n():r()}e.preventDefault()}),this._onMuteClick=(e=>{const{id:t,muted:n,video:{hasSound:r},setLastInteractedCard:i,onVideoSoundOn:o,onVideoSoundOff:a}=this.props;i(t),r&&(n?o():a(),this._changeActiveCard({muted:!n})),e.stopPropagation(),e.preventDefault()}),this._onAutoplayClick=(e=>{const{id:t,autoplay:n,paused:r,setVideoAutoplay:i,setLastInteractedCard:o,onVideoAutoplayOn:a,onVideoAutoplayOff:s,onVideoAutoplay:c,onVideoAutoPause:l}=this.props;o(t);const u=!n;i(u),u?a():s(),r&&u&&c(),r||u||l(),this._changeActiveCard({paused:n}),e.stopPropagation(),e.preventDefault()}),this._handleReplayClick=(()=>{}),this._showSubscribe=(()=>{this.setState({isVisibleSubscribe:!0}),this._changeActiveCard({paused:!0})}),this._hideSubscribe=(()=>{const{onVideoReplay:e}=this.props;e(),this.setState({isVisibleSubscribe:!1}),this._changeActiveCard({paused:!1})}),this._stopLoop=(()=>{this._changeActiveCard({paused:!0})}),this._handleVolumeChange=(e=>{const{isAdVisible:t}=this.state,{muted:n}=this.props,r=0===e;t&&n!==r&&this._changeActiveCard({muted:r})}),this._handleAdVisible=(e=>{this._changeActiveCard({isAdVisible:e}),this.setState({isAdVisible:e})}),t}componentWillUnmount(){this._hideControls.cancel()}componentDidMount(){const{autoplay:e,setVideoAutoplay:t}=this.props;if("boolean"!=typeof e){const e=Object($.a)();t("boolean"!=typeof e||e)}}componentDidUpdate(e){const{paused:t,isIntersecting:n,isVisible:r}=e,{id:i,isIntersecting:o,isVisible:a,paused:s,interactive:c,setIntersecting:l,setVisibility:u,onVideoAutoplay:d,onVideoAutoPause:p}=this.props;t&&!s&&(this._hideControls(!1),setTimeout(()=>this._hideControls(!0),L.c)),!t&&s&&this._hideControls(!1);const{started:b}=this.state;b||s||this.setState({started:!0}),n!==o&&l(i,o),r!==a&&u(i,a),!t||s||c||d(),t||!s||c||p()}render(){const{paused:e,muted:t,hasNegativeFeedback:n,video:r,isIntersecting:i,size:a,isVideoSubscribeCardViewCircle:s,videoSubscribeShowForSeconds:c,videoCallToActionTimestamp:l,videoPlayerApiVersion:u}=this.props,{controlsHidden:p,isVisibleSubscribe:b,isAdVisible:m}=this.state,h={video:r,shouldInitPlayer:this.state.started&&i,objectFit:a===d.d.SMALL?"cover":"contain",isIntersecting:i,paused:e,muted:t,hasNegativeFeedback:n,onDestroy:this._onPlayerDestroy,showSubscribe:this._showSubscribe,hideSubscribe:this._hideSubscribe,stopLoop:this._stopLoop,onReplayClick:this._handleReplayClick,isVisibleSubscribe:b,hasPreroll:!0,handlers:{onCurrentTimeChange:this._onCurrentTimeChange,onVolumeChange:this._handleVolumeChange},isFullscreen:!1,videoCallToActionTimestamp:l},f=Object.assign({},this.props,{started:this.state.started,hasSound:r.hasSound,onAuxClick:this._onAuxClick,onClick:this._onClick,onMuteClick:this._onMuteClick,onAutoplayClick:this._onAutoplayClick,playerProps:h,controlsHidden:p,isVisibleSubscribe:b,isVideoSubscribeCardViewCircle:s,videoSubscribeShowForSeconds:c,isAdVisible:m,onAdVisible:this._handleAdVisible,videoPlayerApiVersion:u});return o.a.createElement(C,f)}}Y.defaultProps={paused:!0,muted:!0,shouldInitPlayer:!1,interactive:!1};const Z={setVideoAutoplay:W.e,setIntersecting:q.b,setVisibility:q.d,setLastInteractedCard:q.c,setActiveCard:q.a,toggleVideoModal:G.e},Q=Object(a.d)(()=>{const e=Object(A.createSelector)(N,(e,t)=>{const{feedback:n}=Object(P.n)(e,t);return n&&"liked"!==n},(e,t)=>R(e,t,"paused"),(e,t)=>R(e,t,"muted"),(e,t,n,r)=>!e||t?{paused:!0,muted:!0,hasNegativeFeedback:t}:{paused:n,muted:r,hasNegativeFeedback:t});return(t,{id:n})=>{var r;const{isVideoModalEnabled:i,extendFeedback:o,isDesktopVideoModalCommentsEnabled:a,isVideoSubscribeCardViewCircle:s,videoSubscribeShowForSeconds:c,videoCallToActionTimestamp:l,videoPlayerApiVersion:u}=Object(M.a)(t),d=o.isPopup,{paused:p,muted:b,hasNegativeFeedback:m}=e(t,n),h=Object(P.l)(t),f=(({commentsDocumentId:e,commentsData:t,feed:n},r)=>{const i=n&&n.items&&n.items[r],o=!e&&i?i.commentsDocumentId:e;if(o&&t[o])return t[o].count})(t,n);return{isTouch:Boolean(null==t?void 0:null===(r=t.params)||void 0===r?void 0:r.isTouch),paused:p,muted:b,hasNegativeFeedback:m,isVideoModalEnabled:i,withShadows:h,isExtendFeedbackPopupExp:d,isDesktopVideoModalCommentsEnabled:a,commentsCount:f,isVideoSubscribeCardViewCircle:s,videoSubscribeShowForSeconds:c,videoCallToActionTimestamp:l,videoPlayerApiVersion:u}}},Z)((e=>t=>{const[n,s]=Object(i.useState)(!1),[c,l]=Object(i.useState)(!1),[u,d]=Object(i.useState)(!1),{id:p,pixels:b}=t,[m,h,f]=Object(V.a)();Object(B.a)(()=>h,e=>s(e)),Object(B.a)(()=>f,e=>l(e));const v=Object(i.useMemo)(D.c),{source:g,isModalOpen:y,autoplay:O,interactive:_,isCardChannelLinkEnabled:k,item:E,isFeedbackEnabled:C}=Object(a.g)(e=>{const t=Object(P.n)(e,p),n=Object(K.a)(e),{enableCardChannelLink:r}=Object(M.a)(e);return{item:t,isFeedbackEnabled:n,source:v(e,p),isModalOpen:e.videoModal.openedItemId===p,autoplay:e.iface.isVideoAutoplayEnabled,interactive:e.videoCards.interactionCardId===p,isCardChannelLinkEnabled:r}},F.a),{statEvents:j,bulkParams:w}=E,S=Object(i.useMemo)(()=>({statEvents:j,bulkParams:w}),[w,j]),{statItemVideoPlay:x,statItemVideoEnd:A,statItemVideoAutoplay:I,statItemVideoSoundOff:N,statItemVideoSoundOn:R,statItemCall2ActionClick:L,statItemCall2ActionShow:$,statItemVideoReplay:W,statItemVideoHeartbeat:q,statItemVideoPause:G,statItemVideoAutoPause:Y,statItemVideoAutoplayOn:Z,statItemVideoAutoplayOff:Q}=Object(U.a)(S),X=Object(z.a)(S),J=Object(H.a)(S),ee=Object(i.useCallback)(()=>{X(),!u&&b&&(b.forEach(e=>{const t=new Image;t.onerror=(()=>console.error(`Error while calling pixel (desktop video); ${e}`)),t.src=e}),d(!0))},[u,b,X]);return o.a.createElement(T,{isVisible:n,onShow:ee},o.a.createElement(e,Object(r.a)({},t,E,{rootRef:m,isVisible:n,isIntersecting:c,statObject:S,source:g,isModalOpen:y,autoplay:O,interactive:_,isCardChannelLinkEnabled:k,onVideoPlay:x,onVideoEnd:A,onVideoAutoplay:I,onVideoSoundOff:N,onVideoSoundOn:R,onCall2ActionClick:L,onCall2ActionShow:$,onVideoReplay:W,onVideoHeartbeat:q,onVideoPause:G,onVideoAutoPause:Y,onVideoAutoplayOn:Z,onVideoAutoplayOff:Q,onVideoClick:J,isFeedbackEnabled:C})))})(Y));t.default=Q},function(e,t,n){"use strict";n.r(t);n(474);var r=n(0),i=n.n(r),o=n(16),a=(n(475),n(5)),s=n(9),c=n(17),l=n(23),u=(n(476),n(36)),d=n(33);const p=Object(d.a)("channel-card"),b=e=>e.length>=8&&/\s/.test(e),m=(e=>{const t=Object(r.forwardRef)((t,n)=>{const{theme:o="white",size:a,status:s,image:d,imageBackgroundColor:m,text:h,textColor:f,textBackgroundColor:v,onIconClick:g,isMobile:y}=t,O=Object(l.a)(t,["theme","size","status","image","imageBackgroundColor","text","textColor","textBackgroundColor","onIconClick","isMobile"]),[_,k]=Object(r.useState)(!1);Object(r.useEffect)(()=>{k("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);const E={backgroundColor:m,backgroundImage:`url('${d}')`},C={color:f,backgroundColor:v},j=Object(u.a)(O,{className:p({size:a,status:s,theme:o,isMobile:y,isTouch:_,isButton:"a"===e||"button"===e})});return i.a.createElement(e,Object(c.a)({ref:n},j),i.a.createElement("div",{className:p("image"),style:E}),i.a.createElement("div",{className:p("text",{isLong:b(h)}),style:C},i.a.createElement("div",{className:p("text-wrapper")},(e=>{if(!b(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return i.a.createElement(i.a.Fragment,null,e.slice(0,n),i.a.createElement("br",null),e.slice(n))})(h))),i.a.createElement("div",{className:p("gradient")}),i.a.createElement("div",{className:p("icon"),onClick:e=>{g&&(e.preventDefault(),e.stopPropagation(),g(e))}}))});return Object(r.memo)(t)})("div");var h=n(8),f=n(20),v=n(2),g=n(37),y=n(19),O=n(3);var _=n(294),k=n(18),E=n(35);const C=({source:{id:e,name:t,userSubscribed:n,image:o,textColor:a,textBackgroundColor:s,imageBackgroundColor:c},isMobile:l,onClick:u})=>{const d=Object(r.useCallback)(()=>{u(e,n)},[u,e,n]);return i.a.createElement(m,{image:o,textColor:a,text:t,textBackgroundColor:s,imageBackgroundColor:c,status:n?"subscribed":"add",theme:"black",size:"r",onClick:d,onIconClick:d,isMobile:l})},j=(e,t)=>Object(h.w)(e,t,v.e.ICEBOARDING_GRID),w=()=>Object(s.createSelector)(e=>e.iceboarding.checkedSources,j,h.c,(e,t,n)=>{return t.sources.slice(0,30).map(t=>Object.assign({},t,{userSubscribed:e.includes(t.id)}))}),S=Object(o.a)("iceboarding-view"),T=Object(r.memo)(({id:e})=>{const{l10n:t}=Object(_.a)(),{zenApi:n}=Object(f.c)(),o=Object(a.f)(),s=Object(r.useMemo)(w,[]),{sources:c,isMobile:l,theme:u,moreButton:d,bulkParams:p,statEvents:b}=Object(a.g)(t=>{const n=j(t,e);return Object.assign({},n,{sources:s(t,e),isMobile:Boolean(t.params.isMobile),theme:Object(k.m)(t)})},a.e),m=Object(y.a)({bulkParams:p,statEvents:b}),h=Object(r.useCallback)(()=>{m("show",{payload:{info:c.map(({id:e})=>e)}})},[c,m]),v=Object(r.useCallback)((e,t)=>{o((t?e=>({type:O.Eb,payload:{id:e}}):e=>({type:O.g,payload:{id:e}}))(e)),m("click",{bulkReplaceMap:{_i_:e,_s_:String(t?0:1)}}),n.invalidateCache()},[o,n,m]),[T,x]=Object(E.a)();Object(g.b)({isVisible$:x,onShow:h});const A=l?"mobile":"desktop";return i.a.createElement("div",{className:S({view:A,theme:u})},i.a.createElement("div",{className:S("title"),ref:T},t("api.v3.launcher.onboarding.title_domain")),i.a.createElement("div",{className:S("description")},t("api.v3.launcher.onboarding.description_domain")),i.a.createElement("div",{className:S("sources")},c.map((e,t)=>i.a.createElement("div",{className:S("source-item"),key:t},i.a.createElement(C,{source:e,isMobile:l,onClick:v})))),d?i.a.createElement("a",{className:S("more-sources"),href:d.link},t("onboarding.more_sources")):null)}),x=Object(o.a)("iceboarding-feed-item"),A=Object(r.memo)(({id:e})=>i.a.createElement("div",{className:x()},i.a.createElement(T,{id:e})));n.d(t,"default",function(){return A})},function(e,t,n){"use strict";var r=n(0),i=n(20),o=n(297);n.d(t,"a",function(){return a});const a=()=>{const{zenLogger:e}=Object(i.c)(),t=Object(r.useContext)(o.a);if(!t)throw new Error("Translations is not passed");const n=t.__LANG__;return{l10n:Object(r.useCallback)(r=>{const i=((e,t)=>e[t])(t,r);return i||(e&&e.error({message:"Missing translation",details:{lang:n,key:r}}),"")},[e,t,n]),lang:n}}},function(e,t,n){"use strict";e.exports=n(357)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0);const i=Object(r.createContext)(null)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(15),i=n(113),o=n(114),a=n(147),s=n(120),c=n(154);function l(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(l(function(n,r){return Object(c.a)(e(n,r)).pipe(Object(s.a)(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiMyYzMwMzYiLz48cGF0aCBkPSJNMTA5LjIgNDUuOTV2LS43MTRjLTE0Ljg4Mi0uNDc2LTIxLjcyOC0uODQtMjcuMTMyLTYuMTE4Qzc2Ljc5IDMzLjcxNCA3Ni40NCAyNi44NjggNzUuOTUgMTJoLS43MTRjLS40NzYgMTQuODY4LS44NCAyMS43MTQtNi4xMTggMjcuMTE4LTUuNDA0IDUuMjc4LTEyLjI1IDUuNjQyLTI3LjExOCA2LjExOHYuNzE0YzE0Ljg2OC40OSAyMS43MTQuODQgMjcuMTE4IDYuMTE4IDUuMjc4IDUuNDA0IDUuNjQyIDEyLjI1IDYuMTE4IDI3LjEzMmguNzE0Yy40OS0xNC44ODIuODQtMjEuNzI4IDYuMTE4LTI3LjEzMiA1LjQwNC01LjI3OCAxMi4yNS01LjYyOCAyNy4xMzItNi4xMTh6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(45),i=n(46),o=n(2),a=n(516),s=n(517),c=n(258),l=n(321),u=n(310),d=n(312),p=n(307),b=n(515),m=n(311),h=n(315);const f={[o.e.IMAGE]:c.a,[o.e.TEXT]:c.a,[o.e.POST]:null,[o.e.GIF]:p.a,[o.e.DIRECT]:Object(r.a)(Object(i.a)({chunkName:()=>"direct-desktop",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.resolve().then(n.bind(null,291)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 291}})),[o.e.ICEBOARDING_GRID]:Object(r.a)(Object(i.a)({chunkName:()=>"iceboarding",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.resolve().then(n.bind(null,293)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 293}})),[o.e.HINT_EULA]:Object(r.a)(Object(i.a)({chunkName:()=>"hint-eula",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(7).then(n.bind(null,334)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 334}})),[o.e.HINT_PERSONAL]:Object(r.a)(Object(i.a)({chunkName:()=>"hint-personal",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(8).then(n.bind(null,335)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 335}})),[o.e.CARD_PLACEHOLDER]:l.a,[o.e.PLACEHOLDER]:l.a,[o.e.USER_QUESTION]:Object(r.a)(Object(i.a)({chunkName:()=>"user-question",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(13).then(n.bind(null,327)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 327}})),[o.e.SIMILAR_INTERESTS]:Object(r.a)(Object(i.a)({chunkName:()=>"star-similar-interests",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(12).then(n.bind(null,328)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 328}})),[o.e.FEATURING_PROMO]:Object(r.a)(Object(i.a)({chunkName:()=>"featuring-promo-card",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(5).then(n.bind(null,336)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 336}})),[o.e.FEATURING_CAROUSEL]:Object(r.a)(Object(i.a)({chunkName:()=>"featuring-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(4).then(n.bind(null,329)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 329}})),[o.e.PERSONAL_CAROUSEL]:Object(r.a)(Object(i.a)({chunkName:()=>"feed-personal-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(6).then(n.bind(null,325)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 325}})),[o.e.CONTENT_CAROUSEL]:Object(r.a)(Object(i.a)({chunkName:()=>"content-carousel",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(2).then(n.bind(null,326)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 326}})),[o.e.COMMENT]:a.a,[o.e.PROFILE_ACTIVITY_ONBOARDING]:Object(r.a)(Object(i.a)({chunkName:()=>"profile-onboarding-card-view",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(9).then(n.bind(null,330)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 330}})),[o.e.AUTH]:null,[o.e.SOCIAL_PROFILE_TEXT]:Object(r.a)(Object(i.a)({chunkName:()=>"source-block-text",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(11).then(n.bind(null,332)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 332}})),[o.e.SOCIAL_PROFILE_STATUS]:Object(r.a)(Object(i.a)({chunkName:()=>"social-profile-status",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(10).then(n.bind(null,331)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 331}})),[o.e.DELIMITER]:Object(r.a)(Object(i.a)({chunkName:()=>"delimiter",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(3).then(n.bind(null,333)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 333}})),[o.e.RTB]:h.a,[o.e.ADSENSE]:u.a,[o.e.CARD_FILLER]:m.a,[o.e.FEEDBACK_SUGGEST]:null,[o.e.LEARN_BLOCK_INTERESTS]:null,[o.e.GALLERY]:null},v=e=>(t,n)=>({Component:Object(d.a)(t,e,n)?s.a:f[n],Stub:b.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});n(377);var r=n(0),i=n.n(r),o=n(16),a=n(110),s=n(259);const c=Object(o.a)("card-channel-link"),l=({host:e,isMobile:t,className:n,children:r,source:l,isCardChannelLinkEnabled:u})=>{const{feedLink:d}=l,p=Object(s.a)(l);return d&&u?i.a.createElement(a.b,{className:o.a.mix(c({isMobile:t,isLink:!0}),n),href:d,host:e,onClick:p},r):i.a.createElement("div",{className:o.a.mix(c(),n)},r)},u=({host:e,isMobile:t,className:n,children:s,feedLink:l,isCardChannelLinkEnabled:u,onOpenSourceLink:d})=>{const p=Object(r.useCallback)(e=>{e.ctrlKey||e.metaKey||e.shiftKey||d()&&e.preventDefault()},[d]);return l&&u?i.a.createElement(a.b,{className:o.a.mix(c({isMobile:t,isLink:!0}),n),href:l,host:e,onClick:p},s):i.a.createElement("div",{className:o.a.mix(c(),n)},s)}},function(e){e.exports={"lib-prefix":"zen-ui",colors:{"black-70":"#4d4d4d",blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff","button-placeholder-color-from":"#f3f1ed","button-placeholder-color-to":"#eceae6","datepicker-calendar-week-day-color":"#757575","datepicker-calendar-day-hover":"#e4e7e7","datepicker-calendar-day-selected":"#ffeba0","datepicker-calendar-day-selected-hover":"#fff5d0","range-input-pointer-disabled":"#eee","range-input-track":"#d2ebff","range-input-track-active":"#07f","range-input-track-disabled":"#ebebeb","range-input-track-active-disabled":"#ccc"}}},function(e,t,n){"use strict";var r=n(412),i="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,o,a,s,c,l,u=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",document.body.appendChild(l),s.selectNode(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:i),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}},function(e){e.exports={a:314}},function(e){e.exports={a:14}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),o=n(46),a=n(308),s=n(309),c=n(5),l=n(45),u=n(106);const d=Object(l.a)(Object(o.a)({chunkName:()=>"video-mobile",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.resolve().then(n.bind(null,290)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 290}})),p=e=>{const{id:t,size:n}=e,o=Object(r.useMemo)(u.a,[]);return Object(c.g)(o)?i.a.createElement(a.a,{id:t,size:n}):i.a.createElement(s.a,{id:t,size:n})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(45),i=n(46);const o=Object(r.a)(Object(i.a)({chunkName:()=>"card-video",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.resolve().then(n.bind(null,289)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 289}}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(45),i=n(46);const o=Object(r.a)(Object(i.a)({chunkName:()=>"video-card-desktop",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.resolve().then(n.bind(null,292)),requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 292}}))},function(e,t,n){"use strict";n.d(t,"a",function(){return m});n(10),n(433);var r=n(0),i=n.n(r),o=n(16),a=n(514),s=n(61),c=n(24),l=n(5),u=n(8),d=n(2);const p=/^https:\/\/(zenadservices.net|([a-z0-9.-]+\.)?yandex\.(ru|ua|kz|by|kg|lt|lv|md|tj|tm|uz|ee|az|fr|com|com\.(tr|am|ge)|co\.il))$/,b=Object(o.a)("card-adsense"),m=Object(r.memo)(({id:e})=>{const[t,n]=Object(r.useState)(null),[{isSizeReady:o,width:m,height:h},f]=Object(r.useState)({isSizeReady:!1,width:0,height:0}),[v,g]=Object(r.useState)(0),y=Object(r.useCallback)(e=>{if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();f({isSizeReady:!0,width:t,height:n})},[]),{adsenseFormat:O,layoutKey:_,client:k,slot:E}=Object(l.g)(t=>Object(u.w)(t,e,d.e.ADSENSE).ad,l.e),C=Object(r.useRef)(null),j=Object(s.a)(c.i);Object(r.useEffect)(()=>{const t=C.current;if(!t)return;const n=t=>{try{const n=C.current,r=n&&t.source&&n.contentWindow===t.source.parent.parent;if(!t.data||!r)return;const i=JSON.parse(t.data);if("resize-me"!==i.msg_type)return;const o=i&&i.key_value&&i.key_value.find(e=>"r_nh"===e.key);if(!o)return console.error("Adsense: empty height key"),void j(e);const{value:a}=o;(e=>{g(parseInt(e.toString(),10))})(a)}catch(e){}},r=t=>"https://googleads.g.doubleclick.net"===t.origin?n(t):t.origin.match(p)?(t=>{const n=C.current;if(!n||n.contentWindow!==t.source||!t.data||t.data.cardId!==e||!t.data.state||"adsense"!==t.data.type)return;const{state:i,error:o}=t.data;"failed"===i&&(console.error(`Adsense: ${o}`),j(e)),window.removeEventListener("message",r)})(t):void 0,i=()=>{const t=C.current;if(!t)return;const n=t.contentWindow;if(n){window.addEventListener("message",r);try{n.postMessage({type:"adsense",client:k,slot:E,width:`${Math.floor(m)}px`,height:`${Math.floor(h)}px`,cardId:e,config:"fluid"===O?{"data-ad-format":O,"data-ad-layout-key":_}:{}},"https://zenadservices.net")}catch(t){console.error(t),j(e)}}};return t.addEventListener("load",i),()=>{t&&(t.removeEventListener("load",i),window.removeEventListener("message",r))}},[m,h,k,E,e,n,O,_,j]);const w=Boolean(!1),S=w&&v?{width:m,height:v,position:"static"}:{},T=w?{paddingBottom:null!==t?`${t}px`:"131%"}:{height:t||"100%"};return i.a.createElement("div",{className:b({isMobile:w,isDesktop:!w})},i.a.createElement("div",{className:b("container"),style:T},i.a.createElement("div",{className:b("inner")},i.a.createElement("div",{className:b("card"),ref:y},o?i.a.createElement("iframe",{sandbox:"allow-same-origin allow-scripts allow-popups allow-top-navigation-by-user-activation",className:b("frame"),style:S,src:"https://zenadservices.net/adsense2.html",ref:C,scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,referrerPolicy:"no-referrer"}):null,i.a.createElement(a.a,null)))))})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r=()=>null},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2);const i=(e,t,n)=>(n===r.e.IMAGE||n===r.e.TEXT)&&0===e&&t},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(5),a=n(49),s=(n(400),n(16)),c=n(33),l=n(12),u=n.n(l),d=n(13),p=n.n(d),b=new u.a({id:"plus-m--inline",use:"plus-m--inline-usage",viewBox:"0 0 10 10",content:'<symbol viewBox="0 0 10 10" id="plus-m--inline">\n    <path d="M6 4V0H4V4H0V6H4V10H6V6H10V4H6Z" />\n</symbol>'}),m=(p.a.add(b),b),h=new u.a({id:"plus-s--inline",use:"plus-s--inline-usage",viewBox:"0 0 8 8",content:'<symbol viewBox="0 0 8 8" id="plus-s--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.75 0.25H3.25V3.25H0.25V4.75H3.25V7.75H4.75V4.75H7.75V3.25H4.75V0.25Z" />\n</symbol>'}),f=(p.a.add(h),h);n(401);const v=Object(c.a)("comments-icon"),g=({size:e})=>{const t="s"===e?f:m;return i.a.createElement("svg",{viewBox:t.viewBox,className:v("plus-svg")},i.a.createElement("use",{xlinkHref:`#${t.id}`}))},y=i.a.forwardRef((e,t)=>{const{count:n,viewType:r,onClick:o,backgroundColor:a="#000",textColor:s="#fff",withPlusIfZero:c}=e,l=c&&0===n,u="border"!==r?{backgroundColor:a,color:s,fill:s}:{borderColor:a,color:a,fill:a};return i.a.createElement("div",{className:v("container",{viewType:r,isClickable:!!o}),ref:t,onClick:o},i.a.createElement("div",{className:v("bubble"),style:u},l?i.a.createElement(g,{size:"card-desktop"===r?"s":"m"}):((e,t)=>{if(null===e)return"";if("border"!==t&&e>=1e3)return"999";const n=String(e);if(e>=1e4)return`${Math.floor(e/1e3)}K`;if(e>=1e3){const e=n[0],t=n[1];return"0"===t?`${e}K`:`${e},${t}K`}return n})(n,r)))});var O=n(598),_=n(110);const k=Object(s.a)("comments-counter-view"),E=({focus:e,isMobile:t,link:n,textColor:r,iconColor:o,count:a,host:s,onClick:c,isHoverable:l})=>i.a.createElement(_.b,{href:n,host:s,className:k()},i.a.createElement(O.b,{isMobile:t,isHoverable:l,focus:e,onClick:c,ariaLabel:"comments"},i.a.createElement(y,{viewType:t?"card-mobile":"card-desktop",textColor:r,backgroundColor:o,count:a,withPlusIfZero:!0})));var C=n(135);const j=({stats:e,count:t,iconColor:n,textColor:o,isMobile:a,host:s,link:c,onCardClick:l,isHoverable:u})=>{const d=Object(r.useCallback)(t=>{l&&l(t),e.clickCommentCounter()},[l,e]);return i.a.createElement(E,{onClick:d,isMobile:a,isHoverable:u,focus:C.a.Normal,count:t,iconColor:n,textColor:o,host:s,link:c})};n(380);var w=new u.a({id:"product-basket--inline",use:"product-basket--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="product-basket--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.032 0h-.064c-.439 0-.817 0-1.13.021a3.07 3.07 0 00-.986.207 3 3 0 00-1.624 1.624 3.07 3.07 0 00-.207.986C5 3.15 5 3.529 5 3.968V4c-1.717 0-2.576 0-3.146.518-.56.507-.657 1.375-.826 3.088l-.16 1.607c-.405 4.105-.545 5.228.583 6.473C2.64 17 4.874 17 9 17s6.358 0 7.55-1.314c1.19-1.315.987-2.368.58-6.473l-.158-1.607c-.17-1.713-.254-2.57-.826-3.088C15.576 4 14.716 4 13 4v-.032c0-.439 0-.817-.021-1.13a3.07 3.07 0 00-.207-.986A3 3 0 0011.147.228a3.069 3.069 0 00-.986-.207A17.826 17.826 0 009.032 0zM11 4c0-.48 0-.79-.017-1.026-.015-.228-.042-.315-.06-.357a1 1 0 00-.54-.54c-.042-.018-.129-.045-.357-.06A16.91 16.91 0 009 2c-.48 0-.79 0-1.026.017-.228.015-.315.042-.357.06a1 1 0 00-.541.54c-.017.042-.044.129-.06.357C7 3.21 7 3.52 7 4h4z" /></symbol>'}),S=(p.a.add(w),w),T=n(317);const x=Object(s.a)("products-counter"),A=({count:e,iconColor:t,textColor:n,isHoverable:r,onClick:o})=>i.a.createElement(O.b,{isMobile:!1,isHoverable:r,focus:C.a.Normal,onClick:o,ariaLabel:"products"},i.a.createElement("div",{className:x()},i.a.createElement(T.a,{symbol:S,width:18,height:18,fill:t,className:x("icon")}),i.a.createElement("span",{className:x("count"),style:{color:n}},e)));var I=n(60),P=n(18),N=n(510),R=(n(382),n(599)),L=n(521),M=new u.a({id:"forward--inline",use:"forward--inline-usage",viewBox:"0 0 28 28",content:'<symbol viewBox="0 0 28 28" id="forward--inline">\n    <path d="M17 11C11.8053 10.5795 3.35178 14.1799 2 22C5 18 11.5 16.5 17 17V24L28 14L17 4V11Z" />\n</symbol>'}),B=(p.a.add(M),M);const D=Object(s.a)("viber-share-button-view"),F=Object(r.memo)(({l10n:e,focus:t,color:n,isError:r,isMobile:o,isHoverable:a,isPending:s,onClick:c,onModalClose:l})=>i.a.createElement("div",{className:D({isPending:s})},i.a.createElement(O.b,{focus:t,isMobile:o,isHoverable:a,onClick:c,ariaLabel:"share"},i.a.createElement("div",{className:D("spinner")},i.a.createElement(R.a,{size:20,style:{stroke:n}})),i.a.createElement("svg",{className:D("share-icon"),viewBox:B.viewBox,fill:n},i.a.createElement("use",{xlinkHref:`#${B.id}`}))),i.a.createElement(L.a,{isOpen:r,close:l,viewType:"inner-close-s"},i.a.createElement("div",{className:D("error-modal")},e("desktop.sharing_error")))));var V=n(159),U=n(119);const z=()=>{},H=Object(r.memo)(({stats:e,color:t,isMobile:n,isHoverable:o,url:a,urlHash:s,isEnabled:c,isShortenerEnabled:l,shortenerResponseTimeout:u,clid:d,l10n:p})=>{const[b,m]=Object(r.useState)(!1),h=Object(r.useCallback)(()=>m(!1),[]),f=Object(r.useCallback)(t=>{const n=Object(V.b)("viber://forward",{text:t});e.clickShare();const r=document.createElement("a");r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),r.remove()},[e]),{handleClick:v,isPending:g}=(({url:e,urlHash:t="",clid:n,setIsPendingDelay:i=500,timeout:o,onBeforeSend:a=z,onError:s=z,onSuccess:c=z})=>{const[l,u]=Object(r.useState)(!1);return{handleClick:Object(r.useCallback)(async()=>{const r=setTimeout(()=>u(!0),i);try{a();const{url:i}=await Object(U.a)("https://zen.me",{params:{url:e,urlHash:t,clid:n},timeout:o,credentials:"omit"});c(i)}catch(e){s()}finally{clearTimeout(r),u(!1)}},[e,t,o,a,s,c,i,n]),isPending:l}})({url:a,urlHash:s,clid:d,timeout:u,onSuccess:e=>f(e),onError:()=>a.length<200?f(a):m(!0)}),y=Object(r.useCallback)(()=>l?v():f(a),[a,l,v,f]);return c?i.a.createElement(F,{l10n:p,focus:C.a.Normal,color:t,isError:b,isMobile:n,isHoverable:o,isPending:g,onClick:y,onModalClose:h}):null});var $=n(14),W=n(19),q=n(34),G=(n(402),n(230));var K=n(56),Y=n(609);const Z=({isMobile:e,isHoverable:t,iconColor:n,cardFeedback:o,animateKey:a,onToggleFeedback:s,type:c})=>{const[l,u]=Object(G.a)({animationClass:"card-control-animation",animateReloadDuration:500});Object(K.a)(u,[a]);const d=Object(r.useCallback)(()=>{s(c)&&u()},[s,u,c]),p=o===c?C.a.Focused:null===o?C.a.Normal:C.a.Unfocused;return i.a.createElement(Y.a,{svgClassName:l,isMobile:e,isHoverable:t,onClick:d,focus:p,iconColor:n,type:"liked"===c?"like":"dislike"})};var Q=n(27),X=n(294);n.d(t,"a",function(){return J}),n.d(t,"b",function(){return ee});const J=({id:e,link:t,urlHash:n,isMobile:s,isHoverable:c,backgroundColor:l,iconColor:u,withoutCommentCounter:d,onCardClick:p,onCancelDislike:b,hasProductsButton:m,onProductsButtonClick:h})=>{const f=Boolean(!1),v=Object(o.f)(),{handleFeedback:g}=Object(N.b)(),y=Object(_.c)(),O=Object(r.useMemo)(I.a,[]),{statObject:k,feedback:E,commentsData:C,allCommentsLink:j,mittensJumpAnimationKey:w,areControlsDisabled:S,isShareButtonEnabled:T,isShortenerEnabled:x,shortenerResponseTimeout:A,clid:R}=Object(o.g)(t=>{const{isButtonEnabled:n,partnerAppMinVersion:r,isShortenerEnabled:i,shortenerResponseTimeout:o}=Object($.a)(t).viberShareButton,a=t.params.partnerAppVersion||"0",s=t.params.clid||"";return{areControlsDisabled:Object(P.e)(t),statObject:O(t,e),feedback:Object(I.d)(t,e),commentsData:d?null:Object(I.c)(t,e),allCommentsLink:d?null:Object(I.b)(t,e),mittensJumpAnimationKey:Object(I.e)(t,e),isShareButtonEnabled:n&&Object(V.a)(a,r),isShortenerEnabled:i,shortenerResponseTimeout:o,clid:s}},o.e),L=Object(W.b)(),M=Object(r.useCallback)(e=>{L(e,k)},[L,k]),B=Object(q.a)(()=>({clickCommentCounter:()=>M("click_comments_counter"),clickShare:()=>M("share")})),{l10n:D}=Object(X.a)(),F=Object(r.useCallback)(t=>("liked"===E?M("feedback_cancel_more"):"disliked"===E&&(M("feedback_cancel_less"),b&&b()),t===E?(v(Object(a.j)(e,null)),g(),!1):(v(Object(a.j)(e,t)),g(),M("liked"===t?"feedback_more":"feedback_less"),!0)),[E,M,b,v,e,g]),U=C&&!d?C.count:void 0;return i.a.createElement(ee,{stats:B,link:t,isMobile:s,isHoverable:c,backgroundColor:l,iconColor:u,onCardClick:p,isShowShareInsteadOfComments:f,host:y,feedback:E,allCommentsLink:j,commentCount:U,hasProductsButton:m,onProductsButtonClick:h,mittensJumpAnimationKey:w,areControlsDisabled:S,isShareButtonEnabled:T,isShortenerEnabled:x,shortenerResponseTimeout:A,urlHash:n,onToggleFeedback:F,clid:R,l10n:D})},ee=({stats:e,link:t,isMobile:n,isHoverable:r,iconColor:o,backgroundColor:a,onCardClick:s,isShowShareInsteadOfComments:c,host:l,feedback:u,allCommentsLink:d,mittensJumpAnimationKey:p,areControlsDisabled:b,isShareButtonEnabled:m,isShortenerEnabled:h,shortenerResponseTimeout:f,urlHash:v,onToggleFeedback:g,commentCount:y,hasProductsButton:_,onProductsButtonClick:k,clid:E,l10n:C})=>b?null:i.a.createElement(O.a,{isMobile:n},_?i.a.createElement(A,{isHoverable:r,count:1,onClick:k,iconColor:o,textColor:a}):null,c?!!t&&m&&i.a.createElement(H,{stats:e,isMobile:n,isHoverable:r,color:o,url:t,urlHash:v,isEnabled:m,isShortenerEnabled:h,shortenerResponseTimeout:f,clid:E,l10n:C}):!Object(Q.f)(y)&&!Object(Q.f)(d)&&i.a.createElement(j,{stats:e,host:l,isMobile:n,isHoverable:r,count:y,link:d,iconColor:o,textColor:a,onCardClick:s}),i.a.createElement(Z,{type:"liked",isMobile:n,isHoverable:r,cardFeedback:u,iconColor:o,animateKey:p,onToggleFeedback:g}),i.a.createElement(Z,{type:"disliked",isMobile:n,isHoverable:r,cardFeedback:u,iconColor:o,animateKey:p,onToggleFeedback:g}))},function(e,t,n){"use strict";n(10);const r=e=>{const t=window.Ya&&window.Ya.Rum;if(!t||!t.makeSubPage||!t.getTime)return{sendTimeMark:()=>{},onLoadStart:()=>{},onRenderEnd:()=>{},sendTTI:()=>{}};const n=t.makeSubPage(e,t.getTime());return{sendTimeMark(e=[]){const r=e.join(".");t.sendTimeMark(r,t.getTime(),!1,n)},onLoadStart(e=[]){this.sendTimeMark(["1724",...e])},onRenderEnd(e=[]){this.sendTimeMark(["2046",...e])},sendTTI(){n&&t.sendTTI(!1,t.getTime(),n)}}};n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});let i,o=!1;const a=({pCodeLoaderBundleUrl:e,loadJs:t,pcodever:n,isLiteRtb:r,pcodeSsrVer:a})=>{if(!i){n&&!a&&(window.pcodever=n),r&&s();const c=new Promise((n,r)=>{window.yandexContextAsyncCallbacks=window.yandexContextAsyncCallbacks||[],window.yandexContextAsyncCallbacks.push(()=>{if(window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager){if(o)return void(i=Promise.resolve(window.Ya.Context.AdvManager));n(window.Ya.Context.AdvManager)}r(new Error("window.Ya.Context.AdvManager not found"))});const a=(e=>{const t="__ADB_FUNCTIONS__";return"string"!=typeof t&&t.fn&&"function"==typeof t.fn.encodeUrl?t.fn.encodeUrl(e):e})(e);t(a).catch(()=>r(new Error("Fail load Rsya bundle")))}),l=((e,t)=>new Promise((n,r)=>{setTimeout(()=>r(t),e)}))(15e3,new Error("Сannot load context: timeout Error")).catch(e=>{throw o=!0,e});i=Promise.race([c,l])}return i},s=()=>{const e=document.createElement("script");e.innerHTML="\n        window.home = window.home || {};\n        window.home.export = window.home.export || {};\n    ",document.head&&document.head.appendChild(e)},c=async({config:e,options:t,onError:n,loadJs:i})=>{const o=r("155"),s=await a({pCodeLoaderBundleUrl:t.pCodeLoaderBundleUrl,loadJs:i,pcodever:t.pcodever,isLiteRtb:t.isLiteRtb,pcodeSsrVer:t.pcodeSsrVer});o.onLoadStart(),o.sendTTI(),s.render(Object.assign({},e,{onRender:t=>{o.onRenderEnd(["direct"===t.product?"155":"3431"]),e.onRender&&e.onRender(t)}}),n)}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(5),a=n(8),s=n(2),c=n(14),l=n(19),u=n(61),d=n(24),p=n(294),b=(n(431),n(42)),m=n(22),h=n(607),f=n(35),v=n(601),g=n(314),y=n(92);n(10);var O=n(265);let _=0;const k=({isFeedHidden:e=!1,blockId:t,partnerStatId:n,skipToken:i,data:o,domElemId:a,loadJs:s,adErrorFilterRatio:c,onRender:l,onError:u,onClick:d,bidFloor:p,adId:b,cspNonce:m,partnerId:h,shouldSendPartnerId:f,shouldAdInjectHomeVar:v,pCodeVersion:k,pCodeLoaderBundleUrl:E,pCodeSsrConfig:C})=>{const j=Object(y.a)(({target:e})=>{e instanceof SVGElement||e&&"отменить"===e.textContent.toLocaleLowerCase()||d()},250),w=Object(r.useMemo)(()=>{if(b||void 0!==p||f)return(e=>{const t={};for(const[n,r]of Object.entries(e))null!=r&&(t[n]=r);return t})({"mobile-ifa":b,"bid-floor":p,reqId:f?h:void 0})},[b,p,h,f]),S=Object(r.useMemo)(()=>o&&i?{data:o,skipToken:i,isDataRefreshed:!0}:{},[o,i]),T=Object(r.useCallback)(Object(O.a)(()=>{const e=JSON.stringify({blockId:t,partnerStatId:n,domElemId:a});Object(g.b)({config:Object.assign({blockId:t,statId:n,pageNumber:_++,renderTo:a,grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0,cspNonce:m,data:o,useSsr:C.useSsr,onRender:l,extParams:w},{},S),options:{isLiteRtb:v,pcodever:k,pCodeLoaderBundleUrl:E,pcodeSsrVer:C.pcodeSsrVer},onError:()=>{Math.random()<c&&console.error(`No ad: ${e}`),u()},loadJs:s}).catch(t=>{console.error(`${t}: ${e}`),u()})}),[]);Object(r.useEffect)(()=>{e||T()},[e,T]);return{onClick:j,blockIdAttr:void 0}},E=365,C=429,j=Object(r.memo)(({payload:e,log:t,bidFloor:n,onError:o,onRender:a,l10n:s,cspNonce:c,adId:l,partnerId:u,withShadows:d,shouldBlackout:p,isMobile:g,isSharpCorners:y,shouldAdInjectHomeVar:O,pCodeVersion:_,pCodeLoaderBundleUrl:j,isCustomMediaAdRounding:w,shouldSendPartnerId:S,loadJs:T,adErrorFilterRatio:x,pcodeSsrConfig:A,isFeedHidden:I=!1})=>{const P=e,{domElemId:N,bulkParams:R,statEvents:L,data:M,skipToken:B}=P,[D,F]=Object(r.useState)(!1),V=Object(r.useMemo)(()=>({statEvents:L,bulkParams:R}),[R,L]),U=Object(r.useRef)(!1),z=Object(r.useRef)(!1),H=Object(r.useCallback)(()=>{U.current&&!z.current&&(z.current=!0,t("show",V))},[t,V]),[$,W]=Object(f.a)();Object(b.a)(()=>W,e=>{U.current=Boolean(e),D&&H()});const q=Object(r.useCallback)(e=>{t("load",V),a(),"direct"===(null==e?void 0:e.product)&&F(!0),H()},[H,t,V,a]),G=Object(r.useCallback)(()=>{t("click",V)},[t,V]),{onClick:K,blockIdAttr:Y}=k({isFeedHidden:I,blockId:P.blockId,data:P.data,skipToken:P.skipToken,partnerStatId:P.partnerStatId,domElemId:P.domElemId,bidFloor:n,adId:l,pCodeLoaderBundleUrl:j,partnerId:u,pCodeSsrConfig:A,pCodeVersion:_,shouldAdInjectHomeVar:O,shouldSendPartnerId:S,cspNonce:c,loadJs:T,adErrorFilterRatio:x,onError:o,onRender:q,onClick:G});Object(m.a)(()=>{M&&B&&(M.rtb||M.direct)&&t("s2s",V)});const Z=`\n        zenad-card-rtb\n        ${w?"_zenad-is-rtb-fitted":""}\n        ${d?"_zenad-with-shadows":""}\n        ${g?"_zenad-is-mobile":"_zenad-is-desktop"}\n        ${y?"_zenad-square-corners":""}\n        ${D?"":"_zenad-need-stub"}\n    `,Q=i.a.createElement("div",{className:Z,ref:$},i.a.createElement("div",{className:"zenad-card-rtb__ad-box"},i.a.createElement(h.a,{text:s("desktop.ad_box")})),i.a.createElement("div",{className:"zenad-card-rtb__ad"},i.a.createElement("div",{"data-block-id":Y,id:N,onClickCapture:K})),D&&p?null:i.a.createElement("div",{className:"zenad-card-rtb__blackout"}));return g?i.a.createElement(v.a,{width:E,height:C,isAd:!0},Q):Q});var w=n(6),S=n(18),T=n(215),x=n(58);n.d(t,"a",function(){return A});const A=Object(r.memo)(({id:e,isFeedHidden:t})=>{const{payload:n,bidFloor:r,cspNonce:b,adId:m,partnerId:h,withShadows:f,pCodeVersion:v,isCustomMediaAdRounding:g,shouldAdInjectHomeVar:y,shouldBlackout:O,pCodeLoaderBundleUrl:_,adErrorFilterRatio:k,pcodeSsrConfig:E}=Object(o.g)(t=>{const n=Object(a.w)(t,e,s.e.RTB),{isLiteRtbEnabled:r,isRtbFitted:i,rezenPcode:{version:o},adErrorFilterRatio:l,pcodeSsrConfig:u}=Object(c.a)(t),{topPackId:d}=t.feed,{packId:p,topAd:b,ad:m}=n;return{payload:b&&d===p?b:m,bidFloor:n.bidFloor,packId:n.packId,cspNonce:t.params.cspNonce,adId:t.params.adId,partnerId:t.user.partnerId,withShadows:Object(a.l)(t),shouldAdInjectHomeVar:r,isCustomMediaAdRounding:i,pCodeVersion:o,pCodeLoaderBundleUrl:Object(T.a)(t),shouldBlackout:Object(S.m)(t)===w.e.Light,adErrorFilterRatio:l,pcodeSsrConfig:u}},o.e),C=Object(l.b)(),A=Object(u.a)(()=>Object(d.i)(e)),I=Object(u.a)(()=>Object(d.j)(e)),{l10n:P}=Object(p.a)();return i.a.createElement(j,{payload:n,log:C,bidFloor:r,onError:A,onRender:I,l10n:P,cspNonce:b,adId:m,partnerId:h,withShadows:f,shouldBlackout:O,isMobile:Boolean(!1),isSharpCorners:Boolean(!1),shouldAdInjectHomeVar:y,shouldSendPartnerId:Boolean(!1),pCodeVersion:v,pCodeLoaderBundleUrl:_,isCustomMediaAdRounding:g,loadJs:x.a,adErrorFilterRatio:k,pcodeSsrConfig:E,isFeedHidden:t})})},function(e,t,n){"use strict";var r=n(17),i=n(23),o=(n(10),n(378),n(0)),a=n.n(o),s=n(150),c=n(36);const l=e=>new Promise(t=>{setTimeout(t,e)});var u=n(33),d=n(16),p=n(182);n.d(t,"a",function(){return m});const b=Object(u.a)("button"),m=(e=>{class t extends o.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._containerRef=Object(o.createRef)(),this._composeContainerRefs=Object(p.a)(),this._listenerStorage=new s.a,this._isMounted=!1,t}_setState(e){return new Promise(t=>{this._isMounted&&this.setState(e,t)})}_setStateOnNextTick(e){return l(0).then(()=>this._setState(e))}_addHoverHandlers(){const e=this._containerRef.current;e&&(this._listenerStorage.add(e,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(e,"mouseleave",()=>{this.setState({isHovered:!1})}))}_addActiveHandlers(){const e=this._containerRef.current;if(!e)return;const[t,n]="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"];this._listenerStorage.add(e,t,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,n,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._isMounted=!0,"ontouchstart"in window||this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._isMounted=!1,this._listenerStorage.clear()}render(){const t=this.props,{containerRef:n,size:o,viewType:s,icon:l,iconClass:u,renderIcon:p,children:m,widthType:h}=t,f=Object(i.a)(t,["containerRef","size","viewType","icon","iconClass","renderIcon","children","widthType"]),{isHovered:v,isActive:g,isTransitionEnabled:y}=this.state,O=Boolean(l||p),_=l?{backgroundImage:`url(${l})`}:void 0,k=b({size:o,viewType:s,isHovered:v,isActive:g,isTransitionEnabled:y,hasIcon:O,widthType:h}),E=Object(c.a)(f,{className:k});return a.a.createElement(e,Object(r.a)({ref:this._composeContainerRefs(this._containerRef,n)},E),a.a.createElement("span",{className:b("content-wrapper")},O&&a.a.createElement("span",{className:Object(d.c)(b("icon",{size:o}),u),style:_},p&&p()),m))}}return t.defaultProps={widthType:"regular"},Object(o.forwardRef)((e,n)=>a.a.createElement(t,Object(r.a)({},e,{containerRef:n})))})("button")},function(e,t,n){"use strict";var r=n(17),i=(n(381),n(0)),o=n.n(i);var a=n(33);n.d(t,"a",function(){return c});const s=Object(a.a)("generic-svg"),c=({symbol:e,height:t,width:n,fill:c,className:l,useClassName:u,svgTop:d=0,svgRight:p=0,svgBottom:b=0,svgLeft:m=0})=>{const{svgSizeProps:h,svgWidth:f,svgHeight:v,id:g}=Object(i.useMemo)(()=>{const{id:r,viewBox:i}=e,[,,o,a]=i.split(/\s+/).map(e=>parseFloat(e));return{svgSizeProps:(({width:e,height:t,viewBox:n})=>{const[,,r,i]=n.split(/\s+/).map(e=>parseFloat(e)),o=r/i;return"number"==typeof e?"number"==typeof t?{width:e,height:t}:{width:e,height:e/o}:"number"==typeof t?{width:t*o,height:t}:{width:r,height:i}})({height:t,width:n,viewBox:`0 0 ${o+m+p} ${a+d+b}`}),svgWidth:o,svgHeight:a,id:r}},[e,t,n,m,p,d,b]);return o.a.createElement("svg",Object(r.a)({className:a.a.mix(s(),l)},h,{fill:c,viewBox:[0,0,f+m+p,v+d+b].join(" ")}),o.a.createElement("use",{x:m,y:d,width:f,height:v,className:a.a.mix(s("use"),u),xlinkHref:`#${g}`}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(0);const i=Object(r.createContext)(null),o=()=>Object(r.useContext)(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(15),i=n(95),o=n(122),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(15),i=n(32),o=n(162),a=n(69);function s(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.compare,this.keySelector))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=Object(o.a)(this.keySelector)(e))===a.a)return this.destination.error(a.a.e);var n=!1;if(this.hasKey){if((n=Object(o.a)(this.compare)(this.key,t))===a.a)return this.destination.error(a.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(i.a)},function(e,t,n){"use strict";n(427);var r=n(0),i=n.n(r),o=n(5),a=n(16),s=n(8),c=n(2),l=n(20),u=n(6),d=n(57),p=n(37),b=n(60),m=n(19);var h=n(70),f=n(71),v=n(35);const g="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;n.d(t,"a",function(){return O});const y=Object(a.a)("placeholder-card"),O=Object(r.memo)(({rowIndex:e,itemIndexInRow:t,size:n,id:a})=>{const O=Object(r.useMemo)(b.a,[]),{outputBus:_}=Object(l.c)(),{index:k,nextZenRowIndex:E,placeholderIndex:C,statObject:j,containerId:w}=Object(o.g)(t=>{const n=O(t,a),{additionalData:{rowsBelowPlaceholders:r,placeholdersGroupIndexes:i}}=Object(s.j)(t),o=Object(s.q)(t,a);return{index:o,nextZenRowIndex:r&&r[e],placeholderIndex:i&&i[e],statObject:n,containerId:`zen-placeholder-${o}`}},o.e),S=Object(r.useRef)(null),T=(e=>{switch(e){case c.d.BIG:return u.o.BIG;case c.d.SMALL:return u.o.SMALL;case c.d.FREE:return u.o.FREE;default:return console.error("Unsupported placeholder size: ",e),null}})(n),x=(e=>{const t=Object(m.b)();return Object(r.useCallback)(()=>t("partner_show",e),[t,e])})(j),A=(e=>{const t=Object(m.b)();return Object(r.useCallback)(()=>t("partner_click",e),[t,e])})(j),I=Object(h.a)(j),P=Object(f.a)(j),N=Object(r.useCallback)(n=>({index:k,rowIndex:e,itemIndexInRow:t,container:n,size:T,onShow:()=>x(),onClick:()=>A()}),[k,e,t,T,x,A,E,C]);g(()=>{const e=S.current;e&&_.emit("placeholder",N(e))},[]),Object(d.a)(()=>{_.emit("placeholderUnmount",{index:k})});const R=Object(r.useCallback)(()=>{const e=S.current;e&&e.hasChildNodes()&&I(),e&&_.emit("placeholderShow",N(e))},[N,_,I]),L=Object(r.useCallback)(()=>{const e=S.current;e&&e.hasChildNodes()&&P&&P()},[P]),[M,B]=Object(v.a)();Object(p.b)({isVisible$:B,onShow:R});const D=S.current,F=D&&D.hasChildNodes(),V={size:T,needBackground:!F};return i.a.createElement("div",{className:y(V),ref:M},i.a.createElement("div",{className:y("background")}),i.a.createElement("div",{className:y("container"),ref:S,onClick:L,id:w,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0}))},()=>!1)},function(e,t,n){"use strict";n(10),n(373);var r=n(0),i=n.n(r),o=n(16),a=n(182),s=n(186),c=n.n(s);const l=e=>new Promise(t=>{c.a.measure(()=>{t(e())})}),{hasOwnProperty:u}=Object.prototype,d=(e,t,n=[])=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(let i=0;i<r.length;i++)if(!(n&&n.includes(r[i])||u.call(t,r[i])&&Object.is(e[r[i]],t[r[i]])))return!1;return!0};var p=n(227);const b=(e,t)=>{const n=e[t-1];return"."===n||","===n||"…"===n?t-1:t};n.d(t,"a",function(){return g});const m=e=>"string"==typeof e?e:null,h=e=>{const t=m(e);return"string"==typeof t?t.length:0};class f extends Error{constructor(){super("Not applied 'clamp' call.")}}const v=Object(o.a)("clamp");class g extends r.Component{constructor(...e){var t;return t=super(...e),this.state={visibilitySplitIndex:h(this.props.children),lineCount:null,isEllipsisNeeded:!1},this._composeContainerRefs=Object(a.a)(),this._isMounted=!1,this._isPropsChanged=!1,this._containerElem=null,this._textElem=null,this._containerRef=(e=>{this._containerElem=e}),this._textRef=(e=>this._textElem=e),t}_setState(e){return new Promise(t=>{this.setState(e,t)})}_hide(){return this._setState({visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1})}async clamp(){try{await this.applyClamp()}catch(e){}}async applyClamp(){if(!this._isMounted)throw new f;this.props.shouldResetLineCount&&await this._setState({lineCount:null});const e=await this.getTextDescriptor();if(!e)throw new f;try{if(!e.lastVisibleToken)return await this._hide();const{minLineCount:t}=this.props,n=e.lines.length,r=!e.isTextFits,i=e.lastVisibleToken.valueEndIndex;return n<t&&r?await this._hide():await this._setState({visibilitySplitIndex:i,lineCount:n,isEllipsisNeeded:r})}catch(e){throw new f}}getTextDescriptor(){const{linesLimit:e}=this.props;return l(()=>this._isMounted&&this._containerElem&&this._textElem?Object(p.a)({containerElem:this._containerElem,textElem:this._textElem,linesLimit:e}):null)}componentDidMount(){this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this.clamp()):this.clamp())}componentWillReceiveProps(e){m(this.props.children)!==m(e.children)&&this.setState(t=>0===t.visibilitySplitIndex?{visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1}:{visibilitySplitIndex:h(e.children),lineCount:null,isEllipsisNeeded:!1})}shouldComponentUpdate(e,t){const n=d(this.props,e,["children"]),r=d(this.state,t),i=d(this.props.children,e.children);return this._isPropsChanged=!n||!i,!n||!r||!i}componentDidUpdate(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()}componentWillUnmount(){this._isMounted=!1}render(){const{className:e,style:t,fitToSpace:n,domRef:r,children:o,component:a="span"}=this.props,{visibilitySplitIndex:s,lineCount:c,isEllipsisNeeded:l}=this.state,u=m(o);if("string"!=typeof u)return"undefined"!=typeof window&&console.error(new Error(`Clamp children must be a string, passed '${null===o?"null":typeof o}'`)),null;const d={"line-count":null===c?void 0:String(c)},p=e?`${v(d)} ${e}`:v(d),h=l?b(u,s):s,f=u.slice(0,h),g=u.slice(h);return i.a.createElement("div",{className:p,style:t,ref:this._composeContainerRefs(this._containerRef,r)},i.a.createElement("div",{className:v("wrapper")},i.a.createElement("div",{className:v("text"),ref:this._textRef},i.a.createElement(a,{className:v("visible-tokens",{ellipsis:l})},f),i.a.createElement("span",{className:v("invisible-tokens")},g),i.a.createElement("div",{className:v("spacer")}))),n?null:i.a.createElement("div",{className:v("text-expand")},o))}}g.defaultProps={minLineCount:1,withAutoClamp:!0,shouldResetLineCount:!0,linesLimit:0}},,function(e,t,n){var r=n(244);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},,,,,,,,,,,,,,,,,,function(e,t,n){n(343),n(506),e.exports=n(505)},function(e,t,n){"use strict";n.r(t);n(344)},function(e,t){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}))},function(e,t,n){var r=n(346),i=n(243)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(188),i=n(125),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(275)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){e.exports=!n(248)&&!n(191)(function(){return 7!=Object.defineProperty(n(349)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(244),i=n(125).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(244);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(354);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(356)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,b=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case b:case l:return e;default:return t}}case f:case h:case o:return t}}}function g(e){return v(e)===p}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=b,t.Fragment=a,t.Lazy=f,t.Memo=h,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===b)},t.isAsyncMode=function(e){return g(e)||v(e)===d},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===b},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===f},t.isMemo=function(e){return v(e)===h},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===m}},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,b=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case b:case v:case f:case l:return e;default:return t}}case o:return t}}}function k(e){return _(e)===p}t.typeOf=_,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=b,t.Fragment=a,t.Lazy=v,t.Memo=f,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===m||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===f||e.$$typeof===l||e.$$typeof===u||e.$$typeof===b||e.$$typeof===g||e.$$typeof===y||e.$$typeof===O)},t.isAsyncMode=function(e){return k(e)||_(e)===d},t.isConcurrentMode=k,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===b},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===f},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===c},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===m}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";e.exports=n(360)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(0)),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r.Children.only(this.props.children)},t}(r.Component);t.AppContainer=a,t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){}},function(e,t,n){var r=n(261);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(249);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(191);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n(375)("asyncIterator")},function(e,t,n){var r=n(125),i=n(188),o=n(275),a=n(376),s=n(279).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(243)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(0)),o=l(n(168)),a=l(n(390)),s=l(n(394)),c=n(284);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=u(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(i.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r=n(387),i=n(388),o=n(389);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,a,s,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(391)),o=c(n(0)),a=c(n(168)),s=(c(n(392)),n(393));function c(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var l=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};s===r&&a&&(c=(0,i.default)(r.ref,c)),t.push(o.default.cloneElement(s,{key:n,ref:c}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},t}(o.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var c in t){if(r.hasOwnProperty(c))for(a=0;a<r[c].length;a++){var l=r[c][a];s[r[c][a]]=n(l)}s[c]=n(c)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(0)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(395)),o=p(n(397)),a=p(n(398)),s=n(399),c=p(n(0)),l=p(n(168)),u=n(89),d=n(284);function p(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];s.transitionEnd&&m.push(s.transitionEnd),s.animationEnd&&m.push(s.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=b(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||a+"-active",l=null,d=void 0;(0,i.default)(r,a),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,o.default)(r,a),(0,o.default)(r,c),d&&d(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):s.transitionEnd&&(d=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,i.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);h.displayName="CSSTransitionGroupChild",h.propTypes={},t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(396));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(283));var i,o="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&["","webkit","moz","o","ms"].some(function(e){var t=s(e,"request");if(t in window)return o=s(e,"cancel"),a=function(e){return window[t](e)}});var c=(new Date).getTime();(i=function(e){return a(e)}).cancel=function(e){window[o]&&"function"==typeof window[o]&&window[o](e)},t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",i=void 0,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0,p=void 0,b=void 0,m=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(283)).default){var h=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!i&&"animationName"in e&&(i="animationend");return e=null,{animationEnd:i,transitionEnd:r,prefix:o}}();i=h.prefix,t.transitionEnd=o=h.transitionEnd,t.animationEnd=a=h.animationEnd,t.transform=r=i+"-"+r,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=c=i+"-transition-duration",t.transitionDelay=u=i+"-transition-delay",t.transitionTiming=l=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=p=i+"-animation-duration",t.animationTiming=b=i+"-animation-delay",t.animationDelay=m=i+"-animation-timing-function"}t.transform=r,t.transitionProperty=s,t.transitionTiming=l,t.transitionDelay=u,t.transitionDuration=c,t.transitionEnd=o,t.animationName=d,t.animationDuration=p,t.animationTiming=b,t.animationDelay=m,t.animationEnd=a,t.default={transform:r,end:o,property:s,timing:l,delay:u,duration:c}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(267),i=n(483),o=n(486);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var r=n(484),i=n(485),o=n(249);e.exports=function(e,t,n,a){var s=String(o(e)),c=s.length,l=void 0===n?" ":String(n),u=r(t);if(u<=c||""==l)return s;var d=u-c,p=i.call(l,Math.ceil(d/l.length));return p.length>d&&(p=p.slice(0,d)),a?p+s:s+p}},function(e,t,n){var r=n(287),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(287),i=n(249);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){var r=n(125).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(95),i=n(15),o=n(158),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(o.a),s=n(157),c=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t}(s.a))(a),l=n(154),u=n(32),d=n(146),p=n(206),b=n(26);function m(e){var t=e.error;e.subscriber.error(t)}var h=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return function(e,t){return t?new b.a(function(n){return t.schedule(m,0,{error:e,subscriber:n})}):new b.a(function(t){return t.error(e)})}(this.error);case"C":return Object(d.a)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function f(e,t){return void 0===t&&(t=0),function(n){return n.lift(new v(e,t))}}var v=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new g(e,this.scheduler,this.delay))},e}(),g=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return i.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new y(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(h.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(h.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(h.createComplete()),this.unsubscribe()},t}(u.a),y=function(){return function(e,t){this.notification=e,this.destination=t}}(),O=n(120),_=n(299),k=1,E={};var C=function(e){var t=k++;return E[t]=e,Promise.resolve().then(function(){return function(e){var t=E[e];t&&t()}(t)}),t},j=function(e){delete E[e]},w=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=C(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(j(n),t.scheduled=void 0)},t}(o.a),S=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(s.a))(w),T=n(180),x=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=S);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(T.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=S),i}return i.a(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=S),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(b.a);var A=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new x(t,this.delay,this.scheduler).subscribe(e)},e}(),I=n(507),P=function(e,t){return e===t||"function"==typeof t&&e===t.toString()},N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b["a"]),N(t,null,[{key:"of",value:function(){return new this(p.a.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(Object(l.a)(e,t))}}]),N(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(Object(I.a)(function(e){var n=e.type,r=t.length;if(1===r)return P(n,t[0]);for(var i=0;i<r;i++)if(P(n,t[i]))return!0;return!1}))}}.apply(void 0,arguments)(this)}}]),t}();var L=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(e){var t=i.__notifier.subscribe(e);return t&&!t.closed&&e.next(i.value),t}));return i.value=n,i.__notifier=new r.a,i.__subscription=e.subscribe(function(e){e!==i.value&&(i.value=e,i.__notifier.next(e))}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b["a"]),t}();function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=new r.a,n=void 0,i=function(i){n=i;var o=(new r.a).pipe(f(c)),a=(new r.a).pipe(f(c)),s=new R(o),u=new L(a,n.getState());return t.pipe(Object(O.a)(function(t){var n="dependencies"in e?t(s,u,e.dependencies):t(s,u);if(!n)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n}),Object(_.a)(function(e){return Object(l.a)(e).pipe(function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new A(e,t))}}(c),f(c))})).subscribe(n.dispatch),function(e){return function(t){var r=e(t);return a.next(n.getState()),o.next(t),r}}};return i.run=function(e){t.next(e)},i}class B{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const n=this._events[e];if(!n)return;const r=n.indexOf(t);r>=0&&n.splice(r,1)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e,...t){const n=this._events[e];n&&n.slice().forEach(e=>{e.apply(void 0,t)})}}const D=()=>new B,F=()=>new B,V=()=>new B;var U=n(7),z=n(121),H=n(0),$=n.n(H),W=n(5),q=n(20),G=n(297);const K=Object(H.createContext)(void 0),Y=({App:e,history:t,translations:n,zenContext:r,store:i,nativeZenApiMethods:o={},fontMetrics:a})=>(({element:e,store:t,translations:n,history:r,zenContext:i,fontMetrics:o})=>$.a.createElement(q.a.Provider,{value:Object(q.b)(i)},$.a.createElement(K.Provider,{value:o},$.a.createElement(G.a.Provider,{value:n},$.a.createElement(W.a,{store:t},((e,t)=>t)(0,e))))))({element:$.a.createElement(e,{nativeZenApiMethods:o}),store:i,translations:n,history:t,zenContext:r,fontMetrics:a});n(10);var Z=n(53);const Q=(e,t)=>{const n={};if(e.countryCode&&(n.countryCode=e.countryCode),e.theme){const r=t.getState(),{zenFeatures:i}=r.params;n.zenFeatures=Object.assign({},i,{color_theme:e.theme})}Object.keys(n).length>0&&t.dispatch(Object(Z.d)(n)),e.userInfo&&t.dispatch(Object(Z.g)(e.userInfo))};var X=n(89),J=n.n(X);n(359);const ee=({app:e,container:t,outputBus:n,ssr:r=!1})=>{const i=()=>{n&&n.emit("firstPaint")},o=e;r?J.a.hydrate(o,t,i):J.a.render(o,t,i)};var te=n(9);const ne=Object(te.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.contentLangs,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,e=>e.params.referrerClid,e=>e.params.referrerPlace,(e,t,n,r,i,o,a,s,c,l)=>({host:e,clid:t,countryCode:n,contentLangs:r,zenFeatures:i,clientExperiments:o,links:a,userInfo:s,referrerClid:c,referrerPlace:l})),re=(e,t)=>{let n;const r=()=>{const r=t.getState(),i=ne(r);void 0!==n&&n===i||(n=i,e.configure(e=>Object.assign({},e,i)))};return r(),t.subscribe(r)};var ie=n(3);let oe;!function(e){e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.Blocked="blocked",e.Unblocked="unblocked"}(oe||(oe={}));const ae={[ie.xb]:oe.Blocked,[ie.Bb]:oe.Unblocked,[ie.Ab]:oe.Subscribed,[ie.Cb]:oe.Unsubscribed},se=e=>()=>t=>n=>{const{type:r,payload:i}=n,{outputBus:o}=e,a=ae[r];if(a&&i&&o){const{id:e}=i;o.emit("sourceChange",{id:e,type:a})}return t(n)};var ce=n(102);function le(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var ue=le();ue.withExtraArgument=le;var de=ue;var pe=n(90);const be=e=>e=>t=>n=>{const r=e.getState(),i=Object(pe.a)(r);return t(Object.assign({},n,{__data__:{selfUserId:i}}))},me=e=>[be(),se(e)],he=(e,t,n="page")=>{return(e=>(...t)=>n=>(...r)=>{let i=[],o=i,a=0;return Object(ce.a)(()=>e=>t=>{const n="function"==typeof t;let r;n&&a++;try{r=e(t)}finally{n&&a--}if(0===a){const e=i=o;for(let t=0;t<e.length;t++)e[t]()}return r},de.withExtraArgument(e),...t)((e=>(...t)=>{const n=e(...t),r=()=>{o===i&&(o=i.slice())};return Object.assign({},n,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return r(),o.push(e),function(){if(!t)return;t=!1,r();const n=o.indexOf(e);o.splice(n,1)}}})})(n))(...r)})(t)(...e)};var fe=n(2);const ve=(e,t=10)=>{if(!e||!e.items)return[];const n=[];for(let r=0;r<e.items.length&&n.length<t;r++){const t=e.items[r];t.type!==fe.e.IMAGE&&t.type!==fe.e.TEXT||n.push(t.cardBackgroundWhiteImage)}return n};var ge=n(44),ye=n(73);const Oe=({source_id:e,image:t,background_color:n,text_color:r,name:i,name_background_color:o})=>({id:e,image:t,name:i,textColor:r,textBackgroundColor:o,imageBackgroundColor:n}),_e=e=>{if(!e||!e.length)return;const[t,n,r]=e;return{url:t,width:Number(n),height:Number(r)}};var ke=n(28);const Ee=e=>Object.keys(e).reduce((t,n)=>{const{text:r,text_color:i,background_color:o}=e[n];return t[n]={text:r,textColor:i,backgroundColor:o},t},{}),Ce=e=>({id:e.source.strongest_id,type:e.type,source:Object(ke.c)(e),description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,feedbackButtons:Ee(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1});var je=n(103);var we=n(126);const Se=({json:e,length:t})=>({json:e,length:t});var Te=n(203);const xe=({link:e,preview:t,width:n,height:r})=>({link:e,preview:t,width:n,height:r}),Ae=({background:e,background_color:t,text_color:n,link_color:r})=>({background:xe(e),backgroundColor:t,textColor:n,linkColor:r});var Ie=n(68);const Pe=e=>({id:e.source.strongest_id,type:e.type,source:Object(ke.a)(e.source),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),Ne=e=>{if(!e.items||!e.items.length)return;const t=e.items.map(Pe);return t.filter(e=>"subscribed"!==e.source.status).length<5?void 0:{id:e.id,type:fe.e.PERSONAL_CAROUSEL,size:e.size,title:e.title,subtitle:e.subtitle,background:e.background,showMoreLink:e.show_more_link,items:t,statEvents:e.stat_events,bulkParams:e.bulk_params,disableItemsClickable:Boolean(e.disable_items_clickable),hidden:!1}};var Re=n(144);const Le=e=>Object.assign({image:e.image,link:e.link,cardColors:{button:e.card_colors.button,buttonText:e.card_colors.button_text,card:e.card_colors.card,text:e.card_colors.text}},Object(je.c)(e),{hidden:!1});var Me=n(204);const Be=e=>{let t=0;const n=()=>`${t++}`,r=e=>e.reduce((e,t)=>("text"===t.type&&""!==t.data&&e.push({type:"text",data:t.data,key:n()}),e),[]),i=e.reduce((e,t)=>("tag"===t.type&&"br"===t.name&&(e.res.push({type:"p",children:e.currentP,key:n()}),e.res.push({type:"space",children:[],key:n()}),e.currentP=[]),"tag"===t.type&&"a"===t.name&&"tag-with-star"===t.attribs.type?(e.currentP.push({type:"star-tag",href:t.attribs.href,tagId:t.attribs.tag_id,children:r(t.children),key:n()}),e):("tag"===t.type&&"a"===t.name&&e.currentP.push({type:"link",href:t.attribs.href,children:r(t.children),key:n()}),e.currentP.push(...r([t])),e)),{res:[],currentP:[]});return i.currentP.length&&i.res.push({type:"p",children:i.currentP,key:n()}),i.res},De=e=>({width:e.width,height:e.height,link:e.link,preview:e.preview,blurredLink:e.blurred_link}),Fe=e=>{switch(e.type){case"image":return Ue(e);case"ad":return(e=>{const t=e.items;if(!Array.isArray(t)||"direct"!==t[0].provider)return console.error("Gallery: not correct ad format."),null;const n=t[0];return{type:"ad",data:{type:"direct",blockId:n.data&&n.data.block_id,statId:n.data&&n.data.stat_id,domElemId:Object(ye.a)()}}})(e);default:return null}},Ve=e=>Array.isArray(e)?e.reduce((e,t)=>{const n=Fe(t);return null!==n&&e.push(n),e},[]):(console.error("Gallery: empty items field."),[]),Ue=e=>({image:De(e.image),galleryText:e.rich_text&&Be(Se(e.rich_text).json),bulkParams:e.bulk_params,statEvents:e.stat_events,mainColor:e.main_color,hasBadImage:e.has_bad_image,hasBadText:e.has_bad_text,type:"image"});var ze=n(52);const He={"card-placeholder":e=>({id:e.item_id.toString(),type:fe.e.CARD_PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}),comment:e=>Object.assign({type:fe.e.COMMENT,comment:e.comment,author:e.author},Object(je.c)(e)),ad:e=>{if(e&&e.items&&e.items[0]&&("direct"!==e.items[0].provider||!e.items[0].content))return void console.error(`Ad parsing error: ${JSON.stringify(e)}`);const t=e.items[0],{content:n}=t,r=t.stat_events,i=t.bulk_params;return{id:Object(ye.b)(fe.e.DIRECT),type:fe.e.DIRECT,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||"",text:n.body,age:n.age,warning:n.warning,imageData:_e(n.image),statEvents:r,bulkParams:i}},card:e=>e.image?Object.assign({},Object(je.a)(e),{type:fe.e.IMAGE,hasImage:!0,rawItem:e}):Object.assign({},Object(je.a)(e),{type:fe.e.TEXT,hasImage:!1,rawItem:e}),featuring_promo:e=>({id:e.id,type:fe.e.FEATURING_PROMO,source:Object(ke.c)(e),header:e.header,description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,menu:e.menu,feedbackButtons:Ee(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}),gif:Ie.b,hint_eula:e=>e.hint_type&&"eula"!==e.hint_type?(e=>({id:e.id,type:fe.e.HINT_PERSONAL}))(e):(e=>({id:e.id,type:fe.e.HINT_EULA,link:e.link,linkText:e.link_text,additionalLink:e.additional_link,additionalLinkText:e.additional_link_text,html:e.html,text:e.text,bulkParams:e.bulk_params,statEvents:e.stat_events}))(e),feedback_suggest:e=>({id:Object(ye.b)(fe.e.FEEDBACK_SUGGEST),type:fe.e.FEEDBACK_SUGGEST,rawItem:e}),learn_block_interests:e=>({id:Object(ye.b)(fe.e.LEARN_BLOCK_INTERESTS),type:fe.e.LEARN_BLOCK_INTERESTS,rawItem:e}),"iceboarding-grid":e=>{const t={id:Object(ye.b)(fe.e.ICEBOARDING_GRID),type:e.type,sources:e.sources.map(Oe),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t},gallery:e=>({type:fe.e.GALLERY,id:e.id,items:Ve(e.items),similarLink:e.similar&&e.similar.link,galleryText:e.rich_text&&Be(Se(e.rich_text).json),bulkParams:e.bulk_params,statEvents:e.stat_events,pixels:e.pixels,link:e.link,source:Object(ke.a)(e.source),customUserFeedbackData:Object(Me.a)(e.custom_user_feedback_data),feedback:e.feedback_status,domainTitle:e.source.title,hasBadText:e.has_bad_text,ad:Object(we.a)(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,receiveTime:Date.now()}),placeholder:e=>({id:e.item_id.toString(),type:fe.e.PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}),post:e=>{const t={type:fe.e.POST,id:e.id,style:Ae(e.style),link:e.link,urlHash:e.url_hash,similarLink:e.similar_link,source:Object(ke.a)(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:Object(we.a)(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges,requireUserData:e.require_user_data,read:e.was_read,feedback:e.feedback_status,domainTitle:e.source.title,receiveTime:Date.now(),reactions:e.reactions?Object(Te.a)(e.reactions):void 0};return e.rich_text&&(t.richText=Se(e.rich_text)),e.image&&(t.image=xe(e.image)),t},similar_interests:e=>{const{id:t,type:n,title:r,items:i,social_privacy:o}=e;return{id:t,type:n,title:r,socialPrivacy:o,items:i.map(e=>Object(ke.b)({stat_events:e.stat_events,bulk_params:e.stat_events,source:e,stat_params:e.stat_params}))}},auth:e=>({id:String(e.id),type:fe.e.AUTH,title:e.title,text:e.text,authLink:e.auth_link,bulkParams:e.bulk_params,statEvents:e.stat_events}),carousel_card:e=>({id:e.id,type:fe.e.FEATURING_CAROUSEL,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,menu:e.menu,items:e.items.map(Ce),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),personal_carousel:Ne,content_personal_carousel:e=>({id:e.id,type:fe.e.CONTENT_CAROUSEL,carouselType:e.carousel_type,title:e.title,titleTemplate:e.title_template,subtitle:e.subtitle,source:e.source?Object.assign({},Object(ke.a)(e.source),Object(Re.a)(e.source)):void 0,items:e.items.map(Le),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),delimiter:e=>({id:e.id,type:fe.e.DELIMITER,text:e.text}),card_filler:e=>({id:e.id,type:fe.e.CARD_FILLER}),"profile-activity-onboarding":e=>({type:fe.e.PROFILE_ACTIVITY_ONBOARDING,mode:e.mode,id:e.id}),social_profile_status:e=>({id:String(e.id),type:fe.e.SOCIAL_PROFILE_STATUS}),social_profile_text:e=>({id:String(e.id),type:fe.e.SOCIAL_PROFILE_TEXT,kind:e.kind})},$e=e=>{const t=Object(ze.f)(He,e.type);return t?t(e):(console.warn(`Unsupported doc type: ${e.type}`),null)};function We(e){const t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time),t}var qe=n(6),Ge=n(143),Ke=n(63);const Ye=e=>e.map(e=>Object.assign({},Object(ke.c)({source:e}),{isFromServer:!0})),Ze=e=>{if(!e)return null;switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Ye(t)}}case"error":return e;default:return{status:"error"}}},Qe=e=>{if(!e)return null;switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Ye(t).filter(e=>"domain"===e.type||"publisher"===e.type)}}case"error":return e;default:return{status:"error"}}};var Xe=n(1);const Je=Object(Xe.m)(Xe.n),et=Object(Xe.j)({id:Xe.n,type:Object(Xe.g)("message"),title:Xe.n,autoCloseTimeout:Object(Xe.h)(Xe.i),statEvents:Je,bulkParams:Xe.n}),tt=Object(Xe.j)({id:Xe.n,title:Xe.n,imageSrc:Xe.n,nextScreenId:Object(Xe.h)(Xe.n)}),nt=Object(Xe.j)({id:Xe.n,type:Object(Xe.g)("single_choice_image"),title:Xe.n,subtitle:Object(Xe.h)(Xe.n),direction:Object(Xe.o)("row","column"),answers:Object(Xe.b)(tt),statEvents:Je,bulkParams:Xe.n}),rt=Object(Xe.j)({id:Xe.n,title:Xe.n}),it=Object(Xe.j)({text:Xe.n,nextScreenId:Object(Xe.h)(Xe.n)}),ot=Object(Xe.j)({id:Xe.n,type:Object(Xe.g)("multi_choice_text"),title:Xe.n,subtitle:Object(Xe.h)(Xe.n),answers:Object(Xe.b)(rt),minAnswersError:Xe.n,minAnswersCount:Xe.i,submitButton:it,alternativeButton:Object(Xe.h)(it),statEvents:Je,bulkParams:Xe.n}),at=Object(Xe.d)("type",{message:et,single_choice_image:nt,multi_choice_text:ot}),st=Object(Xe.j)({showOnPosition:Xe.i,screenMap:Object(Xe.m)(at),initialScreenId:Xe.n}),ct=Object(Xe.j)({id:Xe.n,title:Xe.n,text:Xe.n,buttonText:Xe.n,alternativeButtonText:Xe.n,gifSource:Xe.n}),lt=Object(Xe.j)({reasons:Object(Xe.b)(Object(Xe.j)({id:Xe.n,text:Xe.n})),link:Object(Xe.h)(Xe.n)}),ut=e=>{if(e)return Object(Xe.k)(lt,e),Object.assign({},e,{link:e.link||"https://yandex.ru/support/abuse/troubleshooting/zen/list.html"})},dt=(e,t)=>{var n;const r=((e,t,n)=>{if(!e)return null;const r=e.reduce((e,r)=>{if(r){const i=$e(r);i&&e.push(Object.assign({},i,{packId:t,cacheId:n}))}return e},[]);return r.length>0?r:null})(e.items,e.rid,t),i=(e=>e?Object.assign({sources:Object(ke.d)(e)},(Object(Ge.a)(e.stat_params)||{}).interests_onboarding):null)(e.interests_onboarding),o=(e=>e&&Ne(e)||null)(e.pinned_carousel),a=(e=>{if(!e)return{status:qe.d.Feed};switch(e.status){case qe.d.Banned:case qe.d.NotFound:return{status:e.status};case qe.d.Ok:{const{social_profile_status:t,social_csrf_token:n}=e;return{status:qe.d.Ok,socialProfileStatus:t,socialCsrfToken:n,source:Object(ke.c)(e)}}default:return console.error("Broken channel from backend"),{status:qe.d.Feed}}})(e.channel);return{id:e.rid,cacheId:t,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,adSecdata:e.ad_secdata,channel:a,items:r,onboardingInterests:i,pinnedCarousel:o,isIceStart:e.ice_start,feedbackCacheClean:Boolean(e.feedback_cache_clean),experimentsData:e.experiments_data||null,groupIds:e.group_ids||"",clientDefinition:e.client_definition||null,user:We(e.user),currentUserInterests:Ze(e.current_user_interests),currentUserSubscriptions:Qe(e.current_user_subscriptions),screens:e.screens,banner:e.banner,complaints:ut(e.complaints),bulk:e.bulk,more:{link:null===(n=e.more)||void 0===n?void 0:n.link},onboarding:e.onboarding?{link:e.onboarding.link}:void 0,interview:e.interview?Object(Xe.k)(st,e.interview):void 0,newSearchPopup:e.new_search_popup?Object(Xe.k)(ct,e.new_search_popup):void 0}},pt=(e,t="")=>Object.assign({},e,dt(e,t)),bt=({email:e,name:t,avatar:n})=>({email:e,name:t,avatar:n}),mt=({count:e,external_url:t})=>({count:e,externalUrl:t}),ht=({country:e,external_url:t})=>({country:e,externalUrl:t}),ft=({external_url:e})=>({externalUrl:e}),vt=({stat_events:e,bulk_params:t,disabled:n})=>({statEvents:e,bulkParams:t,disabled:n}),gt={"user-info":e=>({userInfo:bt(e)}),"no-user":e=>({noUser:ft(e)}),"blocked-count":e=>({blockedCount:mt(e)}),video:e=>({video:vt(e)}),autoplay:()=>({autoplay:{}}),language:e=>({language:ht(e)}),feedback:e=>({feedback:ft(e)}),eula:e=>({eula:ft(e)}),logout:e=>({logout:ft(e)})},yt=e=>{const t=e.items.reduce((e,t)=>Object.assign({},e,gt[t.type](t)),{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t},Ot=({link:e,title:t,image:n,name:r,stat_events:i,bulk_params:o})=>({link:e,title:t,image:n,name:r,statEvents:i,bulkParams:o}),_t=e=>({sources:Object(ke.d)(e),category:e.category&&Ot(e.category)}),kt=e=>{const t=e.items.filter(({type:e})=>"carousel"===e).map(({sources:e})=>e);let n=[];0!==t.length&&(n=[].concat(...t).map(ke.b));const r=e.items.filter(({type:e})=>"list_item"===e).map(Ot);return{sources:n,list:Object(ze.a)(r,e=>e.name)}},Et=({country_id:e,language_ids:t,countries:n,languages:r})=>({countryId:e,languageIds:t.reduce((e,t)=>(e[t]=!0,e),{}),countries:n.map(({code:e,langs:t,name:n})=>({code:e,langs:t,name:n})),languages:r}),Ct=({items:e=[]})=>e.reduce((e,t)=>{if(t.type===fe.e.GIF){const n=Object(Ie.b)(t);n&&e.push(n)}return e},[]),jt=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n],id:void 0,text:void 0,authorName:void 0,authorAvatar:void 0}}),t},wt=e=>{const t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]={count:r.count,id:r.id,text:r.text,authorName:r.authorName,authorAvatar:r.authorAvatar}}),t};var St=n(94);const Tt=e=>Object(St.a)(e)?{type:e.type,captcha:e.captcha}:{status:e.status,uid:e.uid,avatarUrl:e.avatarUrl,name:e.name,about:e.about,followerCount:e.followerCount,subscriptionCount:e.subscriptionCount,backgroundColor:e.backgroundColor,textColor:e.textColor,interests:e.interests.map(ke.a),privacy:e.privacy?{hideInterests:e.privacy.hideInterests,hideActivity:e.privacy.hideActivity,hideSubscriptions:e.privacy.hideSubscriptions}:{hideInterests:!0,hideActivity:!0,hideSubscriptions:!0},isSleeping:e.isSleeping,onboardingRequired:e.onboardingRequired,csrfToken:e.csrfToken,passportRetPathPlaceholder:e.passportRetPathPlaceholder,regionalDomainPlaceholder:e.regionalDomainPlaceholder,passportAvatarEditLink:e.passportAvatarEditLink,passportDisplayNameEditLink:e.passportDisplayNameEditLink,source:Object(ke.b)(e.source),isDeactivated:"deleted"===e.status,isNotExist:"not_exist"===e.status,messengerPrivacy:e.messengerPrivacy};var xt=n(25);const At=(e,t)=>{return Object(xt.c)(e),Object(xt.a)(Array.isArray(e.items)),e.items.reduce((e,n)=>{Object(xt.c)(n);const r=$e(Object.assign({},n,{id:Object(ye.b)("similar_mobile"),pos:t}));return r?[...e,r]:e},[]).filter(e=>e)};let It,Pt;!function(e){e.Default="default",e.Reload="reload",e.NoCache="no-cache",e.NoStore="no-store"}(It||(It={})),function(e){e.GetBeforeNetwork="GET_BEFORE_NETWORK",e.PutAfterNetwork="PUT_AFTER_NETWORK",e.GetAfterNetwork="GET_AFTER_NETWORK"}(Pt||(Pt={}));const Nt={[It.Default]:[Pt.GetBeforeNetwork,Pt.PutAfterNetwork,Pt.GetAfterNetwork],[It.Reload]:[Pt.PutAfterNetwork,Pt.GetAfterNetwork],[It.NoCache]:[Pt.PutAfterNetwork],[It.NoStore]:[]},Rt=e=>{const t=Nt[e];if(!t)throw new Error(`Cache mode '${e}' is not exist.`);return e=>t.includes(e)};n(167);const Lt="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let Mt=null;const Bt=(e,t)=>(Lt?(Mt||(Mt=new Promise((e,t)=>{const n=Lt.open("zen-db",1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore("zen-api-cache")}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{Mt=null})})})),Mt):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,i)=>{const o=n.transaction("zen-api-cache",e);o.oncomplete=(()=>{r()}),o.onerror=(()=>{i(o.error||new Error("IDB transaction error"))}),t(o.objectStore("zen-api-cache"))})),Dt={get(e){let t;return Bt("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>Bt("readwrite",n=>{n.put(t,e)}),delete:e=>Bt("readwrite",t=>{t.delete(e)}),clear:()=>Bt("readwrite",e=>{e.clear()}),keys(){const e=[];return Bt("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}};var Ft=n(27);const Vt={get:e=>Dt.get(e),put:(e,t)=>Dt.set(e,t),remove:e=>Dt.delete(e),isEnabled:()=>Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)),keys:()=>Dt.keys().then(e=>{const t=[];return e.forEach(e=>{Object(Ft.e)(e)&&t.push(e)}),t})},Ut=(()=>{const e={};return{get:t=>Promise.resolve(e[t]),put:(t,n)=>(e[t]=n,Promise.resolve()),remove:t=>(delete e[t],Promise.resolve()),isEnabled:()=>!0,keys:()=>Promise.resolve(Object.keys(e))}})(),zt=e=>`ZenApiCache: ${e}`;class Ht extends Error{constructor(e){super(zt(e))}}const $t=({type:e=U.c.SessionCache,namespace:t="common"})=>{const n=qt(e),r=e=>`${t}-${e}`;return{get(e){const t=r(e);return n.get(t).then(e=>{if(!Wt(e))throw new Ht("No cache record or scheme invalid");return e})},put(e,t){const i=r(e);return n.put(i,t)},remove(e){const t=r(e);return n.remove(t)},keys:()=>n.keys(),isEnabled:()=>n.isEnabled()}},Wt=e=>e&&e.type&&e.apiResponse&&e.params,qt=e=>{if(e===U.c.MultiSessionCache&&Vt.isEnabled())return Vt;if(Ut.isEnabled())return Ut;throw new Ht("Failed to get storage provider")},Gt=e=>e.keys().then(t=>t.length<25?[]:Kt(e,t)).then(t=>{const n=t.sort(({record:e},{record:t})=>t.apiResponse.received_at-e.apiResponse.received_at).splice(11).map(({key:t})=>e.remove(t));return Promise.all(n)}),Kt=(e,t)=>Promise.all(t.map(t=>e.get(t).then(e=>({record:e,key:t}))));var Yt=n(119);const Zt=({userInfo:e,zenFeatures:t,clientExperiments:n})=>{const r={};return e&&e.oauthToken&&(r.Authorization=`OAuth ${e.oauthToken}`),Object.keys(t||{}).length>0&&(r["Zen-Features"]=JSON.stringify(t)),r["Zen-Client-Experiments"]=["zen-version:2.568.0",...Array.isArray(n)&&n.length>0?n:[]].join(", "),r["X-ZenLib-Version"]="2.568.0",r};var Qt=n(55);const Xt=()=>"undefined"!=typeof window?(e=>{const t=Object(Qt.b)(e);return{experiment:t.experiment,excludeExperiments:t.excludeExperiments,telemetry:t.telemetry}})(window.location.href):{},Jt=({clid:e,referrerClid:t,referrerPlace:n,countryCode:r})=>{const i=Xt();return Object.assign({},i,{clid:e,country_code:r,referrer_clid:t,referrer_place:n})},en=e=>{const t={};return e.partnerId&&(t.partner_user_id=String(e.partnerId)),e.adId&&(t.user_ad_id=String(e.adId)),t},tn=e=>{const t={};return e&&e.length&&(t.content_langs=e.join(",")),t},nn={[U.a.Export]:"export",[U.a.Layout]:"layout",[U.a.Teasers]:"teasers",[U.a.PublisherConfig]:"publisher-config",[U.a.CurrentUserSubscriptions]:"current-user-subscriptions",[U.a.AdArticle]:"ad-article"},rn={[U.a.CurrentUserInterests]:"api/social/current-user-interests"};class on extends Error{}const an=(e,t,n)=>{const r=nn[e];if(r){const e=ln(t),n=(({clid:e,referrerClid:t,referrerPlace:n,countryCode:r,contentLangs:i=[],channelName:o,channelId:a,interestName:s,socialProfileId:c,feedFilterType:l,userInfo:u={},articleId:d})=>Object.assign({},Jt({clid:e,referrerClid:t,referrerPlace:n,countryCode:r}),en(u),tn(i),{channel_name:o,channel_id:a,interest_name:s,social_profile_id:c,feed_filter_type:l,article_id:d}))(e);return sn(e.host,r,n)}const i=rn[e];if(i){const e=ln(t),n=Jt(e);return cn(e.host,i,n)}const o=n&&n[e];if(!o)throw new on(`ZenApi ${e} url is not configured.`);return o},sn=(e,t,n)=>Object(Qt.a)(`${e}api/v3/launcher/${t}`,n),cn=(e,t,n)=>Object(Qt.a)(`${e}${t}`,n),ln=e=>{if(!e.clid)throw new on("ZenApi clid is not configured.");if(!e.host)throw new on("ZenApi host is not configured.");return{host:e.host,clid:e.clid,countryCode:e.countryCode||void 0,columnCount:e.columnCount,contentLangs:e.contentLangs,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,userInfo:e.userInfo,channelName:e.channelName,interestName:e.interestName,channelId:e.channelId,socialProfileId:e.socialProfileId,feedFilterType:e.feedFilterType,articleId:e.articleId}},un=(e,t,n)=>{const r=((e,t)=>{const{method:n,params:r,mode:i,headers:o}=e,a={params:r,headers:Object.assign({},t?Zt(t):{},o),mode:i,method:n};return e.body?Object.assign({},a,{body:e.body}):a})(t,n),{method:i,body:o}=r,a=dn(i,o);return pn(a)(e,r)},dn=(e,t)=>e?t&&"GET"===e?"POST":e:t?"POST":"GET",pn=e=>{switch(e){case"PUT":return Yt.c;case"POST":return Yt.b;case"GET":default:return Yt.a}};const bn=e=>{if(!e.clid)throw new Error("ZenApi clid is not configured.");const{clid:t,referrerClid:n,referrerPlace:r,countryCode:i,contentLangs:o,clientExperiments:a,zenFeatures:s,userInfo:c,feedFilter:l,isAdblockEnabled:u}=e;return{clid:t,referrerClid:n,referrerPlace:r,countryCode:i,contentLangs:o,clientExperiments:a,zenFeatures:s,feedFilter:l,isAdblockEnabled:u,userId:mn(c),version:"2.568.0"}},mn=e=>{const{oauthToken:t,login:n,deviceId:r,partnerId:i,profileId:o,yandexuid:a}=e;return t||n||(()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]})()||i||r||o||a||(()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]})()};var hn=n(255),fn=n.n(hn),vn=n(127);class gn extends Error{toString(){return`ZenApiValidationError: '${this.message}'; ${JSON.stringify({type:this.type,ttl:this.ttl,rid:this.rid,receivedAt:this.receivedAt})}`}constructor(e){super(null==e?void 0:e.message),(null==e?void 0:e.type)&&(this.type=e.type),(null==e?void 0:e.ttl)&&(this.ttl=e.ttl),(null==e?void 0:e.rid)&&(this.rid=e.rid),(null==e?void 0:e.receivedAt)&&(this.receivedAt=e.receivedAt)}}const yn=e=>{if(!(e&&e.type&&e.apiResponse&&e.params&&"2.568.0"===e.params.version))throw new Ht("Invalid cache record scheme.")},On=e=>{if(!e||!e.items)throw new Ht("Invalid api response to put in cache.")},_n=e=>Object(Ft.c)(e)||Object(Ft.e)(e),kn=(e,t)=>{const n=Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled),r=!_n(e.clid)||e.clid===t.clid,i=!_n(e.referrerClid)||e.referrerClid===t.referrerClid,o=!Object(Ft.e)(e.referrerPlace)||e.referrerPlace===t.referrerPlace,a=!Object(Ft.e)(e.countryCode)||e.countryCode===t.countryCode;return n&&r&&i&&o&&a&&fn()(e.feedFilter,t.feedFilter)},En=(e,t)=>e.userId&&t.userId&&e.userId===t.userId,Cn=(e,t,n)=>fn()(e.zenFeatures&&Object(vn.a)(e.zenFeatures,n),t.zenFeatures&&Object(vn.a)(t.zenFeatures,n)),jn=(e,t,n)=>{if(!Array.isArray(e.clientExperiments))return!0;const r=((e,t)=>{const n=[];e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments);const r=t.experimentsData;return r&&Object.keys(r).forEach(e=>{const t=r[e];Object(Ft.d)(t)&&t.exp&&n.push(e)}),n})(t,n);return e.clientExperiments.every(e=>r.includes(e))},wn=(e,t)=>Array.isArray(e.contentLangs)===Array.isArray(t.contentLangs)&&(!Array.isArray(e.contentLangs)||e.contentLangs.every(e=>t.contentLangs&&t.contentLangs.includes(e))),Sn=e=>{Tn(e),In(e)},Tn=e=>{if(!xn(e))throw new gn({message:"Validation error. No items in ApiResponse",ttl:e.ttl,type:e.errorType,rid:e.rid,receivedAt:e.receivedAt})},xn=e=>Array.isArray(e.items)&&e.items.length>0,An=e=>{var t,n;return Boolean(null===(t=e.more)||void 0===t?void 0:t.link)&&Boolean(null===(n=e.bulk)||void 0===n?void 0:n.link)},In=e=>{if(!An(e))throw new gn({message:"Validation error. No more/bulk links in ApiResponse",ttl:e.ttl,type:e.errorType,rid:e.rid,receivedAt:e.receivedAt})},Pn=()=>({getNotShownPack(){throw new Ht("Cache disabled.")},getLastShownPack(){throw new Ht("Cache disabled.")},getNotShownOrLastShownPack(){throw new Ht("Cache disabled.")},putNotShownPack:()=>Promise.resolve(),putLastShownPack:()=>Promise.resolve(),removeNotShownPack:()=>Promise.resolve(),removeLastShownPack:()=>Promise.resolve()}),Nn=({storage:e,cacheId:t,apiResponseValidator:n,validationParams:r})=>{const i=`not-shown-pack${t}`,o=`last-shown-pack${t}`,a=(e,{byStoreTtl:t,ignoredZenFeatures:i})=>{const o=pt(e.apiResponse);return((e,t)=>{const{receivedAt:n,ttl:r,storeTtl:i}=e,o=t?i:r;if(!(Object(Ft.c)(n)&&Object(Ft.c)(o)&&n+o>Date.now()))throw new Ht(`Invalid cache ${t?"store-ttl":"ttl"}.`)})(o,t),((e,t,n,r)=>{if(!e)throw new Ht("RequestCacheParams undefined");if(!t)throw new Ht("Cache params undefined");if(!En(e,t))throw new Ht("Invalid UserId");if(!kn(e,t))throw new Ht("Invalid AppParams");if(!Cn(e,t,r))throw new Ht("Invalid ZenFeatures");if(!jn(e,t,n))throw new Ht("Invalid ClientExperiments");if(!wn(e,t))throw new Ht("Invalid ContentLangs")})(r,e.params,o,i),On(o),n(o),o},s=(e,t,i)=>(On(i),n(i),{type:e,apiResponse:t,params:r});return{getNotShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(i).then(t=>new Promise((n,r)=>{try{yn(t),n(t)}catch(t){e.remove(i).then(()=>r(t),()=>r(t))}})).then(e=>{const r=a(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:r})}),getLastShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(o).then(t=>new Promise((n,r)=>{try{yn(t),n(t)}catch(t){e.remove(o).then(()=>r(t),()=>r(t))}})).then(e=>{const r=a(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:r})}),getNotShownOrLastShownPack(e=!0){return this.getNotShownPack({byStoreTtl:e}).catch(()=>this.getLastShownPack({byStoreTtl:e}))},putNotShownPack:(t,n,r)=>Promise.resolve().then(()=>{const o=s(t,n,r);return e.put(i,o)}),putLastShownPack:(t,n,r)=>Promise.resolve().then(()=>{const i=s(t,n,r);return e.put(o,i)}),removeNotShownPack:()=>e.remove(i),removeLastShownPack:()=>e.remove(o)}},Rn=Object(Xe.j)({id:Xe.n,strongestId:Xe.n,status:Object(Xe.o)("subscribed","not_subscribed","blocked"),type:Object(Xe.g)("interest"),title:Xe.n,subtitle:Object(Xe.h)(Xe.n),feedLink:Xe.n,feedApiLink:Xe.n,logo:Xe.n,logoBackgroundColor:Xe.n,statEvents:Je,bulkParams:Xe.n}),Ln=Object(Xe.j)({id:Xe.n,strongestId:Xe.n,status:Object(Xe.o)("subscribed","not_subscribed","blocked"),type:Object(Xe.o)("publisher","domain"),title:Xe.n,subtitle:Object(Xe.h)(Xe.n),description:Object(Xe.h)(Xe.n),feedLink:Xe.n,feedApiLink:Xe.n,logo:Xe.n,logoBackgroundColor:Xe.n,statEvents:Je,bulkParams:Xe.n}),Mn=Object(Xe.j)({id:Xe.n,type:Object(Xe.o)("card","post"),title:Xe.n,text:Object(Xe.h)(Xe.n),image:Object(Xe.h)(Xe.n),link:Xe.n,source:Object(Xe.j)({title:Xe.n}),creationTime:Object(Xe.h)(Xe.n),statEvents:Je,bulkParams:Xe.n}),Bn={post:Mn,card:Mn,gif:Object(Xe.j)({id:Xe.n,type:Object(Xe.g)("gif"),title:Xe.n,image:Xe.n,link:Xe.n,source:Object(Xe.j)({title:Xe.n}),video:Object(Xe.j)({duration:Xe.i}),creationTime:Object(Xe.h)(Xe.n),statEvents:Je,bulkParams:Xe.n}),interest:Rn,publisher:Ln,domain:Ln},Dn=Object(Xe.d)("type",Bn),Fn=Object(Xe.j)({title:Xe.n,tabId:Xe.n}),Vn=Object(Xe.j)({title:Xe.n,type:Object(Xe.g)("list_container"),items:Object(Xe.b)(Dn),tabLink:Object(Xe.h)(Fn),statEvents:Je,bulkParams:Xe.n}),Un=Object(Xe.d)("type",Object.assign({list_container:Vn},Bn)),zn=Object(Xe.j)({id:Xe.n,name:Xe.n,more:Object(Xe.j)({link:Object(Xe.h)(Xe.n)}),items:Object(Xe.b)(Un),statEvents:Je,bulkParams:Xe.n}),Hn=Object(Xe.j)({rid:Xe.n,items:Object(Xe.b)(zn)}),$n=e=>Object(Xe.k)(Hn,e);class Wn{constructor(e){this.config=U.e,this.queue=Promise.resolve(),this.network=un,this.cache=Pn(),this.eventEmitter=new B,this.lastUsedPackId=null,this.lastUsedPackShown=!1,this.debouncedUpdateNotShownPack=Object(ge.a)(e=>this.updateNotShownPack(e),U.b),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.off=this.eventEmitter.off.bind(this.eventEmitter),this.addListener=this.eventEmitter.on.bind(this.eventEmitter),this.removeListener=this.eventEmitter.off.bind(this.eventEmitter),this.configure(e)}configure(e){const t="function"==typeof e?e(this.config):e;this.config=t,this.config.clid&&this.config.cache?this.cache=this.getCacheApi():this.cache=Pn()}setNetworkRequestProvider(e){this.network=e}getLastUsedPackId(){return this.lastUsedPackId}getCacheId(){const{cache:e}=this.config;return e&&e.idGenerator?e.idGenerator(this.config):""}getCacheStorage(){if(!this.config.cache)throw new Ht("Cache options is not defined");return $t(this.config.cache)}getCacheApi(){const e=this.getCacheStorage(),t=this.getCacheId(),n=bn(this.config);return Nn({storage:e,cacheId:t,validationParams:n,apiResponseValidator:this.config.apiResponseValidator})}getApiRequestUrl(e){return an(e,this.config,this.config.links)}getApiRequestUrlWithPublicId(e,t){return this.getApiRequestUrl(e).replace("__public_id__",t)}extendHeadersWithWindowData(e,{includeXRetpath:t}){return window?Object.assign({},e,t?{"X-Retpath-Y":window.location.href}:{}):e}async getApiResponseFromNetworkAndMaybePutItToCache(e,t){const{cacheMode:n=It.Default,responseParser:r,responseValidator:i}=t,o=await this.getApiResponseFromNetwork(e,t),a=this.parseAndValidateApiResponse(o,r,i);return Rt(n)(Pt.PutAfterNetwork)&&this.updateCache(e,o,a),{apiResponse:a,source:U.f.Network}}async getApiResponseFromNetwork(e,t){const{body:n,headers:r,method:i,mode:o,params:a}=t,s=this.getApiRequestUrl(e),c=this.extendHeadersWithWindowData(r,{includeXRetpath:s.indexOf("/activity-feed?")>0}),l=await this.makeApiRequestWithExtraHeaders(s,{body:n,headers:c,method:i,mode:o,params:a});return Object.assign({},l,{received_at:Date.now()})}parseAndValidateApiResponse(e,t,n){const r=t(e,this.getCacheId());return n(r),r}updateCache(e,t,n){this.cache.putNotShownPack(e,t,n).then(()=>{this.eventEmitter.emit(U.d.NotShownPackUpdated,e,t)}).catch(()=>{}),this.eventEmitter.emit(U.d.UpdatePreload,ve(n))}async makeApiRequestWithExtraHeaders(e,t={}){return this.network(e,t,Object.assign({},this.config,{zenFeatures:(e=>(window,e))(this.config.zenFeatures)}))}async getExportApiResponse(e={}){const t=async()=>{if(Rt(e.cacheMode||It.Default)(Pt.GetAfterNetwork))try{return{apiResponse:(await this.cache.getNotShownOrLastShownPack()).parsedApiResponse,source:U.f.CacheAfterNetwork}}catch(e){e instanceof Ht||console.warn(`Failed to get cached pack after bad network request: '${e.message}'.`)}};try{return await this.getMoreApiResponse(U.a.Export,e)}catch(e){const n=await t();if(!n)throw e;return n}}async getMoreApiResponse(e,t={}){const n=Rt(t.cacheMode||It.Default);return await this.tryGetApiResponseBeforeNetwork(e,n)||await this.getApiResponseFromNetworkAndMaybePutItToCache(e,Object.assign({},t,{responseParser:pt,responseValidator:this.config.apiResponseValidator}))}async getSocialApiResponse(e,t={}){const n=Rt(t.cacheMode||It.Default);return await this.tryGetApiResponseBeforeNetwork(e,n)||await this.getApiResponseFromNetworkAndMaybePutItToCache(e,Object.assign({},t,{responseParser:(e,t)=>Object(St.a)(e)?e:pt(e,t),responseValidator:e=>!!Object(St.a)(e)||this.config.apiResponseValidator(e)}))}async tryGetApiResponseBeforeNetwork(e,t){if(t(Pt.GetBeforeNetwork))try{return await this.getApiResponseFromCacheBeforeNetwork(e)}catch(e){e instanceof Ht||console.warn(`Failed to get cached pack before network request: '${e.message}'.`)}}async getApiResponseFromCacheBeforeNetwork(e){const{parsedApiResponse:t,type:n}=await this.cache.getNotShownPack();if(e===U.a.More&&n===U.a.Export)throw new Ht("Can not apply cache from export to more request.");if(this.lastUsedPackId===t.id)throw new Ht(`Pack '${t.id}' has already been used.`);return{apiResponse:t,source:U.f.CacheBeforeNetwork}}async hasValidNotShownPackInCache(e){try{return await this.getApiResponseFromCacheBeforeNetwork(e),!0}catch(e){return!1}}updateNotShownPack({invalidate:e=!1,requestType:t=U.a.More}={}){var n;if(!(null===(n=this.config.cache)||void 0===n?void 0:n.isPrefetchEnabled))return;this.addToQueue(async()=>{if(e||!await this.hasValidNotShownPackInCache(t))try{await this.getApiResponseFromNetworkAndMaybePutItToCache(t,{responseParser:pt,responseValidator:this.config.apiResponseValidator})}catch(e){}})}addToQueue(e){const t=this.queue=this.queue.then(()=>e(),()=>e());return t.catch(()=>{}),t}getConfig(){return this.config}getExport(e){return this.addToQueue(async()=>{const t=await this.getExportApiResponse(e);return this.updateNotShownPack(),t})}getMore(){return this.addToQueue(async()=>{const e=await this.getMoreApiResponse(U.a.More);return this.updateNotShownPack(),e})}async getSimilar(e,t){const n=await this.makeApiRequestWithExtraHeaders(e);return At(n,t)}sendBannerStats(e){return this.makeApiRequestWithExtraHeaders(e)}sendAppLinkSms(e){const t=this.getApiRequestUrl(U.a.SendAppLinkSms);return this.makeApiRequestWithExtraHeaders(t,{params:{phone:e}})}async getPublisherConfig(){const e=this.getApiRequestUrl(U.a.PublisherConfig),t=await this.makeApiRequestWithExtraHeaders(e);return Object(St.a)(t)?t:pt(t)}async getProfile(){const e=this.getApiRequestUrl(U.a.Profile),t=await this.makeApiRequestWithExtraHeaders(e);return yt(t)}async getSuggest(e){const t=this.getApiRequestUrl(U.a.Suggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return Object(ke.d)(n)}async getMultisearch(e){const t=this.getApiRequestUrl(U.a.Multisearch),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return $n(n)}async getMultisearchMore(e){const t=await this.makeApiRequestWithExtraHeaders(e);return $n(t)}async getBlockedSuggest(e){const t=this.getApiRequestUrl(U.a.BlockedSuggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return Object(ke.d)(n)}async getCategories(){const e=this.getApiRequestUrl(U.a.Categories),t=await this.makeApiRequestWithExtraHeaders(e);return kt(t)}async getCategory(e){const t=this.getApiRequestUrl(U.a.Category).replace("__name__",e),n=await this.makeApiRequestWithExtraHeaders(t);return _t(n)}async getPreferences(e,t){const n=this.getApiRequestUrlWithPublicId(U.a.Preferences,e),r=await this.makeApiRequestWithExtraHeaders(n,t);return Object(ke.d)(r)}async getVideoRecommend(){const e=this.getApiRequestUrl(U.a.VideoRecommend),t=await this.makeApiRequestWithExtraHeaders(e);return Ct(t)}async getVideoPopupData(e,t){const n=this.getApiRequestUrl(U.a.GetVideoPopupData),r=await this.makeApiRequestWithExtraHeaders(n,{params:{publisher_id:e,publication_id:t}});return Object(Ie.c)(r)}async getCountryLang(){const e=this.getApiRequestUrl(U.a.CountryLang),t=await this.makeApiRequestWithExtraHeaders(e);return Et(t)}async getCommentsCounters(e){const t=this.getApiRequestUrl(U.a.CommentsCounter),n=await this.network(t,{body:{documentIds:e},mode:"cors",method:"POST"});return jt(n.counts)}async getCommentsInfos(e){const t=this.getApiRequestUrl(U.a.CommentsInfos),n=await this.network(t,{body:{documentIds:e},mode:"cors",method:"POST"});return wt(n.infos)}async setCountryLang(e,t){const n=this.getApiRequestUrl(U.a.CountryLang);await this.makeApiRequestWithExtraHeaders(n,{body:{country_id:e,language_ids:t}}),this.invalidateCache()}async getSocialProfile(e){const t=this.getApiRequestUrlWithPublicId(U.a.SocialProfile,e),n=await this.makeApiRequestWithExtraHeaders(t,{headers:this.extendHeadersWithWindowData({},{includeXRetpath:!0})});return Tt(n)}async getUserSubscribers(e){const t=this.getApiRequestUrlWithPublicId(U.a.Subscribers,e),n=await this.makeApiRequestWithExtraHeaders(t);return Object(ke.d)(n)}async updateSocialProfile(e){const t=this.getApiRequestUrl(U.a.SocialProfileEdit);await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},method:"PUT",body:e})}prefetch(){this.debouncedUpdateNotShownPack()}async invalidateCache(){this.config.cache&&(await this.cache.removeNotShownPack(),this.debouncedUpdateNotShownPack())}async clearCache(){this.config.cache&&(await this.cache.removeNotShownPack(),await this.cache.removeLastShownPack())}packUsed(e){this.lastUsedPackId=e,this.lastUsedPackShown=!1}packShown(e,t){this.packShownImpl(e,t)}packShownImpl(e,t){const n=this.lastShownPackId===e&&this.lastShownCacheId===t;if(!this.config.cache||n)return void this.eventEmitter.emit(U.d.PackShown,e);this.setLastShownPack(e,t);const r=async e=>{try{await Promise.all([this.cache.removeNotShownPack(),this.cache.putLastShownPack(e.type,e.apiResponse,e.parsedApiResponse)]),this.eventEmitter.emit(U.d.LastShownPackUpdated,e.type,e.apiResponse)}catch(e){}};this.addToQueue(async()=>{try{const t=await this.cache.getNotShownPack();t.apiResponse.rid===e&&await r(t)}catch(e){}finally{e===this.lastUsedPackId&&!this.lastUsedPackShown&&(this.lastUsedPackShown=!0,this.updateNotShownPack()),this.eventEmitter.emit(U.d.PackShown,e)}})}setLastShownPack(e,t){this.lastShownPackId=e,this.lastShownCacheId=t}async getNotShownPackFromCache(e){return(await this.cache.getNotShownPack(e)).parsedApiResponse}async getLastShownPackFromCache(e){return(await this.cache.getLastShownPack(e)).parsedApiResponse}getNetwork(){return this.network}getCache(){return this.cache}getActivityFeed(e){return this.addToQueue(async()=>{const t=await this.getSocialApiResponse(U.a.SocialActivityFeed,e);return this.updateNotShownPack(),t})}async completeProfileOnboarding(e){const t=this.getApiRequestUrl(U.a.ProfileCompleteOnboarding),n=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},body:{context:e.context,onboardingDocumentId:e.documentId},method:"PUT"});if(!n||"ok"!==n.status)throw new Error("complete onboarding failed");return n}async deactivateProfile(e,t){const n=this.getApiRequestUrl(U.a.ProfileDeactivate),{userInfo:r}=this.config,{deviceId:i}=r,{token:o}=t,a=await this.makeApiRequestWithExtraHeaders(n,{headers:{"x-csrf-token":o},body:{reason:e,deviceId:i,clientTs:Date.now()},method:"PUT"});if(!a||"ok"!==a.status)throw new Error("profile deactivate failed");return a}async cancelDeactivateProfile(e){const t=this.getApiRequestUrl(U.a.ProfileCancelDeactivate),{userInfo:n}=this.config,{deviceId:r}=n,{token:i}=e,o=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":i},body:{deviceId:r,clientTs:Date.now()},method:"PUT"});if(!o||"ok"!==o.status)throw new Error("cancel profile deactivate failed");return o}async clearCacheOverflow(){this.config.cache&&this.config.cache.namespace&&this.config.cache.idGenerator&&await Gt(this.getCacheStorage())}getCurrentUserInterests(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(U.a.CurrentUserInterests))}getCurrentUserSubscriptions(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(U.a.CurrentUserSubscriptions))}}var qn=n(202),Gn=n(251),Kn=n(76);const Yn=1e3,Zn=e=>`${e}_${Date.now()}`,Qn=e=>({stats:e.map(({event:e,params:t,ts:n,payload:r})=>Object.assign({event:e,data:t,ts:n},r||{})),bulk_ts:Date.now()}),Xn=()=>{let e,t,n=0,r=0,i=!1;const o=new Promise(t=>{e=t}),a=new Promise(e=>{t=e}),s=()=>{i=!0,t()},c=()=>{++r===n&&s()};return{trigger:()=>(e(),r===n&&s(),a),extend:e=>{i||(n++,o.then(e).then(c,c))}}},Jn=Object(qn.a)();class er extends Wn{constructor(...e){var t;return t=super(...e),this.bulkEvents=[],this.sendingTimeoutId=null,this.bulkEventBatch=null,this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[],t}async getApiResponseFromNetwork(e,t={}){if(Jn&&this.sendBulkEventsWithinQueue(),Jn||0===this.bulkEvents.length||t.body)return Wn.prototype.getApiResponseFromNetwork.call(this,e,t);const{bulkEvents:n}=this,r=Qn(n),i=Object.assign({},t,{body:r});this.bulkEvents=[];try{return Wn.prototype.getApiResponseFromNetwork.call(this,e,i)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(n),e}}addToQueue(e,t=!0){return t&&(this.bulkEventBatch=null),super.addToQueue(e)}forceSendBulkEvents(){return this.bulkEventBatch=null,null!==this.sendingTimeoutId&&window.clearTimeout(this.sendingTimeoutId),this.sendBulkEvents()}async sendBulkEvents(){if(0===this.bulkEvents.length)return;const e=this.getApiRequestUrl(U.a.Bulk),{bulkEvents:t}=this,n=Qn(t);this.bulkEvents=[];try{await this.makeApiRequestWithExtraHeaders(e,{body:n})}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}planBulkEventsSending(){null===this.sendingTimeoutId&&(this.sendingTimeoutId=window.setTimeout(()=>{this.sendingTimeoutId=null,this.sendBulkEventsWithinQueue()},Yn))}sendBulkEventsWithinQueue(){if(!this.bulkEventBatch){const e=this.bulkEventBatch=Xn();this.addToQueue(()=>e.trigger().then(()=>{this.bulkEventBatch===e&&(this.bulkEventBatch=null)}),!1)}this.bulkEventBatch&&this.bulkEventBatch.extend(()=>this.sendBulkEvents().catch(e=>{console.warn("Error while sending bulk events",e)}))}oldLogBulkEvent(e){this.config.deferredEvents&&this.config.deferredEvents.shouldDeferEvents&&!this.config.deferredEvents.notDeferredEvents.includes(e.event)?this.deferredOldBulkLogParams.push(e):this.oldLogBulkEventInner(e)}oldLogBulkEventInner(e){const{event:t,bulkParams:n,statMeta:r}=e,i={id:Zn(t),event:t,params:n,ts:Date.now()};this.bulkEvents.push(i),this.planBulkEventsSending(),this.eventEmitter.emit(U.d.BulkEventLogged,Object.assign({},i,{statMeta:r}))}logBulkEvents(e,t){this.config.deferredEvents&&this.config.deferredEvents.shouldDeferEvents&&!this.config.deferredEvents.notDeferredEvents.includes(e)?this.deferredBulkLogParams.push({statEvent:e,params:t}):this.logBulkEventsInner(e,t)}logBulkEventsInner(e,{statEvents:t,bulkParams:n,bulkReplaceMap:r,eventReplaceMap:i,statMeta:o={},payload:a}){const s=t&&t[e];if(!s)return;const c={id:Zn(s),event:i?Object(Gn.a)(s,i):s,params:r?Object(Gn.a)(n,r):n,ts:Date.now(),payload:a};this.bulkEvents.push(c),this.planBulkEventsSending(),this.eventEmitter.emit(U.d.BulkEventLogged,{event:s,statMeta:o})}async getPreferences(e){if(Jn&&this.sendBulkEventsWithinQueue(),Jn||0===this.bulkEvents.length)return Wn.prototype.getPreferences.call(this,e);const{bulkEvents:t}=this,n={body:Qn(t)};this.bulkEvents=[];try{return Wn.prototype.getPreferences.call(this,e,n)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}stopDefferEvents(){var e;(null===(e=this.config.deferredEvents)||void 0===e?void 0:e.shouldDeferEvents)&&(this.config.deferredEvents.shouldDeferEvents=!1,this.deferredOldBulkLogParams.forEach(e=>{this.oldLogBulkEventInner(e)}),this.deferredBulkLogParams.forEach(({statEvent:e,params:t})=>{this.logBulkEventsInner(e,t)}),this.deferredPackShown.forEach(({packId:e,cacheId:t})=>{this.packShown(e,t)}),this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[])}startDeferEvents(){this.configure(e=>{if(!e.deferredEvents)throw new Error("Deffeered events is not configured");return Object.assign({},e,{deferredEvents:Object.assign({},e.deferredEvents,{shouldDeferEvents:!0})})}),this.deferredOldBulkLogParams=[],this.deferredBulkLogParams=[],this.deferredPackShown=[],Object(Kn.b)({direction:1,delta:1,once:!0},()=>this.stopDefferEvents())}packShown(e,t){var n;(null===(n=this.config.deferredEvents)||void 0===n?void 0:n.shouldDeferEvents)?this.deferredPackShown.push({packId:e,cacheId:t}):this.packShownImpl(e,t)}}const tr=()=>{const e=er,t=Boolean(!0),n=t?{shouldDeferEvents:t,notDeferredEvents:["show_teaser","short"]}:void 0;return new e(e=>Object.assign({},e,{apiResponseValidator:Sn,deferredEvents:n}))};class nr{setHandler(){}setContext(){}error(){}warn(){}log(){}}const rr=["heartbeat","end","replay"],ir=(e,t,n=18e3)=>{const r=({event:e})=>{!rr.includes(e)&&i&&i()},i=Object(ge.a)(()=>{e.removeListener(U.d.BulkEventLogged,r);const{links:n}=t.getState();if(!n.more)throw new Error("No more link in state");t.dispatch(Object(Z.d)({referrerClid:void 0})),t.dispatch(Object(Z.c)({[U.a.More]:Object(Qt.a)(n.more,{referrer_clid:void 0})}))},1e3*n);i(),e.addListener(U.d.BulkEventLogged,r)};var or=n(107);const ar=()=>Math.round(1e8*Math.random()),sr=e=>()=>t=>n=>{if(n.broadcastable){const t=Object.assign({},n);delete t.statEvent,delete t.bulkStat,delete t.broadcastable,t.tabId=e,or.a.setItem("BROADCAST_ACTION",JSON.stringify(t))}return t(n)};var cr=n(43),lr=n(24),ur=n(84),dr=n(142),pr=n(8);const br=[],mr=(e={},t=[])=>async(n,r,{zenApi:i})=>{const o=r(),{elements:a={}}=e,s=[...t];if(Object.keys(a).forEach(e=>{var t;const n=null===(t=a[e])||void 0===t?void 0:t.id;if(!n)return;const r=Object(pr.n)(o,n);if(!(r&&"commentsDocumentId"in r))return;const{commentsDocumentId:i}=r;i&&!br.includes(i)&&(s.push(i),br.push(i))}),!s.length)return null;let c;(c=Object(dr.a)(o).enabled?await i.getCommentsInfos(s):await i.getCommentsCounters(s))&&n({type:ie.Z,payload:c})};var hr=n(528),fr=n(48),vr=(n(201),n(51));var gr=n(39);const yr=e=>({type:ie.Y,payload:{closeModalPath:e}}),Or=()=>(e,t,{modalRoutes:n})=>{const r=t(),{location:i}=r.router,{forcedModalRoute:o}=r.modal,{pathname:a}=i,s=(({location:e,forcedModalRoute:t,modalRoutes:n})=>{if(t&&n[t]&&n[t].forced)return{routeId:t,match:null,backgroundFromLocation:n[t].backgroundFromLocation};for(const t of Object(fr.a)(n)){const r=n[t];if(r.path){const n=Object(vr.matchPath)(e.pathname,r);if(n)return{routeId:t,match:n,backgroundFromLocation:r.backgroundFromLocation}}}return null})({location:i,forcedModalRoute:o,modalRoutes:n});s&&e(yr(((e,t)=>{switch(t){case gr.d:return e.replace("/followers","");case gr.e:return e.replace(gr.k,"");default:return gr.h}})(a,s.routeId)))},_r={links:Z.c,params:Z.d,shared:Z.f,context:Z.b,auth:Z.a,user:Z.g},kr=(e,t)=>{const n=e.screens&&e.screens.items;if(!Array.isArray(n))return null;const r=n.filter(({type:e})=>e===t);return 1!==r.length?null:r[0].source},Er=/([&?])token(=[^&#]*)?(&)?/g,Cr=(e,t)=>{const n=kr(e,t);return n?n.replace(Er,(e,t,n,r)=>r?t:""):null},jr=e=>(t,n,{zenApi:r,ttlController:i})=>{i&&i.apiResponseReceived(U.a.Export,e),t(Object(lr.a)());const o=cr.a.get(e,"grid_type.name");o&&t(Object(lr.d)(o)),e.items&&t(Object(lr.g)(e.items,!1,!1)),e.interview&&t((({interview:e,packId:t,pos:n})=>({type:ie.b,payload:{interview:e,packId:t,pos:n}}))({interview:e.interview,packId:e.id,pos:e.interview.showOnPosition}));const{channel:a}=e;a&&t(Object(ur.a)(a)),t((e=>{const t={[U.a.Onboarding]:cr.a.get(e,"onboarding.link")||null,[U.a.More]:cr.a.get(e,"more.link")||null,[U.a.Bulk]:cr.a.get(e,"bulk.link")||null,[U.a.ClientLogs]:cr.a.get(e,"client_logs.link")||null,[U.a.Subs]:kr(e,"subs")||kr(e,"switchable_subs"),[U.a.Profile]:kr(e,"profile"),[U.a.Category]:kr(e,"category"),[U.a.Categories]:kr(e,"categories"),[U.a.Suggest]:kr(e,"suggest"),[U.a.Multisearch]:kr(e,"multisearch"),[U.a.Blocked]:kr(e,"blocked"),[U.a.Preferences]:kr(e,"preferences"),[U.a.Subscribers]:kr(e,"subscribers"),[U.a.BlockedSuggest]:kr(e,"blocked_suggest"),[U.a.VideoRecommend]:kr(e,"video_recommend"),[U.a.CountryLang]:kr(e,"language"),[U.a.CommentsCounter]:kr(e,"comments_counter"),[U.a.CommentsInfos]:kr(e,"comments_infos"),[U.a.SendAppLinkSms]:kr(e,"send_app_link_sms"),[U.a.SocialProfile]:Cr(e,"social_profile"),[U.a.SocialActivityFeed]:Cr(e,"social_activity_feed"),[U.a.SocialProfileEdit]:Cr(e,"social_profile_edit"),[U.a.ProfileCompleteOnboarding]:Cr(e,"profile_complete_onboarding"),[U.a.ProfileDeactivate]:Cr(e,"profile_deactivate"),[U.a.ProfileCancelDeactivate]:Cr(e,"profile_cancel_deactivate"),[U.a.AllChannelsLink]:cr.a.get(e,"links.all_channels_link"),[U.a.SupportLink]:cr.a.get(e,"links.support_link"),[U.a.GetVideoPopupData]:kr(e,"get_video_popup_data")};return Object(Z.c)(t)})(e)),t((e=>Object(Z.d)({bannerStats:e.banner,experimentsData:e.experimentsData||void 0,clientDefinition:e.clientDefinition,isIceStart:e.isIceStart,complaints:e.complaints,bulk:e.bulk,groupIds:e.groupIds,shouldCleanCacheOnFeedback:e.feedbackCacheClean}))(e)),t(Object(Z.e)({rid:cr.a.get(e,"rid")})),t({type:ie.d,payload:{exportData:e,currentTime:Date.now()}}),e.id&&(r.packUsed(e.id),t(Object(lr.n)(e.id)))},wr=(e,t)=>(n,r)=>{const{exportData:i,initialDisplayedRowsNumber:o,params:a,comments:s}=e;Object(fr.a)(_r).forEach(t=>{const r=e[t];if(r){n((0,_r[t])(r))}}),n(Object(hr.a)(Object(pe.a)(r()))),i&&n(jr(i)),s&&n((e=>async t=>{t({type:ie.r,payload:e})})(s)),o&&n(Object(lr.m)(o)),a&&a.isChildPage&&n((e=>({type:ie.ib,payload:e}))(!0)),t.history&&n(Or()),n(Object(lr.c)())};var Sr=n(62);const Tr=({reducer:e,middlewares:t=[],zenContext:n,feedId:r,onBeforeInit:i,settings:o})=>{const a=Object(Sr.b)(e,he(t,n,r));return i&&i(),a.dispatch(wr(o,n)),a};var xr=n(181);const Ar=e=>{const t={};return e.ofType(ie.Ub).pipe(Object(O.a)(e=>{const{payload:n}=e,{id:r,isVisible:i,index:o}=n;if(i?t[r]=o:delete t[r],0===Object.keys(t).length)return Object(xr.a)();const a=Object.keys(t).reduce((e,n)=>t[n]<t[e]?n:e);return Object(xr.a)(a)}))};let Ir,Pr;!function(e){e.Network="network",e.Logic="logic",e.Unknown="unknown"}(Ir||(Ir={})),function(e){e.Front="frontend",e.Backend="backend",e.Unknown="somebody"}(Pr||(Pr={}));var Nr=n(58);
/*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */var Rr=n(169);new class{constructor(){this._starts={},this._results={}}start(e){const t=this._starts[e],n=this._results[e];t||n||(this._starts[e]=Date.now())}finish(e){const t=this._starts[e],n=this._results[e];t&&!n&&(this._results[e]=Date.now()-t)}getResults(){return Object.assign({},this._results)}getInProgress(){return Object.keys(this._starts).filter(e=>"number"!=typeof this._results[e]).sort()}};const Lr=(e,t)=>Object(Rr.a)(e)+(t?`/${t}`:"");class Mr{constructor(e,t,n){this.app=null,this.store=null,this.inputBus=D(),this.outputBus=F(),this.zenApi=null,this.on=this.outputBus.on.bind(this.outputBus),this.off=this.outputBus.off.bind(this.outputBus),this.trigger=this.inputBus.emit.bind(this.inputBus),this.emit=this.outputBus.emit.bind(this.outputBus),this.App=e,this.reducer=t,this.translations=n}init(e,t){var r;const i={product:z.a.LIB,host:e.host,clid:e.clid,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,countryCode:e.countryCode,lang:e.lang,teethType:e.teethType,zenFeatures:e.zenFeatures,clientExperiments:e.exps,libType:e.libType,notifiersPosition:e.notifiersPosition,styles:e.styles,isMobile:Boolean(!1),isAdaptiveDesign:e.isAdaptiveDesign,disableMetrika:e.disableMetrika,cspNonce:e.cspNonce,withFloatingLinks:e.withFloatingLinks,withHeader:e.withHeader,adId:e.adId,adDomain:e.adDomain,isSocialLoginFunctionalitySupported:Boolean(e.isSocialLoginFunctionalitySupported),pcodever:e.pcodever};{const t=e.staticHost||"https://yastatic.net/s3/zen-lib",r="2.568.0";n.p=`${Lr(t,r)}/cached-render-morda-desktop/`}let o;e.userInfo&&(o={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid,partnerId:e.userInfo.partnerId,avatar:e.userInfo.avatarUrl,displayName:e.userInfo.displayName});const a=tr(),s=Object(q.b)({zenApi:a,zenLogger:new nr,inputBus:this.inputBus,outputBus:this.outputBus,privateBus:V()}),c=ar(),l=Object.assign({},t),u={exportData:t,params:i,user:o,auth:{info:{isAuthorized:Boolean(null===(r=l.auth)||void 0===r?void 0:r.is_authorized)}},initialDisplayedRowsNumber:e.initialDisplayedRowsNumber},d=M({dependencies:s}),p=Tr({settings:u,middlewares:me(s).concat([sr(c),d]),reducer:this.reducer,zenContext:s});d.run(Ar);const b=Y({App:this.App,translations:this.translations,zenContext:s,nativeZenApiMethods:e.nativeZenApiMethods,store:p});re(a,p);const{referrerClidResetTimeout:m}=e,h=Object(Ft.c)(m);a.configure(t=>Object.assign({},t,{cache:e.cache,chromeExtensionId:e.chromeExtensionId,feedFilter:e.feedFilter,isAdblockEnabled:e.isAdblock,deferredEvents:e.deferredEvents||t.deferredEvents})),h&&ir(a,p,m),a.addListener(U.d.BulkEventLogged,({event:e,statMeta:t})=>{this.outputBus.emit("stat",{eventName:e,statMeta:t})}),a.addListener(U.d.NotShownPackUpdated,(e,t)=>{this.outputBus.emit("cachePut",t)}),a.packUsed(p.getState().request.rid),a.clearCacheOverflow(),this.app=b,this.store=p,this.zenApi=a}render(e,t=!1){if(!this.app||!this.outputBus)throw new Error("Call render before init");ee({app:this.app,container:e,outputBus:this.outputBus,ssr:t})}setParams(e){if(!this.store)throw new Error("Call setParams before init");Q(e,this.store)}getZenApi(){if(!this.zenApi)throw new Error("ZenApi is not initialized");return this.zenApi}}n(364);var Br=n(16),Dr=(n(280),n(365),n(437),n(599)),Fr=n(294),Vr=n(178),Ur=n.n(Vr);class zr extends H.PureComponent{constructor(...e){var t;return t=super(...e),this.state={value:this._getEndValue(),duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),t}_isTransitionEvent(e){return e.target===this._containerElem&&"opacity"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getEndValue(){const{type:e,minOpacity:t,maxOpacity:n}=this.props;switch(e){case"in":return n;case"out":return t;default:return 1}}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:r,withTransition:i}=this.state,o={};return null!==n&&(o.opacity=n),i&&(o.transition=`${r}ms opacity ${e} ${t}ms`),o}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},()=>{e&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(){const{getDuration:e,onBeforeStart:t}=this.props;if(!this._containerElem)return;const n=parseFloat(getComputedStyle(this._containerElem).opacity),r=this._getEndValue(),i=this._getRemainingTime(),o=r-n;if(0===o)return void this._endTransition({withEndHandlers:!1});const a=e(i,o);0!==a?(t(),this.setState({value:n,duration:a,withTransition:!0},()=>{const{onAfterStart:e}=this.props;this._forceContainerReflow(),this.setState({value:r},()=>{this._startTime=Date.now(),e()})})):this._endTransition({withEndHandlers:!1})}componentDidUpdate(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()}render(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})}}zr.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};const Hr=Object(Br.a)("feed-loading-progress"),$r=()=>100,Wr=Object(H.memo)(()=>{const{l10n:e}=Object(Fr.a)(),t=Object(W.g)(e=>e.iface.feedLoadingProgressVisible),[n,r]=Object(H.useState)(!1),i=Object(H.useRef)(null),o=Object(H.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),a=Object(H.useCallback)(()=>r(t),[t]),s=Object(H.useCallback)(()=>r(!0),[]);Object(H.useEffect)(()=>{const e=i.current;if(e)return e.addEventListener("wheel",o,!!Ur.a.hasSupport&&{passive:!0}),e.addEventListener("touchmove",o,!!Ur.a.hasSupport&&{passive:!0}),()=>{e.removeEventListener("wheel",o),e.removeEventListener("touchmove",o)}},[o]);return $.a.createElement("div",{className:Hr("container"),ref:i},$.a.createElement(zr,{triggerKey:t,type:t?"in":"out",onBeforeStart:s,onComplete:a,getDuration:$r},({ref:r,style:i})=>$.a.createElement("div",{className:Hr({isMobile:!1,isVisible:t||n}),ref:r,style:i},$.a.createElement(Dr.a,{className:Hr("spinner"),size:34}),$.a.createElement("div",{className:Hr("text")},e("desktop.feed.updating")))))});n(439);var qr=n(42),Gr=n(22),Kr=n(35),Yr=n(66);const Zr=Object(H.memo)(({onFeedEndReach:e,updateLimit:t=5})=>{const n=Object(H.useRef)(),r=Object(H.useRef)(),[i,,o]=Object(Kr.a)(Yr.d,e=>e),a=Object(H.useCallback)((i=(n.current=Math.random()),o=1)=>{r.current&&i===n.current&&(o<=t?e().then(e=>{e&&setTimeout(()=>{a(i,o+1)},200)}):console.error(`More mark iteration limit reached. Limit: ${t}. Iterations: ${o}`))},[e,t]);return Object(Gr.a)(a),Object(qr.a)(()=>o,e=>{r.current=e,a()}),$.a.createElement("div",{className:"more-mark-wrapper"},$.a.createElement("div",{className:"more-mark",ref:i,style:{height:"600px"}}))});let Qr,Xr;!function(e){e.Error="ERROR",e.Warning="WARNING",e.Log="LOG"}(Qr||(Qr={})),function(e){e.Runtime="RUNTIME",e.Longterm="LONGTERM",e.Ignore="IGNORE"}(Xr||(Xr={}));var Jr=n(508);const ei={storageLevel:Xr.Ignore},ti=[fe.e.DIRECT,fe.e.RTB,fe.e.ADSENSE];n(438);const ni=Object(Br.a)("feed-empty"),ri=({size:e="m"})=>{const{l10n:t}=Object(Fr.a)();return $.a.createElement("h2",{className:ni({size:e})},t("channel.channel.no_publications"))};var ii=n(318),oi=n(217),ai=n(17),si=(n(436),n(40));const ci=Object(Br.a)("feed-item-header"),li=Object(H.memo)(({id:e})=>{const t=Boolean(!1),{l10n:n}=Object(Fr.a)(),r=Object(H.useMemo)(si.c,[]),{type:i,actionTime:o,source:a}=Object(W.g)(t=>{const n=Object(pr.x)(t,e,[fe.e.TEXT,fe.e.IMAGE,fe.e.GIF,fe.e.COMMENT]);return{type:n.type,actionTime:n.actionTime,source:r(t,e)}},W.e);return $.a.createElement("div",{className:ci("",{isMobile:t})},(()=>{const e=i===fe.e.COMMENT,r=e?`${n("common.comment_on")} `:n("common.liked");return $.a.createElement("span",{className:ci("action",{isMobile:t,shift:!e})},r)})(),(()=>{const e=i===fe.e.COMMENT?"a":"span",n={};if(i!==fe.e.COMMENT||!a||!a.title)return null;let r=a.title.slice(0,37);return i===fe.e.COMMENT&&(n.href=a.link,n.target="_blank",n.rel="noreferrer noopener"),r.length<a.title.length&&(r=`${r}…`),$.a.createElement(e,Object(ai.a)({className:ci("title",{isMobile:t})},n),r)})(),(()=>{const e=i===fe.e.COMMENT||t?"span":"div";return o?$.a.createElement(e,{className:ci("date")},o):null})())});var ui=n(232),di=n(140),pi=n(139),bi=n(29);const mi=e=>{const{zenLogger:t}=Object(q.c)();return Object(H.useCallback)(n=>{(({item:{id:e},error:t,zenLogger:n})=>{n.error({message:Jr.a,details:{reason:t.message,itemId:e}},ei)})({item:{id:e},error:n,zenLogger:t})},[e,t])},hi=[fe.e.TEXT,fe.e.IMAGE,fe.e.GIF,fe.e.COMMENT],fi=Object(Br.a)("feed"),vi=Object(H.memo)(({getComponent:e,id:t,isActivityFeed:n,type:r,size:i,nativeZenApiMethods:o,rowIndex:a,itemIndexInRow:s,scrollToID:c})=>{const{handleSettingsClick:l}=o||{},u=mi(t),d=Object(H.useRef)(null),{shouldHighlight:p,scrollTo:b}=(({isDesktop:e,rowIndex:t,containerRef:n})=>{const[r,i]=Object(H.useState)(!1);return{shouldHighlight:r,scrollTo:Object(H.useCallback)(async({animate:t=!1,highlight:r=!1,offsetTop:o=(e?50:0)}={})=>{i(!1);const a=e?0:.3;if(!n||!n.current)return Promise.resolve();const s=Object(pi.a)(n.current)+n.current.offsetHeight*a-o;await di.a.scrollTo({top:s,animate:t}),r&&(await Object(bi.a)(250),i(!0))},[])}})({isDesktop:!0,rowIndex:a,containerRef:d}),{Component:m,Stub:h}=e(a,r);if(!m)return console.error(`Component doesn't exist for type ${r}`),$.a.createElement(h,null);const f=!hi.includes(r),v=!n||f?null:$.a.createElement("div",{className:fi("item-header")},$.a.createElement(li,{id:t})),g=$.a.createElement(m,{containerRef:d,id:t,size:i,rowIndex:a,itemIndexInRow:s,onSettingsClick:l,scrollTo:b}),y={zenScrollToTarget:c===t,heightFree:r===fe.e.COMMENT,animationHighlight:p,size:i},O=$.a.createElement($.a.Fragment,null,v,$.a.createElement("div",{className:fi("item",y),id:t,ref:d},g));return $.a.createElement("div",{className:fi("item-wrap",{size:i})},$.a.createElement(ui.a,{onCatch:u,errorView:$.a.createElement(h,null)},O))});var gi=n(88),yi=n(18);const Oi=Object(Br.a)("feed"),_i=e=>e.shouldBeTracked?$.a.createElement(Ei,e):$.a.createElement(ki,e),ki=({row:e,rowIndex:t,nativeZenApiMethods:n,rowRef:r,getComponent:i})=>{const{scrollToID:o,rowStyle:a,isActivityFeed:s}=Object(W.g)(e=>{const{styles:t}=e.params;return{scrollToID:e.shared.scrollToID,rowStyle:t&&t.feedRow,isActivityFeed:Object(yi.d)(e)}},W.e),c=e.some(e=>e.type===fe.e.PLACEHOLDER)?Object.assign({},a,{marginBottom:0}):a;return $.a.createElement("div",{className:Oi("row"),style:c,ref:r},$.a.createElement(ii.a.Provider,{value:t},e.map((e,r)=>$.a.createElement(oi.a.Provider,{value:e.pos,key:e.id},$.a.createElement(vi,{getComponent:i,id:e.id,size:e.size,type:e.type,rowIndex:t,itemIndexInRow:r,scrollToID:o,isActivityFeed:s,nativeZenApiMethods:n}),null))))},Ei=e=>{const[t,n]=Object(Kr.a)(.5),r=Object(gi.a)(t,e.rowRef),i=e.rowIndex,o=Object(W.f)();n.subscribe(e=>{o(Object(lr.q)(i,Boolean(e)))});const a=Object.assign({},e,{rowRef:r});return $.a.createElement(ki,a)};n(281);var Ci=n(124),ji=n(14),wi=n(118),Si=n(301);const Ti=()=>{const e=Object(Sr.c)(),t=Object(W.f)(),[n,r]=(()=>{const e=Object(H.useRef)({}),t=Object(H.useRef)({});return[Object(H.useCallback)(n=>(e.current[n]||(e.current[n]=(r=>{r?t.current[n]=r:(delete e.current[n],delete t.current[n])})),e.current[n]),[]),Object(H.useCallback)(()=>Object.keys(t.current).reduce((e,n)=>Object.assign({},e,{[n]:t.current[n].getBoundingClientRect()}),{}),[])]})();return{getRowRef:n,handleSafeClearFeed:Object(H.useCallback)(()=>{const{rows:n}=Object(pr.j)(e.getState()),i=window.innerHeight,o=r(),a=n[Object(fr.a)(o).filter(e=>{const{top:t,bottom:n}=o[e];return(([e,t],[n,r])=>e<=r&&n<=t)([t,n],[0,i])}).reduce((e,t)=>Math.max(e,Number(t)),-1)];if(!a)return;const s=a[a.length-1].id;t(Object(lr.l)(s))},[t,r,e])}};var xi=n(510);const Ai=Object(Br.a)("feed"),Ii=Object(H.memo)(({setFeedListContainer:e,isInFrame:t,nativeZenApiMethods:n})=>{const{zenLogger:r,outputBus:i,privateBus:o}=Object(q.c)(),a=Object(W.f)(),s=Object(H.useMemo)(()=>({}),[]),{scrollToID:c,displayedRowsNumber:l,grid:u,columnCount:d,rubberyType:p,isAdsense:b,isRedesign:m,styles:h,isActivityFeed:f,hasPinnedCarousel:v,isCommentCountersEnabled:g,isMordaDesktop:y,moreMarkUpdateLimit:O,isTeethEnabled:_,shouldCleanCacheOnFeedback:k,isReloading:E}=Object(W.g)(e=>{const t=Object(ji.a)(e),{feedLoadingProgressVisible:n}=e.iface;return Object.assign({shouldCleanCacheOnFeedback:e.params.shouldCleanCacheOnFeedback,scrollToID:e.shared.scrollToID,displayedRowsNumber:Object(pr.f)(e).displayedRowsNumber,grid:Object(pr.j)(e)},Object(pr.a)(e),{styles:e.params.styles||s,isActivityFeed:Object(yi.d)(e),hasPinnedCarousel:Object(pr.k)(e),isCommentCountersEnabled:t.isCommentCountersEnabled,moreMarkUpdateLimit:Object(wi.b)(e)?100:5,isTeethEnabled:Object(yi.f)(e),isReloading:n})},W.e),{rows:C}=u,{handleInteract:j}=(()=>{const{zenApi:e}=Object(q.c)(),t=Object(H.useCallback)(()=>{e.stopDefferEvents()},[e]),n=Boolean(!0);return Object(Gr.a)(()=>{n&&e.startDeferEvents()}),{handleInteract:t}})();Object(Gr.a)(()=>{if(Object(Kn.f)(),c){const e=30;Object(Kn.b)({delta:e,direction:1,once:!0},()=>{a(Object(Ci.d)(qe.k.Normal))})}v?a(Object(Ci.d)(qe.k.PinnedCarousel)):c&&a(Object(Ci.d)(qe.k.Header)),(({grid:e,displayedRowsNumber:t,zenLogger:n})=>{const r=(e=>[].concat(...e))(e.rows.slice(0,t)),i=r.length<3,o=r.every(e=>ti.includes(e.type));i?n.error({message:Jr.c,details:{reason:"Not enough cards",cardsNumber:r.length}},ei):o?n.error({message:Jr.c,details:{reason:"Only ads in feed"}},ei):n.log({message:Jr.h},ei)})({grid:u,displayedRowsNumber:l,zenLogger:r})}),Object(H.useEffect)(()=>{g&&a(mr(u)),o.emit("feedChanged",u,l)},[u,l,o,a,g]),Object(H.useEffect)(()=>{i.emit("rowsChanged",Object(pr.i)(C,l))},[C,l,i,a]);const w=Object(H.useCallback)(()=>a(Object(lr.b)()),[a]),S=Object(H.useCallback)(Object(Si.a)(_),[_]),T=Ai({columnCount:d,rubberyType:p||"null",isAdsense:b,isActivityFeed:f,isInFrame:t,isMordaDesktop:y,isYabroMorda:!1,isRedesign:m,isReloading:!1}),{getRowRef:x,handleSafeClearFeed:A}=Ti(),I=u.rows.slice(0,l).map((e,t)=>{const r=1===e.length,i=e.reduce((e,{id:t,replaceWith:n})=>e+(r?t:n||t),""),o=x(String(t));return $.a.createElement(_i,{key:i,row:e,rowIndex:t,rowRef:o,getComponent:S,nativeZenApiMethods:n,shouldBeTracked:Boolean(!1)})}),P=Object(H.useCallback)(()=>{k&&A()},[k,A]),N=Object(H.useMemo)(()=>({handleFeedback:P}),[P]),R=Wr,L=Object(H.useRef)(null),M=Object(gi.a)(e,L);return $.a.createElement(xi.a.Provider,{value:N},$.a.createElement("div",{ref:M,className:T,style:h.feed,onClickCapture:j,onMouseEnter:j},0===C.length?$.a.createElement(ri,null):I),null,$.a.createElement(Zr,{onFeedEndReach:w,updateLimit:O}),$.a.createElement(R,null))});var Pi=n(23),Ni=(n(81),n(196));const Ri=(e,t=!1)=>{const n=Object(W.g)(e=>Object(ji.a)(e).disableMetrikaExp),r=Boolean(t||n);return Object(H.useCallback)(async t=>{if(r)return;(await Object(Ni.b)(e)).reachGoal(t)},[e,r])},Li={id:50377519,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0};var Mi=n(215),Bi=n(314),Di=(n(440),n(521)),Fi=n(239),Vi=n(83),Ui=n(129);var zi=n(56),Hi=n(61),$i=(n(469),n(602)),Wi=(n(470),n(165)),qi=n(37),Gi=n(19);const Ki=Object(Br.a)("video-feed-right-item"),Yi=Object(H.memo)(({id:e})=>{const{active:t,image:n,bigImage:r,bulkParams:i,statEvents:o,title:a="",domainTitle:s=""}=Object(W.g)(t=>{const{openedItemId:n,videoFeed:r}=t.videoModal,i=r[e],o=e===n;return Object.assign({active:o},i)},W.e),c=Object(H.useMemo)(()=>({statEvents:o,bulkParams:i}),[i,o]),l=(e=>{const t=Object(Gi.b)();return Object(H.useCallback)(()=>t("click_teaser",e),[t,e])})(c),u=(e=>{const t=Object(Gi.b)();return Object(H.useCallback)(()=>t("show_teaser",e),[t,e])})(c),d=Object(W.f)(),p=Object(H.useCallback)(()=>{t||u()},[t,u]),b=Object(H.useCallback)(()=>{l(),d(Object(Vi.a)(e))},[l,d,e]),[m,h,f]=Object(Kr.a)();return Object(qi.b)({isVisible$:h,onShow:p}),$.a.createElement("div",{className:Ki({active:t}),onClick:b,ref:m},$.a.createElement("div",{className:Ki("image"),style:{backgroundImage:`url(${r||n})`}}),$.a.createElement("div",{className:Ki("description")},$.a.createElement(Wi.a,{isIntersecting$:f,className:Ki("title")},a),$.a.createElement(Wi.a,{isIntersecting$:f,className:Ki("domain-title")},s)))});var Zi=n(222),Qi=n(57);const Xi=Object(Br.a)("video-feed-right-view"),Ji=Object(H.memo)(({l10n:e})=>$.a.createElement("div",{className:Xi("error")},$.a.createElement("div",{className:Xi("error-img")}),$.a.createElement("div",{className:Xi("error-text")},e("desktop.video.no_docs")))),eo=Object(H.memo)(()=>$.a.createElement("div",{className:Xi("spinner")},$.a.createElement($i.a,null))),to=e=>{const{videoFeedIdList:t,isError:n,intersectionCallback:r,isMoreSimilarVideosLoadingEnabled:i,marginMoreSimilarVideosLoading:o}=e,{l10n:a}=Object(Fr.a)(),s=Object(H.useRef)(null),c=Object(H.useRef)(null),l=Object(Zi.a)(([e])=>{e.isIntersecting&&r()},{root:c.current});Object(Qi.a)(()=>{l(null)}),Object(Gr.a)(()=>{i&&l(s.current)});const u=!n&&t.length<=1;return $.a.createElement("div",{className:Xi()},$.a.createElement("div",{className:Xi("header")},a("desktop.see_also")),$.a.createElement("div",{className:Xi("wrapper"),ref:c},(e=>e.length<=1?[]:e.map(e=>$.a.createElement(Yi,{key:e,id:e})))(t),u&&$.a.createElement(eo,null),n&&$.a.createElement(Ji,{l10n:a}),$.a.createElement("div",{className:Xi("mark"),style:{top:-o},ref:s})))},no=()=>{const[e,t]=Object(H.useState)(!1),{videoFeedIdList:n,videoFeed:r,commentsData:i,isMoreSimilarVideosLoadingEnabled:o,marginMoreSimilarVideosLoading:a}=Object(W.g)(e=>{const{videoModal:t,commentsData:n}=e,{videoFeed:r,itemsOrder:i}=t,{isMoreSimilarVideosLoadingEnabled:o,marginMoreSimilarVideosLoading:a}=Object(ji.a)(e);return{videoFeedIdList:i,videoFeed:r,commentsData:n,isMoreSimilarVideosLoadingEnabled:o,marginMoreSimilarVideosLoading:a}}),s=Object(Hi.a)(Vi.c),c=Object(Hi.a)(mr),l=Object(Ui.a)(()=>t(!0));Object(Gr.a)(()=>{s().catch(l)});const u=(e=>{const t=Object(H.useRef)();return Object(H.useEffect)(()=>{t.current=e}),t.current})(n);return Object(zi.a)(()=>{if(u&&u.length!==n.length){const e=n.map(e=>r[e].commentsDocumentId).filter(e=>e&&!i[e]);c({},e)}},[c]),$.a.createElement(to,{isError:e,videoFeedIdList:n,intersectionCallback:s,isMoreSimilarVideosLoadingEnabled:o,marginMoreSimilarVideosLoading:a})};n(468);const ro=/\bcomment_(\d+)/;let io=null;const oo=Object(W.d)((e,t)=>{const{commentsApiUrlTmpl:n}=t,{context:r,params:i,request:o,commentsData:a,user:s}=e,{commentsContent:c}=a,{uatraits:l}=r,{clid:u,product:d,integration:p,host:b}=i,{oauthToken:m}=s,h="undefined"!=typeof window&&window.navigator.language&&window.navigator.language.substring(0,2)||"ru",f="undefined"!=typeof window&&window.__DEV_COMMENTS_BUNDLE_URL__?window.__DEV_COMMENTS_BUNDLE_URL__:Object(ji.a)(e).commentsBundleUrlTmpl,{partner:v,sessionTs:g}=c||{partner:"",sessionTs:Date.now()},y=(n||"/api/comments").replace("{host}",b||""),O=f.replace("{commentsBundleUrl}","chromium").replace("{lang}",h||"ru"),_=O.slice(0,O.lastIndexOf("/")+1);return{clid:u,product:d,integration:p,requestId:o.rid,commentsBundleUrl:O,commentsPackagePath:_,commentsApiUrl:y,uatraits:l,oAuthToken:m,partner:v,sessionTs:g}})(class extends H.Component{constructor(...e){var t;return t=super(...e),this.commentId=0,this.containerRef=Object(H.createRef)(),this.init=(()=>{const{commentsBundleUrl:e}=this.props,{location:{hash:t}}=window,n=t?(t.match(ro)||[])[1]:void 0;n&&(this.commentId=parseInt(n,10)),io?this.renderComments():(window.onCommentsLoaderReady=this.renderComments,Object(Nr.a)(e))}),this.renderComments=(e=>{e&&(io=e);const{comments:t}=this.props,n=Object.assign({},this.props,{commentId:this.commentId,comments:this.commentId?void 0:t});try{io.load(n).then(e=>{e.getAppInstance(),e.render(this.containerRef.current,n)})}catch(e){console.error(e)}}),t}componentDidMount(){this.init()}componentDidUpdate(e){const{documentId:t}=this.props;e.documentId!==t&&this.init()}render(){return $.a.createElement("div",{ref:this.containerRef,className:"zen-comments-loader"})}}),ao=Object(Br.b)("video-modal-comments"),so=Object(ce.d)(Object(W.d)(()=>e=>{const{commentsData:t,params:{experimentsData:n,clid:r,integration:i,product:o},context:{partner:a},links:{bulk:s},videoModal:{openedItemId:c}}=e,{openedItemId:l,videoFeed:u}=e.videoModal,d=l?u[l]:null,{commentsDocumentId:p=""}=d||{},{isDesktopVideoModalCommentsEnabled:b,videoModalCommentsApiUrlTmpl:m}=Object(ji.a)(e),h=Boolean(b&&d&&Boolean(p)&&t[p]),f=Object.keys(n).join(",");return Object.assign({},d,{clid:r,integration:i,product:o,partner:a,bulkLink:s,experimentGroup:f,isCommentsEnabled:h,openedItemId:c,commentsApiUrlTmpl:m})}))(e=>{const{channelOwnerUid:t,publisherId:n,commentsDocumentId:r,isCommentsEnabled:i,commentsToken:o,experimentGroup:a,commentsContainerParentRef:s,link:c,bulkParams:l,bulkLink:u,openedItemId:d,commentsApiUrlTmpl:p}=e;if(!d)return null;const b=parseInt(t,10);return $.a.createElement("div",{className:ao({commentsDisabled:!i})},$.a.createElement(oo,{isAutoscrollEnable:!1,ownerUid:b,documentId:r,publisherId:n,commentCount:3,commentsToken:o,experiments:a,commentsContainerParentRef:s,documentLink:c,bulkParams:l,bulkLink:u,place:qe.p.Feed,commentsEnabled:i,isVideoModal:!0,shouldRemovePaddings:!0,commentsApiUrlTmpl:p}))});var co=n(47),lo=(n(447),n(75)),uo=(n(451),n(452),n(230));const po=()=>Object(uo.a)({animationClass:"video-modal-controls-animation",animateReloadDuration:300});var bo=n(138),mo=n(136),ho=n(135);const fo=({statObject:e,cardFeedback:t,setCardFeedback:n,onCancelDislike:r,onLike:i})=>{const{statItemLike:o,statItemCancelLike:a}=Object(bo.a)(e),{statItemCancelDislike:s}=Object(mo.a)(e);return(({cardFeedback:e,setCardFeedback:t,onLike:n,onCancelLike:r,onCancelDislike:i})=>{const o=Object(H.useCallback)(()=>{switch(e){case null:t("liked"),n();break;case"liked":t(null),r();break;case"blocked":case"disliked":t("liked"),i(),n()}},[e,i,r,n,t]),a=Object(H.useMemo)(()=>"liked"===e?ho.a.Focused:"blocked"===e||"disliked"===e?ho.a.Unfocused:ho.a.Normal,[e]);return Object(H.useMemo)(()=>({focus:a,onLikeClick:o}),[a,o])})({cardFeedback:t,setCardFeedback:n,onLike:Object(H.useCallback)(()=>{o(),i()},[i,o]),onCancelLike:a,onCancelDislike:Object(H.useCallback)(()=>{r&&r(),s()},[r,s])})};n(453),n(454);var vo=n(33);const go=Object(vo.a)("mitten"),yo={l:({className:e,isDislike:t})=>{const n=t?"translate(32, 34) rotate(180)":"";return $.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32px",height:"32px"},$.a.createElement("path",{transform:n,fillRule:"evenodd",d:"M23.258 11.536C23.904 11.536 24.428 12.056 24.428 12.698L24.428 12.744C24.328 14.296 24.035 15.792 23.558 17.21L23.555 17.22C22.899 19.168 21.925 20.968 20.672 22.549L20.67 22.552 20.501 22.752 11.61 22.752 11.61 12.85 16.768 6.751 16.771 6.747C17.131 6.293 17.404 5.787 17.593 5.227L17.595 5.22C17.732 4.814 17.816 4.384 17.844 3.939 18.056 3.73 18.348 3.6 18.67 3.6 19.274 3.6 19.685 3.998 19.931 4.676 20.224 5.484 20.198 6.4 20.198 6.4 20.198 7.592 19.783 8.684 19.092 9.551L19.094 9.552 17.395 11.536 23.257 11.536 23.258 11.536ZM6.4 22.751L6.4 12.85 9.874 12.85 9.874 22.751 6.4 22.751Z"}))},m:({className:e,isDislike:t})=>{const n=t?"translate(28, 28) rotate(180)":"";return $.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"28",height:"28"},$.a.createElement("path",{transform:n,d:"M17.2325 9.52697L15.3957 11.7014L21.734 11.7014C22.433 11.7014 22.9992 12.2722 22.9992 13.0269C22.8909 14.7282 22.5743 16.3693 22.0559 17.934C21.3462 20.0711 20.2936 22.0447 18.9366 23.7808L18.7538 24L9 23.9999L9 13.0269L14.7208 6.45065C15.1096 5.95335 15.4056 5.39769 15.6117 4.77676C15.7595 4.3309 15.8502 3.86018 15.8813 3.37195C16.1102 3.14221 16.4257 3 16.7744 3C17.4273 3 17.8719 3.43657 18.1374 4.17983C18.4542 5.06637 18.4265 6.07071 18.4265 6.07071C18.4265 7.37675 17.977 8.57516 17.2325 9.52697Z"}),$.a.createElement("path",{transform:n,d:"M5.00002 23.9999V13.0269H6.9999L7 23.9999H5.00002Z"}))}};var Oo=$.a.forwardRef((e,t)=>{const{state:n,type:r,count:i,className:o,iconClassName:a,counterClassName:s,onClick:c,size:l="l"}=e,u=Object(Br.c)(go({state:n}),o),d=Object(Br.c)(go("icon"),a),p=Object(Br.c)(go("counter"),s),b=yo[l];return $.a.createElement("button",{className:u,onClick:c,ref:t},$.a.createElement(b,{className:d,isDislike:"like"!==r}),"number"==typeof i?$.a.createElement("span",{className:p},i):null)});const _o=Object(Br.a)("video-modal-mitten"),ko=e=>{let{isClicked:t,iconClassName:n}=e,r=Object(Pi.a)(e,["isClicked","iconClassName"]),i=_o("icon",{type:"default",passive:!t});return i=Br.a.mix(i,n),$.a.createElement("div",{className:_o()},$.a.createElement(Oo,Object(ai.a)({className:_o("button"),state:t?"active":"passive",iconClassName:i},r)))},Eo=({statObject:e,cardFeedback:t,setCardFeedback:n,animateKey:r,onCancelDislike:i,onLike:o})=>{const[a,s]=po();Object(zi.a)(()=>{s()},[r]);const c=Object(H.useCallback)(()=>{s(),o&&o()},[s,o]),{onLikeClick:l}=fo({onLike:c,statObject:e,cardFeedback:"blocked"===t?"disliked":t,setCardFeedback:n,onCancelDislike:i}),u="liked"===t;return $.a.createElement(ko,{onClick:l,type:"like",isClicked:u,iconClassName:a,size:"m"})};var Co=n(286);const jo=({statObject:e,cardFeedback:t,setCardFeedback:n,animateKey:r,onCancelDislike:i,onDislike:o})=>{const[a,s]=po();Object(zi.a)(()=>{s()},[r]);const c=Object(H.useCallback)(()=>{s(),o&&o()},[s,o]),{onDislikeClick:l}=(({statObject:e,cardFeedback:t,setCardFeedback:n,onCancelDislike:r,onDislike:i})=>{const{statItemDislike:o,statItemCancelDislike:a}=Object(mo.a)(e),{statItemCancelLike:s}=Object(bo.a)(e),c=Object(H.useCallback)(()=>{o(),i()},[i,o]),l=Object(H.useCallback)(()=>{r&&r(),a()},[r,a]);return Object(Co.a)({cardFeedback:t,setCardFeedback:n,onDislike:c,onCancelLike:s,onCancelDislike:l})})({onDislike:c,statObject:e,cardFeedback:"blocked"===t?"disliked":t,setCardFeedback:n,onCancelDislike:i}),u="disliked"===t;return $.a.createElement(ko,{onClick:l,type:"dislike",isClicked:u,iconClassName:a,size:"m"})};var wo=n(49),So=n(60);const To=Object(Br.a)("video-modal-controls"),xo=({id:e,onCancelDislike:t,statObject:n})=>{const{feedback:r,mittensJumpAnimationKey:i}=Object(W.g)(t=>{return{feedback:Object(So.d)(t,e),mittensJumpAnimationKey:Object(So.e)(t,e)}},W.e),o=Object(H.useCallback)(t=>Object(wo.j)(e,t),[e]),a=Object(Hi.a)(o),{handleFeedback:s}=Object(xi.b)();return $.a.createElement("div",{className:To()},$.a.createElement("div",{className:To("mittens")},$.a.createElement(Eo,{statObject:n,cardFeedback:r,setCardFeedback:a,animateKey:i,onCancelDislike:t,onLike:s}),$.a.createElement("div",{className:To("devider")}),$.a.createElement(jo,{statObject:n,cardFeedback:r,setCardFeedback:a,animateKey:i,onCancelDislike:t,onDislike:s})))};var Ao=n(110);n(463);var Io=n(604),Po=(n(467),n(316)),No=n(245);const Ro=Object(Br.a)("source-menu-view-desktop"),Lo={x:"left",y:"bottom",shouldOverlap:{x:!0,y:!1},shifts:{top:10},shouldFlip:!0},Mo=e=>{const{className:t,svgClassName:n,children:r,disabled:i,isInline:o,popupPositionX:a="left",popupPositionY:s="bottom",size:c="l"}=e,l=Object(H.useMemo)(()=>({containerRef:e,toggle:t})=>$.a.createElement(Po.a,{className:Ro("trigger",{isDisabled:i}),ref:e,size:c,onClick:t,viewType:"transparent",disabled:i},$.a.createElement("svg",{className:n,viewBox:No.a.viewBox,width:28,height:28},$.a.createElement("use",{xlinkHref:`#${No.a.id}`}))),[i,c,n]),u=Object(H.useMemo)(()=>Object.assign({},Lo,{x:a,y:s}),[a,s]);return $.a.createElement("div",{className:Br.a.mix(Ro({isInline:o}),t)},$.a.createElement(Io.f,{position:u,renderTrigger:l},$.a.createElement(Io.a,null,r)))},Bo=Object(Io.g)("a"),Do=({isLink:e,icon:t,text:n,onClick:r,href:i})=>e?$.a.createElement(Bo,{onClick:r,href:i,target:"_blank"},$.a.createElement(Io.e,null,t),$.a.createElement(Io.d,{text:n})):$.a.createElement(Io.c,{onClick:r},$.a.createElement(Io.e,null,t),$.a.createElement(Io.d,{text:n})),Fo=({isBlocked:e,withoutComplain:t,items:n,popupPositionX:r,popupPositionY:i,size:o,svgClassName:a})=>$.a.createElement(Mo,{svgClassName:a,popupPositionX:r,popupPositionY:i,size:o},Do(e?n.unblock:n.block),t?null:Do(n.report));n(461);var Vo=n(12),Uo=n.n(Vo),zo=n(13),Ho=n.n(zo),$o=new Uo.a({id:"block-s--inline",use:"block-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol fill="none" viewBox="0 0 18 18" id="block-s--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9zm16 0A7 7 0 1 0 2 9a7 7 0 0 0 14 0z" fill="#000" /><path d="M4 4l10 10" stroke="#000" stroke-width="2" /></symbol>'}),Wo=(Ho.a.add($o),$o),qo=new Uo.a({id:"unblock-s--inline",use:"unblock-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol fill="none" viewBox="0 0 18 18" id="unblock-s--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9zm16.2 0A7.2 7.2 0 1 0 1.8 9a7.2 7.2 0 0 0 14.4 0z" fill="currentColor" /><path d="M5 8l4 4 6.5-6.5" stroke="currentColor" stroke-width="2" /></symbol>'}),Go=(Ho.a.add(qo),qo),Ko=new Uo.a({id:"report-s--inline",use:"report-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol fill="none" viewBox="0 0 18 18" id="report-s--inline"><circle cx="9" cy="12.5" r="1.5" fill="#000" /><path d="M7.5 4h3l-1 6h-1l-1-6z" fill="#000" /><circle cx="9" cy="9" r="8" stroke="#000" stroke-width="2" /></symbol>'}),Yo=(Ho.a.add(Ko),Ko);const Zo=Object(Br.a)("source-menu-icon-view"),Qo=Object(H.memo)(({className:e,svgClassName:t})=>$.a.createElement("div",{className:Br.a.mix(Zo(),e)},$.a.createElement("svg",{className:t,viewBox:Go.viewBox},$.a.createElement("use",{xlinkHref:`#${Go.id}`})))),Xo=Object(H.memo)(({className:e})=>$.a.createElement("div",{className:Br.a.mix(Zo(),e)},$.a.createElement("svg",{viewBox:Wo.viewBox},$.a.createElement("use",{xlinkHref:`#${Wo.id}`})))),Jo=Object(H.memo)(({className:e})=>$.a.createElement("div",{className:Br.a.mix(Zo(),e)},$.a.createElement("svg",{viewBox:Yo.viewBox},$.a.createElement("use",{xlinkHref:`#${Yo.id}`}))));n(464),n(466);var ea=n(36);const ta=Object(vo.a)("checkbox"),na=({viewType:e})=>{switch(e){case"dash":return $.a.createElement("svg",{width:"10",height:"2",viewBox:"0 0 10 2",fill:"none"},$.a.createElement("rect",{width:"10",height:"2",fill:"currentColor"}));case"check":return $.a.createElement("svg",{width:"10",height:"8",viewBox:"0 0 10 8"},$.a.createElement("g",{fill:"none",fillRule:"evenodd"},$.a.createElement("path",{d:"M-3-4h16v16H-3z"}),$.a.createElement("path",{fill:"currentColor",d:"M4.111 7.59L.261 3.74l1.256-1.257 2.594 2.594L8.483.705 9.74 1.962z"})));default:return null}},ra=e=>{const{viewType:t="check",size:n="m",name:r,label:i,isChecked:o=!1,isDisabled:a=!1,onChange:s}=e,c=Object(Pi.a)(e,["viewType","size","name","label","isChecked","isDisabled","onChange"]),l={size:n,isDisabled:a,isChecked:o,withLabel:Boolean(i)},u=Object(ea.a)(c,{className:ta(l)});return $.a.createElement("label",u,$.a.createElement("div",{className:ta("box")},$.a.createElement("input",{type:"checkbox",className:ta("control"),disabled:a,name:r,checked:o,onChange:s}),$.a.createElement("div",{className:ta("tick")},$.a.createElement(na,{viewType:t}))),i&&$.a.createElement("span",{className:ta("label")},i))};n(465);const ia=Object(vo.a)("modal-content"),oa=e=>{let{children:t,className:n}=e,r=Object(Pi.a)(e,["children","className"]);return $.a.createElement("div",Object(ai.a)({},r,{className:vo.a.mix(ia(),n)}),t)},aa={violence:"feedback.complain_violence",fake:"feedback.complain_fake",insulting:"feedback.complain_insulting",porno:"feedback.complain_porno",other:"feedback.complain_other",old:"feedback.complain_old",misleading:"feedback.complain_misleading",advertising:"feedback.complain_advertising"},sa={channel:["old","violence","misleading","fake","insulting","porno","other"],interest:["violence","fake","insulting","porno","other"],publication:["old","violence","misleading","fake","insulting","porno","advertising","other"]},ca=e=>{return(e=>e.map(e=>({name:e,label:aa[e]})))(sa[e])},la=Object(Br.a)("complaint-popup"),ua=({isOpen:e,isMobile:t,onClose:n,sourceId:r,sourceType:i,sourceTitle:o,complaintReasons:a,complaintLink:s,onComplainClick:c,setComplaintReasons:l})=>{const{l10n:u}=Object(Fr.a)(),d="interest"===i,p=()=>{const e=[];return m.forEach((t,n)=>{t&&e.push(n)}),e},b=ca(i),[m,h]=Object(H.useState)(new Map),f=e=>{const t=e.target;m.set(t.name,t.checked),h(new Map(m))};return Object(H.useEffect)(()=>{a&&c({complaintReasons:a})},[a]),$.a.createElement(Di.a,{isOpen:e,close:n,className:la({isMobile:t}),viewType:t?"mobile-fullscreen":"inner-close-m",withVerticalAlign:!0},$.a.createElement(oa,null,$.a.createElement("div",{className:la("fields")},$.a.createElement("div",{className:la("title")},u("feedback.complain_reason")),t&&$.a.createElement("div",{className:la("subtitle")},`\n                                ${u(d?"feedback.complaint.form.interest":"feedback.complaint.form.channel")}\n                                «${o}»\n                                ${u("feedback.complaint.form.contains")}\n                            `),$.a.createElement("div",null,b.map(({name:e,label:n})=>$.a.createElement("div",{key:e},$.a.createElement(ra,{name:e,label:u(n),isChecked:m.get(e),onChange:f,className:la("option"),size:t?"m":"l"}))))),$.a.createElement("div",{className:la("actions")},$.a.createElement(Po.a,{className:la("action-button"),size:t?"m":"l",viewType:"yellow",disabled:!p().length,onClick:()=>{l(r,p().join(",")),n()}},u("feedback.complain_send")),!t&&$.a.createElement(Po.a,{className:la("action-button"),viewType:"regular",size:"l",onClick:n},u("feedback.cancel"))),$.a.createElement("a",{className:la("link"),href:s},u("feedback.official_complain_url_text"))))},da=({svgClassName:e,sourceId:t,sourceTitle:n,complaintReasons:r,complaintLink:i,status:o,withoutComplain:a,isInterestsEnabled:s,sourceType:c,isMobile:l,onShortToggleBlock:u,onComplain:d,onComplainClick:p,setComplaintReasons:b,popupPositionX:m,popupPositionY:h,size:f})=>{const[v,g]=Object(H.useState)(!0),y=(({toggleShowPopup:e,isInterestsEnabled:t,onShortToggleBlock:n})=>{const{l10n:r}=Object(Fr.a)();return Object(H.useMemo)(()=>({block:{isLink:!1,icon:$.a.createElement(Xo,null),text:r(t?"channel.source_block":"channel.channel.block"),onClick:n},unblock:{isLink:!1,icon:$.a.createElement(Qo,null),text:r(t?"channel.source_unblock":"channel.channel.unblock"),onClick:n},report:{isLink:!1,icon:$.a.createElement(Jo,null),text:r("channel.channel.complain"),onClick:e}}),[e,n,r,t])})({toggleShowPopup:()=>{v&&d(),g(!v)},isInterestsEnabled:s,onShortToggleBlock:u}),O="blocked"===o;return $.a.createElement($.a.Fragment,null,$.a.createElement(ua,{isMobile:l,isOpen:!v,sourceId:t,sourceTitle:n,sourceType:c,onClose:()=>g(!0),onComplainClick:p,complaintReasons:r,complaintLink:i,setComplaintReasons:b}),$.a.createElement(Fo,{svgClassName:e,isBlocked:O,withoutComplain:a,items:y,popupPositionX:m,popupPositionY:h,size:f}))};var pa=n(148),ba=n(231);var ma=n(108);const ha=Object(Br.a)("video-modal-menu"),fa=e=>{const{sourceChannel:t,sourceVideo:n,id:r,title:i,itemBlock:o,onClose:a,statObject:s,complaints:c}=e,{complaintReasons:l}=n,{status:u}=t,d=c.link,p=(()=>{const e=Object(W.f)();return Object(H.useCallback)((t,n)=>{e(Object(ur.g)(t,n))},[e])})(),b=Object(pa.a)({statObject:s}),m=Object(ba.a)(s),h=(e=>{const t=Object(Gi.b)();return Object(H.useCallback)(({complaintReasons:n}={})=>t("complain_click",Object.assign({},e,{eventReplaceMap:{__reasons__:n||""}})),[t,e])})(s),f=Object(ma.a)(n),v=Object(H.useCallback)(()=>{b(),f(qe.u.BLOCKED),o(n),a()},[o,a,f,n,b]);return $.a.createElement("div",{className:ha("menu-button")},$.a.createElement(da,{isMobile:!1,status:u,sourceId:r,sourceTitle:i,sourceType:"publication",isInterestsEnabled:!1,onComplain:m,onComplainClick:h,withoutComplain:!1,popupPositionX:"right",popupPositionY:"bottom",onShortToggleBlock:v,complaintReasons:l,complaintLink:d,setComplaintReasons:p,size:"m"}))};n(462);var va=n(192);const ga=Object(Br.b)("subscribers-count-view"),ya=Object(H.memo)(({src:e,size:t,style:n={},isDense:r})=>$.a.createElement("div",{className:ga("avatar",{size:t,isDense:r}),style:Object.assign({backgroundImage:`url(${e})`},n)})),Oa=Object(H.memo)(({count:e,label:t,isBoldCount:n,isSmallLabel:r,color:i})=>$.a.createElement("div",{className:ga("label",{isSmallLabel:r}),style:{color:i}},$.a.createElement("a",{className:ga("count",{isBold:n})},(e=>{let t=("string"==typeof e?parseInt(e,10)||0:e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");const n=e.toString().split(/[,.]/)[1];return n&&(t+=`.${n}`),t})(e))," ",t)),_a=({onClick:e,avatars:t,size:n,count:r,to:i,withLabel:o=!0,avatarStyle:a,isBoldCount:s=!0,isSmallLabel:c=!1,isDenseAvatars:l=!1,labelColor:u})=>{const{l10n:d,lang:p}=Object(Fr.a)(),b=t&&t.length||0,m=t&&t.map((e,t)=>$.a.createElement(ya,{size:n,src:e,key:t,index:b-t,style:a,isDense:l})),h=o?Object(va.a)((e=>({zero:e("channel.channel.subscribers_0"),one:e("channel.channel.subscribers_1"),two:e("channel.channel.subscribers_2"),five:e("channel.channel.subscribers_5")}))(d),p,r,()=>""):"";return i?$.a.createElement(vr.Link,{className:ga(),to:i},t&&$.a.createElement("div",{className:ga("avatars-container",{isSmallLabel:c})},m),$.a.createElement(Oa,{count:r,label:h,isBoldCount:s,isSmallLabel:c,color:u})):$.a.createElement("div",{className:ga({isClickable:Boolean(e)}),onClick:e},t&&$.a.createElement("div",{className:ga("avatars-container",{isSmallLabel:c})},m),$.a.createElement(Oa,{count:r,label:h,isBoldCount:s,isSmallLabel:c,color:u}))};n(455),n(456);var ka=new Uo.a({id:"share--inline",use:"share--inline-usage",viewBox:"0 0 28 28",content:'<symbol fill="currentColor" viewBox="0 0 28 28" id="share--inline"><path d="M8 9l5-3.3V19h2V5.7L20 9l1-1-7-7-7 7 1 1z" /><path d="M3 13h5v1.5l-3 .3V22c0 .6.4 1 1 1h16c.6 0 1-.4 1-1v-7.2l-3-.3V13h5v9a3 3 0 01-3 3H6a3 3 0 01-3-3v-9z" /></symbol>'}),Ea=(Ho.a.add(ka),ka);const Ca=Object(Br.a)("share-link"),ja=Object(H.memo)(({onShare:e})=>{const{l10n:t}=Object(Fr.a)();return $.a.createElement("div",{className:Ca(),onClick:e},$.a.createElement("svg",{className:Ca("icon"),viewBox:Ea.viewBox,width:"28",height:"28"},$.a.createElement("use",{xlinkHref:`#${Ea.id}`})),$.a.createElement("span",{className:Ca("title")},t("mobile.card-item.share.title")))});var wa=n(236);n(460);const Sa=Object(Io.g)("a"),Ta=Object(Br.a)("video-modal-share-item"),xa=({shareItemInfo:e,url:t,iconAfterClick:n,title:r,image:i})=>{const{icon:o,tooltipText:a,shareLink:s,onClick:c,color:l}=e,{l10n:u}=Object(Fr.a)(),d=s?s(t,r,i):void 0,[p,b]=Object(H.useState)(!1),m=Object(H.useCallback)(()=>{b(!0),c&&c(t)},[c,t]),h=n&&p?$.a.createElement(n,{svgClassName:Ta("success-icon")}):$.a.createElement(o,{svgClassName:Ta("social-icon")}),f="function"==typeof a?a(p):a,v=f?u(f):"";return d?$.a.createElement(Sa,{onClick:m,href:d,target:"_blank"},$.a.createElement(Io.e,{style:{color:l}},h),$.a.createElement(Io.d,{text:v})):$.a.createElement(Io.c,{onClick:m},$.a.createElement(Io.e,null,h),$.a.createElement(Io.d,{text:v}))},Aa=Object(Br.a)("video-modal-share-popup"),Ia=["vk","facebook","ok","copy"],Pa={x:"right",y:"top",shouldOverlap:{x:!0,y:!1},shifts:{top:10},shouldFlip:!0},Na=e=>{const{className:t,popupPositionX:n="left",popupPositionY:r="top",url:i,title:o,image:a}=e,s=Object(H.useMemo)(()=>Object(wa.a)(Ia),[]),c=Object(H.useCallback)(({containerRef:e,toggle:t})=>$.a.createElement("div",{className:Aa("container"),ref:e},$.a.createElement(ja,{onShare:t})),[]),l=Object(H.useMemo)(()=>Object.assign({},Pa,{x:n,y:r}),[n,r]);return $.a.createElement("div",{className:Br.a.mix(Aa(),t)},$.a.createElement(Io.f,{position:l,renderTrigger:c},$.a.createElement(Io.a,null,s.map((e,t)=>$.a.createElement(xa,{shareItemInfo:e,url:i,title:o,image:a,key:t,iconAfterClick:"copy"===e.type?Qo:void 0})))))};n(448);var Ra=n(608);n(450);const La=Object(Br.a)("zen-tag"),Ma=({title:e,href:t})=>$.a.createElement("a",{className:La(),href:t},$.a.createElement("span",{className:La("title")},e));var Ba=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Da="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Fa="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Va="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Fa):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},Ua=2;var za=20,Ha=["top","right","bottom","left","width","height","size","weight"],$a="undefined"!=typeof MutationObserver,Wa=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Va(o)}function s(){var e=Date.now();if(n){if(e-i<Ua)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),za)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){Da&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Da&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Ha.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),qa=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Ga=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Fa},Ka=es(0,0,0,0);function Ya(e){return parseFloat(e)||0}function Za(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+Ya(e["border-"+n+"-width"])},0)}function Qa(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Ka;var r=Ga(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Ya(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Ya(r.width),c=Ya(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Za(r,"left","right")+o),Math.round(c+a)!==n&&(c-=Za(r,"top","bottom")+a)),!function(e){return e===Ga(e).document.documentElement}(e)){var l=Math.round(s+o)-t,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return es(i.left,i.top,s,c)}var Xa="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ga(e).SVGGraphicsElement}:function(e){return e instanceof Ga(e).SVGElement&&"function"==typeof e.getBBox};function Ja(e){return Da?Xa(e)?function(e){var t=e.getBBox();return es(0,0,t.width,t.height)}(e):Qa(e):Ka}function es(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ts=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=es(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Ja(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ns=function(){return function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return qa(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);qa(this,{target:e,contentRect:n})}}(),rs=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Ba,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ga(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ts(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ga(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new ns(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),is="undefined"!=typeof WeakMap?new WeakMap:new Ba,os=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Wa.getInstance(),r=new rs(t,n,this);is.set(this,r)}}();["observe","unobserve","disconnect"].forEach(function(e){os.prototype[e]=function(){var t;return(t=is.get(this))[e].apply(t,arguments)}});var as=void 0!==Fa.ResizeObserver?Fa.ResizeObserver:os;n(223),n(41);const ss=()=>{const e=Object(H.useRef)(null),[t,n]=Object(H.useState)({left:0,top:0,width:0,height:0});return((e,t)=>{Object(H.useEffect)(()=>{const n=e.current;if(!n)return;const r=new as((...e)=>{Object(W.c)(()=>requestAnimationFrame(()=>t(...e)))});return r.observe(n),()=>{n&&r.disconnect()}},[t,e])})(e,([e])=>n(e.contentRect)),[e,t]},cs=Object(Br.a)("video-modal-details"),ls=({description:e,tags:t,isUnfoldedOnMount:n,publicationId:r})=>{const i=Boolean(t&&!e),o=Object(H.useMemo)(()=>e&&((e,t,n=10)=>e.split(/\n+/gi).map(e=>e.split(/[\s]/gi)).map((e,r)=>e.reduce((e,i,o)=>{if(Object(Ke.b)(i))return[...e,$.a.createElement(Ao.a,{className:t,href:i,key:`s-${o}-${r}`},` ${Object(Ke.e)(i,n)} `)];{const[t,...n]=e.reverse();return t?"object"==typeof t?[...n.reverse(),t,i]:[...n.reverse(),`${t||""} ${i}`]:[...n.reverse(),i]}},[])).reduce((e,t,n,r)=>{const i=[...e,...t];return n<r.length-1?[...i,$.a.createElement("br",{key:`br-${n}`})]:i},[]))(e,cs("link")),[e]),[a,s]=Object(H.useState)(!1),[c,l]=Object(H.useState)(!1),u=Object(H.useCallback)(()=>{s(e=>!e),l(!0)},[s]);Object(Gr.a)(()=>{n&&s(e=>!e)}),Object(zi.a)(()=>{l(!1),s(!1)},[r]);const[d,{height:p}]=ss(),b=a?p:20,m=p<=20;let h="";c&&(h=a?"_open-animation":"_close-animation");const f=Object(H.useMemo)(()=>null==t?void 0:t.map(({title:e,alias:t})=>({title:e,href:Object(Ke.f)(t)})),[t]);return $.a.createElement("div",{className:cs({isOpen:a})},$.a.createElement("div",{style:{height:i?void 0:b},className:Br.a.mix(cs("floating-block",{isOpen:a,isUnfoldedOnMount:n}),h)},$.a.createElement("div",{className:cs("details-wrapper"),ref:d},o&&$.a.createElement("div",{className:cs("text",{isOpen:a})},!m&&!a&&$.a.createElement("div",{className:cs("button-unfold-container")},$.a.createElement(Ra.a,{className:cs("button-unfold"),isUnfolded:a,foldedText:"Развернуть",unfoldedText:"Свернуть",onClick:u,isReversed:!0,isHoverAnimationEnabled:!0,isWhite:!0})),o),f&&$.a.createElement("div",{className:cs("tags")},f.map(({title:e,href:t},n)=>$.a.createElement("div",{key:n,className:cs("tag")},$.a.createElement(Ma,{title:e,href:t})))),a&&$.a.createElement("div",{className:cs("button-unfold-container",{isOpen:a})},$.a.createElement(Ra.a,{className:cs("button-unfold"),isUnfolded:a,foldedText:"Развернуть",unfoldedText:"Свернуть",onClick:u,isReversed:!0,isHoverAnimationEnabled:!0,isWhite:!0})))))},us=Object(p.a)(!0),ds=Object(Br.a)("video-modal-description"),ps=e=>{const{source:t,sourceVideo:n,onClose:r,title:i,id:o,itemBlock:a,link:s,image:c,isSocialSubscribeLoginExperiment:l,statObject:u,onAction:d,description:p,tags:b,creationTime:m,subscribersCount:h,subscribersAvatars:f,views:v,isVideoDescriptionEnabled:g,publicationId:y,complaints:O}=e,{l10n:_,lang:k}=Object(Fr.a)(),E=Object(H.useCallback)(()=>{d()},[d]),C={backgroundColor:t.logoBackgroundColor,backgroundImage:`url(${t.logo})`},j=v?`${(e=>String(e).split("").reverse().map((e,t)=>t&&t%3==0?`${e} `:e).reverse().join(""))(v)} ${Object(va.a)((e=>({one:e("publishers.card.stat.view"),two:e("publishers.card.stat.views_2"),five:e("publishers.card.stat.views")}))(_),k,v,()=>"")}`:"",w=v&&m?" • ":"";return $.a.createElement("div",{className:ds()},$.a.createElement("div",{className:ds("head")},$.a.createElement("div",{className:ds("left")},$.a.createElement(Ao.a,{className:ds("domain-logo"),style:C,href:t.feedLink,target:"_blank",onClick:E})),$.a.createElement("div",{className:ds("center")},$.a.createElement(Ao.a,{href:t.feedLink,target:"_blank",className:ds("domain-title"),onClick:E},t.title),$.a.createElement("div",{title:i,className:ds("title-wrapper")},$.a.createElement(Wi.a,{className:ds("title"),isIntersecting$:us},i)),$.a.createElement("div",{className:ds("info")},j,w,m),g&&$.a.createElement(ls,{description:p,tags:b,publicationId:y}),$.a.createElement("div",{className:ds("bottom")},$.a.createElement("div",{className:ds("feedback")},$.a.createElement(xo,{statObject:u,id:o})),$.a.createElement("div",{className:ds("share-block")},$.a.createElement(Na,{url:s,title:i,image:c})))),$.a.createElement("div",{className:ds("right")},$.a.createElement("div",{className:ds("buttons")},l?null:$.a.createElement($.a.Fragment,null,void 0!==h&&f&&$.a.createElement("div",{className:ds("subscribers-count")},$.a.createElement(_a,{size:"s",avatars:f,count:h,withLabel:!1,avatarStyle:{borderColor:"#292b3a"},labelColor:"#d4cbce",isBoldCount:!1,isSmallLabel:!0,isDenseAvatars:!0})),$.a.createElement(lo.a,{statObject:u,source:t,isVisible:!0,style:"subscribed"===t.status?{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)",padding:"0 15px"}:{backgroundColor:"#f3f1ed",color:"#000",padding:"0 15px"},triggerEvent:"click",isMobile:!1,className:ds("subscribe-button"),unsubscribeLabel:_("desktop.subscribed")})),$.a.createElement(fa,{title:i,id:o,statObject:u,sourceChannel:t,sourceVideo:n,itemBlock:a,onClose:r,complaints:O})))))};var bs=n(132),ms=n(86),hs=(n(445),n(603));const fs=Object(Br.a)("video-next-preview"),vs=({nextVideoData:e,timeout:t,onSwitchNext:n,onCancel:r})=>{const{title:i,image:o,channelName:a,feedLink:s}=e,{l10n:c}=Object(Fr.a)(),l=o?`url(${o})`:void 0;return $.a.createElement("div",{className:fs(),style:{backgroundImage:l}},$.a.createElement("div",{className:fs("fade")}),$.a.createElement("div",{className:fs("container")},$.a.createElement("div",{className:fs("info")},$.a.createElement("div",{className:fs("text")},c("desktop.next_video")),$.a.createElement("div",{className:fs("name")},i),$.a.createElement("div",{className:fs("text")},$.a.createElement(Ao.a,{className:fs("link"),href:s,target:"_blank"},a))),$.a.createElement("div",{className:fs("play-btn")},$.a.createElement(hs.a,{isPlayNext:!0,onFinish:n,onClick:n,isPauseCountDown:!1,seconds:t,radius:40,strokeWidth:2})),$.a.createElement("div",{className:fs("cancel-btn"),onClick:r},c("desktop.cancel"))))};var gs=n(87),ys=n(106);const Os=Object(Br.a)("video-modal-desktop");const _s={toggleVideoModal:Vi.e,itemBlock:wo.a,setVideoCallToActionShown:ms.b,setVideoCallToActionWrapped:ms.c,getVideoCallToActionWidgetPrice:ms.a,getVideoPopupData:Vi.b,switchToNextVideo:Vi.d},ks=Object(q.d)(({zenApi:e})=>({zenApi:e}))(Object(W.d)(()=>{const e=Object(si.b)(),t=Object(bs.a)();return(n,{openedItemId:r,startPosition:i})=>{const{auth:o}=n,a=null==o?void 0:o.info,s=a&&a.isAuthorized,{videoFeed:c,videoPopupDataMap:l}=n.videoModal,u=c[r],{complaints:d}=n.params,{subscribeLoginPopupMessage:p,videoCallToActionTimestamp:b,videoCallToActionWrapTime:m,videoPlayerApiVersion:h,isVideoDescriptionEnabled:f,isNextVideoTimerEnabled:v,nextVideoTimerTimeout:g}=Object(ji.a)(n),y=Object(ys.d)(n),O=Boolean(n.context.browserName)&&"MSIE"===n.context.browserName,_=e(n,u.source),k=e(n,u),{title:E,id:C,video:j,link:w,image:S,callToAction:T,isCallToActionShown:x,isCallToActionWrapped:A,modelPrice:I,publicationId:P,publisherId:N}=u,R=t(n,C),L=Object(bs.b)(n),M=!s&&p!==gs.a.empty,B=P.replace("gif:","");return{title:E,id:C,video:j,startPosition:i,isIE:O,source:_,sourceVideo:k,link:w,image:S,isSocialSubscribeLoginExperiment:M,videoCallToActionTimestamp:b,videoCallToActionWrapTime:m,callToAction:T,isCallToActionShown:x,isCallToActionWrapped:A,modelPrice:I,videoPlayerApiVersion:h,statObject:R,isVideoDescriptionEnabled:f,videoPopupData:l[B],publisherId:N,publicationId:B,complaints:d,isAdBlockPlayerBundle:y,nextVideoData:L,isNextVideoTimerEnabled:v,nextVideoTimerTimeout:g}}},_s)(class extends H.PureComponent{constructor(...e){var t;return t=super(...e),this.commentsContainerParentRef=Object(H.createRef)(),this.state={paused:!1,isNextVideoPreviewVisible:!1},this.close=(()=>{var e;const{toggleVideoModal:t,onVideoPause:n}=this.props,{paused:r}=this.state;r||n(),t(void 0,(null===(e=this.playerApi)||void 0===e?void 0:e.getCurrentTime())||0)}),this.onReady=(()=>{const{onVideoPlay:e}=this.props;e(),this.setState({paused:!1})}),this.handleInitPlayerApi=(e=>{this.playerApi=e}),this.onUserAction=(e=>{if(e.name!==co.b.PLAY_BUTTON_CLICK||!e.data)return;const{state:t}=e.data;switch(t){case"play":this.setState({paused:!1});break;case"pause":this.setState({paused:!0})}}),this.handleCallToActionShow=(()=>{const{isCallToActionShown:e,callToAction:t,onCall2ActionShow:n,id:r,setVideoCallToActionShown:i}=this.props;if(!e&&t){const{urlType:e}=t;n({urlType:e}),i(r)}}),this.handleWrapCallToAction=(()=>{const{id:e,setVideoCallToActionWrapped:t,isCallToActionWrapped:n}=this.props;n||t(e)}),this.handleEndVideo=(e=>{const{onVideoEnd:t,isNextVideoTimerEnabled:n}=this.props;t(e),n&&this.setState({isNextVideoPreviewVisible:!0,paused:!0})}),this.hideNextVideoPreview=(()=>{this.setState({isNextVideoPreviewVisible:!1,paused:!1})}),this.handleSwitchNextVideo=(()=>{const{switchToNextVideo:e}=this.props;this.hideNextVideoPreview(),e()}),this.renderPlayer=(()=>{const{video:e,isIE:t,startPosition:n,videoCallToActionTimestamp:r,videoCallToActionWrapTime:i,isCallToActionShown:o,isCallToActionWrapped:a,modelPrice:s,callToAction:c,onVideoPlay:l,onVideoAutoplay:u,onVideoSoundOff:d,onVideoSoundOn:p,onCall2ActionClick:b,onVideoReplay:m,onVideoHeartbeat:h,onVideoPause:f,onVideoAutoplayOn:v,onVideoAutoplayOff:g,onShow:y,onClick:O,videoPlayerApiVersion:_,isAdBlockPlayerBundle:k,isNextVideoTimerEnabled:E}=this.props,{hasSound:C}=e,{paused:j}=this.state,w=["timeline","preloader"];C||w.push("sound");const S={video:e,startPosition:n,shouldInitPlayer:!0,hidden:w.join(","),hiddenForLongVideo:"preloader",handlers:{onReady:this.onReady,onUserAction:this.onUserAction},objectFit:"contain",paused:j,onVideoPlay:l,onVideoEnd:this.handleEndVideo,onVideoAutoplay:u,onVideoSoundOff:d,onVideoSoundOn:p,onCall2ActionClick:b,onCall2ActionShow:this.handleCallToActionShow,onCall2ActionWrap:this.handleWrapCallToAction,onVideoReplay:m,onVideoHeartbeat:h,onVideoPause:f,onVideoAutoplayOn:v,onVideoAutoplayOff:g,onShow:y,onClick:O,destroyTimeout:0,isIE:t,hasPreroll:!1,isFullscreen:!0,videoCallToActionTimestamp:r,videoCallToActionWrapTime:i,callToAction:c,isCallToActionShown:o,isCallToActionWrapped:a,modelPrice:s,onInitPlayerApi:this.handleInitPlayerApi,videoPlayerApiVersion:_,isAdBlockPlayerBundle:k,isLooped:!E};return $.a.createElement(Fi.a,Object(ai.a)({className:Os("player")},S))}),this.renderBody=(()=>{const{id:e,title:t,source:n,sourceVideo:r,itemBlock:i,link:o,image:a,isSocialSubscribeLoginExperiment:s,statObject:c,onVideoAction:l,isVideoDescriptionEnabled:u,videoPopupData:d,publicationId:p,complaints:b,video:m,nextVideoData:h,nextVideoTimerTimeout:f}=this.props,{views:v}=m,{snippet:g,tags:y,publisherSubscriptions:O}=d||{},{isNextVideoPreviewVisible:_}=this.state;return $.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:Os("content-wrapper"),ref:this.commentsContainerParentRef},$.a.createElement("div",{className:Os("player-wrapper")},this.renderPlayer(),_&&h&&$.a.createElement("div",{className:Os("preview-wrapper")},$.a.createElement(vs,{nextVideoData:h,timeout:f,onSwitchNext:this.handleSwitchNextVideo,onCancel:this.hideNextVideoPreview}))),$.a.createElement(ps,{id:e,title:t,source:n,sourceVideo:r,onAction:l,statObject:c,onClose:this.close,itemBlock:i,link:o,image:a,isSocialSubscribeLoginExperiment:s,isVideoDescriptionEnabled:u,description:g,tags:y,subscribersCount:O,views:v,publicationId:p,complaints:b}),this.commentsContainerParentRef.current?$.a.createElement(so,{commentsContainerParentRef:this.commentsContainerParentRef.current}):null),$.a.createElement(no,null))}),t}componentDidMount(){const{getVideoPopupData:e,getVideoCallToActionWidgetPrice:t,videoPopupData:n,publicationId:r,publisherId:i,isVideoDescriptionEnabled:o,callToAction:a,modelPrice:s,id:c}=this.props;o&&!n&&e(i,r),a&&a.priceUrl&&!s&&t(c,a.priceUrl),this.setState({paused:!1})}componentDidUpdate(e){const{publicationId:t,isVideoDescriptionEnabled:n,publisherId:r,getVideoPopupData:i,getVideoCallToActionWidgetPrice:o,callToAction:a,modelPrice:s,id:c}=this.props,{isNextVideoPreviewVisible:l}=this.state,{publicationId:u}=e;n&&t!==u&&i(r,t),a&&!s&&a.priceUrl&&t!==u&&o(c,a.priceUrl),t!==u&&l&&this.hideNextVideoPreview()}render(){return $.a.createElement(Di.a,{close:this.close,isOpen:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!0,className:Os()},$.a.createElement("div",{className:Os("wrapper")},this.renderBody()))}}));var Es=n(74),Cs=n(117),js=n(70),ws=n(71);const Ss=Object(W.d)(({videoModal:e})=>({openedItemId:e.openedItemId,startPosition:e.startPosition}))(({openedItemId:e,startPosition:t})=>{const{statEvents:n,bulkParams:r}=Object(W.g)(t=>{var n,r;const{videoFeed:i}=t.videoModal,o=e?i[e]:{},a=(null===(n=o.statParams)||void 0===n?void 0:n.modal.bulkParams)||o.bulkParams;return{statEvents:(null===(r=o.statParams)||void 0===r?void 0:r.modal.statEvents)||o.statEvents,bulkParams:a}},Es.a),i=Object(H.useMemo)(()=>({statEvents:n,bulkParams:r}),[n,r]),{statItemVideoPlay:o,statItemVideoEnd:a,statItemVideoAutoplay:s,statItemVideoSoundOff:c,statItemVideoSoundOn:l,statItemCall2ActionClick:u,statItemCall2ActionShow:d,statItemVideoReplay:p,statItemVideoHeartbeat:b,statItemVideoPause:m,statItemVideoAutoplayOn:h,statItemVideoAutoplayOff:f,statItemVideoAction:v}=Object(Cs.a)(i),g=Object(js.a)(i),y=Object(ws.a)(i);return e?$.a.createElement(ks,{openedItemId:e,startPosition:t,onVideoPlay:o,onVideoEnd:a,onVideoAutoplay:s,onVideoSoundOff:c,onVideoSoundOn:l,onCall2ActionClick:u,onCall2ActionShow:d,onVideoReplay:p,onVideoHeartbeat:b,onVideoPause:m,onVideoAutoplayOn:h,onVideoAutoplayOff:f,onVideoAction:v,onShow:g,onClick:y}):null}),Ts=Object(Br.a)("zen-page"),xs=(e,t)=>{switch(t.type){case ie.V:{const{feedback:n}=t.payload;return Object.assign({},e,{feedback:n})}case ie.A:case ie.B:return Object.assign({},e,{feedback:"disliked"});case ie.y:return Object.assign({},e,{feedback:"blocked"});case ie.z:return Object.assign({},e,{feedback:null,complaintsState:null});case ie.w:return Object.assign({},e,{complaintsState:"opened"});case ie.x:return Object.assign({},e,{complaintsState:"sended",complaintsSentAt:e.feedback});case ie.v:return Object.assign({},e,{complaintsState:null,complaintsSentAt:null});case ie.C:{const t=Number(e.mittensJumpAnimationKey)+1;return Object.assign({},e,{mittensJumpAnimationKey:t})}case ie.Q:{const{answerId:n,questionId:r,value:i}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:o=[]}=e.customUserFeedbackData,a=o.findIndex(({id:e})=>e===r);if(-1===a||!o[a])return e;const s=o[a].answers.findIndex(({id:e})=>e===n);if(a<0)return e;const c=["customUserFeedbackData","questions",a,"answers",s,"isChecked"];return cr.a.set(e,c,i)}case ie.P:{const{questionId:n}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:r=[]}=e.customUserFeedbackData,i=r.findIndex(({id:e})=>e===n);if(i<0)return e;const o=["customUserFeedbackData","questions",i,"answers"],a=(cr.a.get(e,o)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return cr.a.set(e,o,a)}default:return e}};var As=n(72);const Is=Object(As.a)(xs,(e,t)=>{switch(t.type){case ie.m:return Object.assign({},e,{read:!0});case ie.l:return Object.assign({},e,{subscribeTriggerEvent:"click"});case ie.V:return"liked"===t.payload.feedback?Object.assign({},e,{subscribeTriggerEvent:"feedback_more"}):e;default:return e}}),Ps=Object(As.a)(xs,(e,t)=>{switch(t.type){case ie.ec:return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case ie.gc:return Object.assign({},e,{started:!0,paused:!1});case ie.fc:case ie.A:case ie.B:return Object.assign({},e,{started:!1,paused:!0});case ie.hc:{const{paused:n,isFullScreen:r}=t.payload;return Object.assign({},e,{started:!0,paused:n,isFullScreen:r})}case ie.Ob:return Object.assign({},e,{isCallToActionShown:!0});case ie.Qb:return Object.assign({},e,{isCallToActionWrapped:!0});case ie.Pb:{const{modelPrice:n}=t.payload;return Object.assign({},e,{modelPrice:n})}default:return e}}),Ns=(e,t)=>{switch(t.type){case ie.p:{if(t.payload.status!==qe.a.Success)return e;const{source:n}=t.payload.value;return Object.assign({},e,{author:{name:n.title,avatarUrl:n.logo}})}default:return e}},Rs=Object(As.a)(xs,(e,t)=>{switch(t.type){case ie.j:{const{items:n,hidden:r}=e,{itemId:i}=t.payload,o=n.map(e=>e.id===i?Object.assign({},e,{hidden:!0}):e);return Object.assign({},e,{hidden:r||o.every(e=>e.hidden),items:o})}case ie.i:return Object.assign({},e,{hidden:!0});default:return e}}),Ls=(e,t)=>{switch(t.type){case ie.a:return Object.assign({},e,{isDisplayScenariosAccepted:!0});default:return e}},Ms=Object(As.a)(Ls,(e,t)=>(t.type,e)),Bs=Object(As.a)(Ls,(e,t)=>(t.type,e)),Ds={[fe.e.TEXT]:Is,[fe.e.IMAGE]:Is,[fe.e.GALLERY]:Is,[fe.e.POST]:Is,[fe.e.FEATURING_PROMO]:Is,[fe.e.GIF]:Ps,[fe.e.FEATURING_CAROUSEL]:Rs,[fe.e.PERSONAL_CAROUSEL]:Rs,[fe.e.CONTENT_CAROUSEL]:Rs,[fe.e.FEEDBACK_SUGGEST]:Ms,[fe.e.LEARN_BLOCK_INTERESTS]:Bs,[fe.e.COMMENT]:Ns},Fs=(e,t)=>e.type in Ds?Ds[e.type](e,t):e,Vs=(e,t)=>t.reduce((e,[t,...n])=>cr.a[t](e,...n),e),Us={gridType:fe.c.TWO_COLUMNS,items:{},replaceQueue:[],itemsOrder:[],displayedRowsNumber:0,countRowsBeforeBlock:-1,isChildWindow:!1,isBlocked:!1,flipKey:0,uniqItemIdCounterKostyl:0,topPackId:void 0,visibleFeedRows:{}},zs=(e,t,n)=>{const r=e.items,i={};let o=!1;for(let e=0;e<n.length;e++){const a=n[e];if("string"!=typeof a)continue;const s=r[a];s&&(i[a]=Fs(s,t),s!==i[a]&&(o=!0))}return o?Object.assign({},e,{items:Object.assign({},r,i)}):e},Hs=(e,t,n)=>((e,t,n,r=!0)=>{const i=e.indexOf(n),o=Number(r);if(-1===i)throw new Error("Array not contains item.");return e.slice(0,i+o).concat(...t,e.slice(i+o))})(e,t,n,!0);var $s=n(67);const Ws={isBodyScrollEnabled:!0,isVideoAutoplayEnabled:void 0,isOpenCardScrollEnabled:!0,isVideoMuted:Object($s.b)(),isCardVideoMuted:!0,smsTooltipVisible:!1,feedLoadingProgressVisible:!1,blockFeedBannerVisible:!1,isAdfoxSmartVisible:!1,isChildWindow:!1,nativeNavBarEnabled:!1,isSiteActive:!1,isArticleDeleted:!1,shownReaction:{like:!1,dislike:!1,click:!1}},qs={notifiersOffsetModeTop:qe.k.Header,currentNotifierButton:null,isNotifiersDisabled:!1,isAppButtonTimeout:!0},Gs={checkedSources:[]};var Ks=n(193);const Ys=(e,t)=>Object(fr.a)(t).reduce((e,n)=>{const r=((e,t)=>{const n=e[t];if(void 0!==n)return n;for(const n of Object.values(e))if(n&&[n.id,n.publicId].includes(t))return n})(e,n),i=r&&r.id||n;return e[i]=["id","publicId","status","subscribers","feedback","isUnsubscribedInCurrentSession","isSubscribedInCurrentSession","isUnblockedInCurrentSession","complaintReasons","subscriptionForbidden"].reduce((e,n)=>void 0!==t[i][n]?Object.assign({},e,{[n]:t[i][n]}):e,Object.assign({},e[i])),e},Object.assign({},e)),Zs=Object(Ks.a)(Object(As.a)((e,t)=>{switch(t.type){case ie.E:{const{payload:n}=t;return Ys(e,{[n.strongestId]:n.data})}case ie.D:{const{payload:n}=t;return n&&n.status===qe.d.Ok?Ys(e,{[n.source.id]:n.source}):e}case ie.Nb:case ie.Ib:case ie.Hb:{if(t.payload.status!==qe.a.Success)return e;const n=t.payload.value,r=t.__data__&&t.__data__.selfUserId,i=!([ie.Nb,ie.Hb].includes(t.type)&&t.payload.id===r),o=i?e:Object(ze.c)(e,e=>"not_subscribed"===e.status?e:Object.assign({},e,{status:"not_subscribed"}));if(n){const e=n.map(e=>{const t=i?o[e.id]?o[e.id].status:"not_subscribed":e.status;return Object.assign({},e,{status:t})}),t=Object(ze.a)(e,e=>e.id);return Ys(o,t)}return o}case ie.Lb:{if(t.payload.status!==qe.a.Success)return e;if(Object(St.a)(t.payload.value))return e;const{source:n}=t.payload.value,r=e[n.id]?e[n.id].status:"not_subscribed";return Ys(e,{[n.id]:Object.assign({},n,{status:r})})}case ie.f:case ie.e:{const{sources:n}=t.payload;if(n){const t=Object(ze.a)(n,e=>e.id);return Ys(e,t)}return e}case ie.M:{const n=t.payload;if(n){const t=Object(ze.a)(n,e=>e.id);return Ys(e,t)}return e}case ie.d:{const{exportData:n}=t.payload,{onboardingInterests:r,pinnedCarousel:i}=n,o=[...r?r.sources:[],...i?i.items.map(e=>e.source):[]],a=Object(ze.a)(o,e=>e.id);return Ys(e,a)}case ie.bc:{const{sources:n={}}=t.payload;return Ys(e,n)}case ie.J:{const{items:n=[]}=t.payload,r=n.reduce((t,n)=>n.type===fe.e.IMAGE||n.type===fe.e.TEXT?t:(n.type!==fe.e.FEATURING_CAROUSEL&&n.type!==fe.e.PERSONAL_CAROUSEL||n.items.forEach(({source:n,bulkParams:r,statEvents:i})=>{n&&(e[n.id]?t[n.id]=Object.assign({},e[n.id],n,{statEvents:i,bulkParams:r}):t[n.id]=Object.assign({},n,{statEvents:i,bulkParams:r}))}),n.type===fe.e.CONTENT_CAROUSEL&&n.items.forEach(({source:n,statEvents:r,bulkParams:i})=>{n&&(e[n.id]?t[n.id]=Object.assign({},e[n.id],n,{statEvents:r,bulkParams:i}):t[n.id]=Object.assign({},n,{statEvents:r,bulkParams:i}))}),"source"in n&&n.source&&!e[n.source.id]&&!t[n.source.id]?(t[n.source.id]=Object.assign({},n.source,{statEvents:"statEvents"in n.source&&n.source.statEvents||n.statEvents,bulkParams:"bulkParams"in n.source&&n.source.bulkParams||n.bulkParams}),t):t),{});return Ys(e,r)}default:return e}},((e,t)=>(n={},r)=>{const i=e(r);if(void 0===i)return n;const o=t(n[i],r);return n[i]!==o?Object.assign({},n,{[i]:o}):n})(e=>"isSourceAction"in e&&e.isSourceAction?e.payload.id:void 0,(e,t)=>{switch(t.type){case ie.Ab:return Object.assign({},e,{status:"subscribed",subscribers:(e&&e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case ie.Cb:return Object.assign({},e,{status:"not_subscribed",subscribers:(e&&e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case ie.xb:{const t=e&&"subscribed"===e.status?(e&&e.subscribers||0)-1:e&&e.subscribers;return Object.assign({},e,{status:"blocked",subscribers:t})}case ie.Bb:return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case ie.yb:return Object.assign({},e,{feedback:"disliked"});case ie.zb:return Object.assign({},e,{complaintReasons:t.payload.reasons});default:return e}})),{});var Qs=n(235);const Xs={openedItemId:null,videoFeed:{},videoPopupDataMap:{},itemsOrder:[],displayedRowsNumber:1},Js={},ec={status:qe.d.Feed},tc=e=>t=>void 0===t?Object(Ft.b)(e)?e():e:t,nc=tc({login:null,logout:null,login_tmpl:null,logout_tmpl:null,registration_tmpl:null,[U.a.Onboarding]:null,[U.a.Export]:null,[U.a.Layout]:null,[U.a.More]:null,[U.a.Bulk]:null,[U.a.Subs]:null,[U.a.Profile]:null,[U.a.Blocked]:null,[U.a.Preferences]:null,[U.a.Subscribers]:null,[U.a.Categories]:null,[U.a.Category]:null,[U.a.Suggest]:null,[U.a.Multisearch]:null,[U.a.BlockedSuggest]:null,[U.a.VideoRecommend]:null,[U.a.GetVideoPopupData]:null,[U.a.CountryLang]:null,[U.a.CommentsCounter]:null,[U.a.CommentsInfos]:null,[U.a.SocialActivityFeed]:null,[U.a.ClientLogs]:null,[U.a.PublisherConfig]:null,[U.a.SendAppLinkSms]:null,[U.a.SocialProfile]:null,[U.a.SocialProfileEdit]:null,[U.a.ProfileCompleteOnboarding]:null,[U.a.ProfileDeactivate]:null,[U.a.ProfileCancelDeactivate]:null,[U.a.CurrentUserInterests]:null,[U.a.CurrentUserSubscriptions]:null,[U.a.Teasers]:null,[U.a.SupportLink]:null,[U.a.AllChannelsLink]:null,[U.a.AdArticle]:null}),rc=tc({host:"https://zen.yandex.ru/",clid:void 0,countryCode:"ru",integration:null,product:"",tld:"ru",lang:"ru",isIceStart:!1,shouldCleanCacheOnFeedback:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:{reasons:[],link:"https://yandex.ru/support/abuse/troubleshooting/zen/list.html"},bannerStats:null,bulk:{bulk_params:"",stat_events:{}},withFloatingLinks:Boolean(!1),isTeethEnabled:void 0,isMobile:void 0,isSpecificCardRequest:void 0,isWebview:void 0,areLinksDisabled:void 0,currentUrl:void 0,isSpaApp:!1,groupIds:"",feedType:qe.f.Main}),ic=tc({scrollToID:void 0}),oc=tc({}),ac=tc({}),sc={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null},cc=(e=>(t,n)=>{switch(n.type){case ie.F:{const{branchName:e,branchState:r}=n.payload,i=Object(fr.a)(r).reduce((e,t)=>(void 0!==r[t]&&(e[t]=r[t]),e),{});return Object.assign({},t,{[e]:Object.assign({},t&&t[e],i)})}default:return e(t,n)}})(Object(Sr.a)({feed:(e=Us,t)=>{switch(t.type){case ie.u:{const{item:n,afterId:r}=t.payload;return Vs(e,[["set",["items",n.id],n],["set","itemsOrder",e=>Hs(e,[n.id],r)]])}case ie.K:{const{itemId:n}=t.payload,r=e.itemsOrder.indexOf(n);return Vs(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case ie.t:{const{afterId:n,itemIdsList:r}=t.payload;return Vs(e,[["set","itemsOrder",e=>Hs(e,r,n)]])}case ie.p:{if(t.payload.status!==qe.a.Success)return e;const n=Object(fr.a)(e.items);return Array.isArray(n)?zs(e,t,n):e}case ie.J:{const{items:n,insertOnTop:r,shouldRefreshFeed:i,shouldAddToItemsOrder:o=!0}=t.payload,a=Object.keys(e.items),s={},c=[];let l=e.uniqItemIdCounterKostyl;const{replaceQueue:u}=e;let d=i?[]:[...u];if(n.forEach(t=>{let n;a.includes(t.id)||c.includes(t.id)?(n=`${t.id}_${++l}`,console.warn(`Non unique item: ${t.id}, ${"title"in t?t.title:"no title"}, replaced to ${n}`)):n=t.id;const r=(({item:e,itemId:t,nextReplaceQueue:n})=>{const{ad:r,topAd:i,type:o,image:a,bidFloor:s,packId:c,cacheId:l,pos:u}=e,d=`${t}_${o}`;if(r)switch(r.type){case"direct":{const e=[...n].sort((e,t)=>t.bidFloor-e.bidFloor),o=e.length>0&&e[0],p=o&&o.bidFloor>(s||0);return{replacementId:d,newReplaceQueue:p?[...e.slice(1),{id:d,bidFloor:s||0}]:void 0,adCard:{ad:r,topAd:i,id:t,image:a,pos:u,packId:c,cacheId:l,type:fe.e.RTB,replaceWith:p&&o?o.id:d,bidFloor:p&&o?o.bidFloor:s}}}case"adsense":return{replacementId:d,adCard:{ad:r,packId:c,cacheId:l,id:t,image:a,replaceWith:d,type:fe.e.ADSENSE}}}})({item:t,itemId:n,nextReplaceQueue:d});if(r){const{replacementId:i,adCard:o,newReplaceQueue:a}=r,{replaceWith:c}=o;a&&(d=[...a]),s[n]=Object.assign({},o),s[i]=Object.assign({},t,{id:i}),c!==i&&(s[c]=Object.assign({},e.items[c]||s[c],{pos:t.pos}))}else s[n]=Object.assign({},t,{id:n});c.push(n)}),i)return Object.assign({},e,{items:s,itemsOrder:c,uniqItemIdCounterKostyl:l,replaceQueue:d});const p=Object.assign({},e.items,s),b=o?r?[...c,...e.itemsOrder]:[...e.itemsOrder,...c]:e.itemsOrder;return Object.assign({},e,{items:p,itemsOrder:b,uniqItemIdCounterKostyl:l,replaceQueue:d})}case ie.X:{const{itemId:n,childItemId:r}=t.payload;return cr.a.set(e,["items",n,"childItemId"],r)}case ie.jb:{const{newItemsOrder:n}=t.payload;return Object.assign({},e,{itemsOrder:n})}case ie.pb:{const{replaceQueue:n}=t.payload;return Object.assign({},e,{replaceQueue:n})}case ie.hb:{const{gridType:n}=t.payload;return Object.assign({},e,{gridType:n})}case ie.fb:{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}case ie.h:return Us;case ie.bb:{const{countRowsBeforeBlock:n}=t.payload;return Object.assign({},e,{countRowsBeforeBlock:n})}case ie.L:{const{itemId:n}=t.payload;return cr.a.set(e,["items",n,"similarLink"],void 0)}case ie.Fb:return Object.assign({},e,{flipKey:e.flipKey+1});case ie.rb:{const{packId:n}=t.payload;return Object.assign({},e,{topPackId:n})}case ie.Gb:{const{rowIndex:n,isVisible:r}=t.payload,i=Object.assign({},e.visibleFeedRows);return r?i[n]=!0:delete i[n],Object.assign({},e,{visibleFeedRows:i})}default:{if(!("payload"in t&&t.payload&&"object"==typeof t.payload))return e;const n="id"in t.payload&&t.payload.id,r="ids"in t.payload&&t.payload.ids;if("string"==typeof n){const r=e.items[n];if(!r)return e;const i=Fs(r,t);return r!==i?cr.a.set(e,["items",n],i):e}return Array.isArray(r)?zs(e,t,r):e}}},iface:(e=Ws,t)=>{switch(t.type){case ie.ib:return Object.assign({},e,{isChildWindow:t.payload});case ie.U:return Object.assign({},e,{isBodyScrollEnabled:t.payload});case ie.sb:return Object.assign({},e,{isVideoAutoplayEnabled:t.payload});case ie.ub:return Object.assign({},e,{isVideoMuted:t.payload});case ie.W:return Object.assign({},e,{isCardVideoMuted:t.payload});case ie.nb:return Object.assign({},e,{isOpenCardScrollEnabled:t.payload});case ie.gb:{const{payload:n}=t;return Object.assign({},e,{smsTooltipVisible:!1,feedLoadingProgressVisible:Boolean(n)})}case ie.qb:{const{payload:n}=t;return Object.assign({},e,{smsTooltipVisible:Boolean(n)})}case ie.T:{const{payload:n}=t;return Object.assign({},e,{blockFeedBannerVisible:Boolean(n)})}case ie.O:case ie.N:{const{payload:n}=t;return Object.assign({},e,{isAdfoxSmartVisible:Boolean(n)})}case ie.kb:{const{enabled:n}=t.payload;return Object.assign({},e,{nativeNavBarEnabled:n})}case ie.Db:{const{payload:n}=t;return Object.assign({},e,{isSiteActive:n})}case ie.S:return Object.assign({},e,{isArticleDeleted:!e.isArticleDeleted});case ie.ob:return Object.assign({},e,{shownReaction:Object.assign({},e.shownReaction,{[t.payload]:!0})});default:return e}},notifiers:(e=qs,t)=>{switch(t.type){case ie.db:return Object.assign({},e,{currentNotifierButton:t.payload});case ie.mb:return Object.assign({},e,{notifiersOffsetModeTop:t.payload});case ie.R:return Object.assign({},e,{isAppButtonTimeout:t.payload});case ie.lb:return Object.assign({},e,{isNotifiersDisabled:t.payload});default:return e}},iceboarding:(e=Gs,t)=>{switch(t.type){case ie.g:{const{id:n}=t.payload,{checkedSources:r}=e;return{checkedSources:[...r,n]}}case ie.Eb:{const{id:n}=t.payload,{checkedSources:r}=e,i=r.slice(0);return i.splice(r.indexOf(n),1),{checkedSources:i}}default:return e}},links:nc,channel:(e=ec,t)=>{switch(t.type){case ie.D:return t.payload;case ie.Lb:{if(t.payload.status!==qe.a.Success)return e;const n=t.payload.value.source,{status:r}=e,i=e.source&&e.source.id,o=e.source&&e.source.type;return r===qe.d.Ok&&i===n.id&&"user"===o?{status:r,source:n}:e}default:return e}},params:rc,shared:ic,context:oc,user:(e=sc,t)=>{switch(t.type){case ie.d:{const{exportData:n,currentTime:r}=t.payload,{user:i}=n,{serverTime:o}=i;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,i.lastSawFeed),serverTime:o,serverTimeDiff:o?o-r:0})}case ie.s:{const{currentTime:n}=t.payload,{serverTime:r}=e;return Object.assign({},e,{serverTimeDiff:r?r-n:0})}default:return e}},sources:Zs,request:ac,videoCards:Qs.b,videoModal:(e=Xs,t)=>{switch(t.type){case ie.cc:{const{openedItem:n,startPosition:r,playerRect:i}=t.payload,o=n&&n.id;return Object.assign({},e,{openedItemId:o,startPosition:r,videoFeed:o?{[o]:n}:{},itemsOrder:o?[o]:[],playerRect:i,displayedRowsNumber:o?e.displayedRowsNumber:Xs.displayedRowsNumber})}case ie.Zb:{const{openedItemId:n}=t.payload;return Object.assign({},e,{openedItemId:n,startPosition:void 0})}case ie.ac:{const{videoFeed:n,itemsOrder:r}=t.payload,i=r.filter(t=>!e.itemsOrder.includes(t)),o=Object.assign({},n,e.videoFeed);return Object.assign({},e,{videoFeed:o,itemsOrder:[...e.itemsOrder,...i]})}case ie.dc:{const{videoPopupData:n,publicationId:r}=t.payload;return Object.assign({},e,{videoPopupDataMap:{[r]:n}})}case ie.tb:{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}default:{if(!("payload"in t&&t.payload&&"object"==typeof t.payload))return e;const n="id"in t.payload&&t.payload.id;if("string"!=typeof n)return e;if(!n||!e.videoFeed[n])return e;const r=e.videoFeed[n],i=Fs(r,t);return r!==i?cr.a.set(e,["videoFeed",n],i):e}}},commentsData:(e=Js,t)=>{switch(t.type){case ie.Z:{const n={};return Object.entries(t.payload).forEach(([e,t])=>{t&&(n[e]=Object.assign({},t,{state:{mounted:!1}}))}),Object.assign({},e,n)}case ie.r:return Object.assign({},e,{commentsContent:t.payload});case ie.ab:{const{payload:n}=t;return Object.assign({},e,{[n.id]:Object.assign({},e[n.id],{state:n.state})})}default:return e}},pinnedCarousel:(e=null,t)=>{switch(t.type){case ie.d:{const{exportData:e}=t.payload;return e.pinnedCarousel?Object.assign({},e.pinnedCarousel):null}default:return e}}})),lc={"__LANG__":"ru","desktop.unsubscribe":"Отписаться","desktop.subscribe":"Подписаться","feedback.dislike_select.saved":"Выбор сохранён","feedback.official_complain_url_text":"Сообщить о нарушении прав","feedback.block":"Заблокировать %domain","feedback.feedback_to_dislike_title":"Публикация скрыта","feedback.feedback_to_dislike_desc":"Вы будете видеть меньше подобных публикаций в своей ленте.","feedback.complain":"Пожаловаться","v2.cancel":"Отменить","feedback.feedback_to_block_title":"Источник заблокирован","feedback.feedback_to_block_desc":"Вы не будете видеть публикации %source в своей ленте.","feedback.complain_reason":"Причина жалобы","feedback.complain_close":"Закрыть","feedback.complain_send":"Отправить","feedback.thanks":"Спасибо!","feedback.complained":"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте.","desktop.share.copied":"Скопировано","desktop.share.copy":"Скопировать","desktop.share.facebook":"Facebook","desktop.share.ok":"Одноклассники","desktop.share.vk":"VK","feedback.menu.share.title":"Поделиться","feedback.menu.dislike.title":"Не нравится","feedback.menu.dislike.subtitle":"Показывать меньше подобных публикаций","feedback.menu.block.title":"Заблокировать канал","feedback.menu.block.subtitle":"Больше не показывать публикации «$1»","feedback.menu.unsubscribe.title":"Отписаться от канала","feedback.menu.subscribe.title":"Подписаться на канал","feedback.menu.unsubscribe.subtitle":"Вы будете видеть меньше публикаций «$1»","feedback.menu.subscribe.subtitle":"Вы будете видеть больше публикаций «$1»","feedback.menu.complain.title":"Пожаловаться","mobile.video.no_sound":"Видео без звука","desktop.video_player.load_error":"Видео не удалось загрузить.","desktop.video_player.load_try_again":"Попробуйте ещё раз","common.video.products_count.one":"Товар в видео","mobile.video.unmute":"Включить звук","mobile.video.mute":"Выключить звук","desktop.direct":"Яндекс.Директ","desktop.direct_go":"Перейти","api.v3.launcher.onboarding.title_domain":"Отметьте интересные источники","api.v3.launcher.onboarding.description_domain":"В ленте будет больше публикаций с этих сайтов","onboarding.more_sources":"Показать больше источников","desktop.sharing_error":"Не удалось поделиться. Попробуйте позже.","desktop.ad_box":"реклама","desktop.feed.updating":"Обновляем ленту","channel.channel.no_publications":"Нет публикаций","common.comment_on":"Комментарий к публикации","common.liked":"Понравилось","desktop.video.no_docs":"Не удалось загрузить рекомендуемые видео","desktop.see_also":"Смотрите также","feedback.complain_violence":"Насилие, шок-контент","feedback.complain_fake":"Ложная информация или фейк","feedback.complain_insulting":"Враждебные или оскорбительные высказывания","feedback.complain_porno":"Непристойное содержание, порнография","feedback.complain_other":"Другое","feedback.complain_old":"Устаревшая информация","feedback.complain_misleading":"Содержание не соответствует заголовку или фото на карточке","feedback.complain_advertising":"Много рекламы","feedback.complaint.form.interest":"Интерес","feedback.complaint.form.channel":"Канал","feedback.complaint.form.contains":"содержит:","feedback.cancel":"Отменить","channel.source_block":"Заблокировать","channel.channel.block":"Заблокировать","channel.source_unblock":"Разблокировать","channel.channel.unblock":"Разблокировать канал","channel.channel.complain":"Пожаловаться","channel.channel.subscribers_0":"подписчиков","channel.channel.subscribers_1":"%d подписчик","channel.channel.subscribers_2":"%d подписчика","channel.channel.subscribers_5":"%d подписчиков","mobile.card-item.share.title":"Поделиться","publishers.card.stat.view":"просмотр","publishers.card.stat.views_2":"просмотра","publishers.card.stat.views":"просмотров","desktop.subscribed":"Вы подписаны","desktop.next_video":"Следующее видео","desktop.cancel":"Отмена","comments.adult-image":"Откровенное изображение","comments.adult-image-show":"Показать","profile.all-comment":"Все комментарии","desktop.video.replay_in":"Повтор через","desktop.video.more_interesting_on_channel":"Больше интересного на канале","featuring.menu.dislike":"Скрыть этот блок","featuring.menu.dislike.description":"Показывать рекомендации реже","featuring.menu.info":"Как сюда попасть?","featuring.menu.info.description":"Узнать о программе рекомендаций","onboarding.no-recommendations":"Новых рекомендаций пока нет","onboarding.find-other-topics":"Найти другие интересы и каналы","onboarding.show-more-topics":"Показать больше интересов","onboarding.new.title":"Чем вы интересуетесь?","desktop.feed.personal":"Персональные рекомендации","desktop.feed.personal_popup":"По этому интересу в Дзене много публикаций.\nЛента сформирована с учётом ваших предпочтений.","profile.onboarding-card-likes-title":"Здесь будут размещаться ваши комментарии и понравившиеся публикации","profile.onboarding-card-interests-title":"При желании, активность и интересы можно скрыть в {настройках|settingsLink}","profile.restoring-message":"Восстановление","profile.activate-button":"Восстановить профиль","profile.editor-update-failure":"Не удалось сохранить","profile.sleeping-title":"Профиль этого человека спит","profile.deactivate-title":"Вы деактивировали свой профиль","profile.sleeping-description":"Профиль проснётся, как только человек зайдёт в него","profile.deactivate-description":"Профиль скрыт от других пользователей. Также, вы не можете оставлять комментарии или видеть список понравившихся вам публикаций.","profile.activate-description":"Вы всегда можете восстановить свой профиль.","desktop.activity_feed_title":"Активность","profile.empty_activity":"Здесь пока ничего нет","profile.activity-hide":"Этот человек предпочел скрыть свою активность","profile.more":"ещё %d","profile.interests-title":"Интересы","preferences.similar_interests_2":"Связанные интересы","profile.collapse":"свернуть","profile.interests-subtitle-empty":"Дзен ещё ничего не знает о вас","profile.interests-message-empty":"Читайте больше публикаций, чтобы Дзен понял, что вам интересно","profile.interests-hide":"Этот человек предпочел скрыть свои интересы","site.feedback.user_question.thanks":"Спасибо за помощь!"};t.default=((e,t,n)=>{const r=new Mr(e,t,n);let i=!1;const o=(e,t)=>{(e=>{if(!e.items)throw new Error("Invalid response")})(t);const n=pt(t);r.init(Object.assign({},e,{cache:{type:U.c.SessionCache,namespace:"common",isPrefetchEnabled:!0}}),n),r.getZenApi().addListener(U.d.PackShown,()=>{r.emit("packShown")})};return{initFromContainer:(e,t)=>{try{const n=t.querySelector("#app-state");if(!n)throw new Error("Can't get app state");const a=n.innerText,s=JSON.parse(a);i=!0,t.removeChild(n),o(e,s)}catch(e){throw r.emit("invalidatePack"),e}},initFromState:o,on:r.on.bind(r),off:r.off.bind(r),trigger:r.trigger.bind(r),render:e=>r.render(e,i)}})(({disableMetrika:e})=>{const t=Ri(Li,e),{outputBus:n}=Object(q.c)(),{theme:r,libType:i,browserBase:o,pCodeLoaderBundleUrl:a,isLiteRtb:s,pcodever:c}=Object(W.g)(e=>{const{zenlibBrowserBase:t,isLiteRtbEnabled:n,rezenPcode:{version:r}}=Object(ji.a)(e);return{pCodeLoaderBundleUrl:Object(Mi.a)(e),theme:Object(yi.m)(e),libType:e.params.libType,browserBase:t,pcodever:r,isLiteRtb:n}});Object(Gr.a)(()=>{t&&t("LIB_SHOWED"),Object(Bi.a)({pCodeLoaderBundleUrl:a,loadJs:Nr.a,pcodever:c,isLiteRtb:s}).then(e=>n.emit("advManagerReceived",e),e=>n.emit("advManagerReceiveFailed",e))});const l={theme:r,libType:i,browserBase:o};return $.a.createElement("div",{className:Ts(l)},$.a.createElement("div",{className:"zen-app"},$.a.createElement(Ii,null),$.a.createElement(Ss,null)))},cc,lc)},function(e,t,n){"use strict";n.r(t);n(10);var r=n(241),i=n.n(r);const o=new i.a("regular-ysans"),a=new i.a("bold-ysans"),s=new i.a("medium-ysans");window._fontsLoadPromise||(window._fontsLoadPromise=Promise.all([o.load(),a.load(),s.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.classList.add("fonts-loaded")}).catch(e=>{console.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(15),i=n(32);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});const r="Page closed",i="Page visibility changed",o="Feed requested",a="Feed appeared in DOM",s="Feed successfully mounted",c="Feed failed to mount",l="Card failed to mount",u="Chunk failed to load"},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(0);const i=Object(r.createContext)(null),o=()=>Object(r.useContext)(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(0);const i=Object(r.createContext)({handleFeedback:()=>{}}),o=()=>Object(r.useContext)(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(15),i=n(79),o=n(145),a=n(114),s=n(113),c=n(85),l={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(i.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(c.a)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===l?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(185),i=n(225),o=n(95);function a(){return new o.a}function s(){return function(e){return Object(i.a)()(Object(r.a)(a)(e))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(17),i=(n(372),n(0)),o=n.n(i),a=n(16),s=n(36);const c=Object(a.a)("specified-title"),l=e=>{const t=Object(s.a)(e,{className:c()});return o.a.createElement("h2",Object(r.a)({},t,{itemprop:"headline"}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(421);var r=n(0),i=n.n(r),o=n(16);const a=Object(o.a)("blackout-filter"),s=({className:e,isAd:t=!1})=>i.a.createElement("div",{className:o.a.mix(t?"zenad-blackout-filter":a(),e)})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(435);var r=n(0),i=n.n(r),o=n(16);const a=Object(o.b)("card-stub-view"),s=()=>i.a.createElement("div",{className:a()})},function(e,t,n){"use strict";n(428);var r=n(12),i=n.n(r),o=n(13),a=n.n(o),s=new i.a({id:"like--inline",use:"like--inline-usage",viewBox:"0 0 14 16",content:'<symbol viewBox="0 0 14 16" id="like--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.09369 6.66667H13.0833C13.6422 6.66667 14 7.01907 14 7.55556C13.9134 8.85181 13.6603 10.1861 13.2484 11.3702L13.2458 11.3783C12.6784 13.0065 11.8368 14.5103 10.7536 15.8309L10.7519 15.833L10.6058 16H3V8L7.37881 2.63253L7.38138 2.62907C7.69226 2.25017 7.9289 1.82681 8.0918 1.35965L8.09369 1.35372C8.21184 1.01402 8.28437 0.655373 8.30923 0.283391C8.4922 0.108351 8.74444 0 9.02326 0C9.54523 0 9.9007 0.332627 10.113 0.898915C10.3663 1.57438 10.3441 2.33958 10.3441 2.33958C10.3441 3.33466 9.98472 4.24774 9.38764 4.97145L9.38953 4.97293L8.09369 6.66667ZM2 16H0V8H2V16Z" />\n</symbol>'}),c=(a.a.add(s),s),l=new i.a({id:"dislike--inline",use:"dislike--inline-usage",viewBox:"0 0 14 16",content:'<symbol viewBox="0 0 14 16" id="dislike--inline">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.90631 9.33333L0.916654 9.33333C0.357814 9.33333 -1.39651e-05 8.98093 -1.4012e-05 8.44444C0.0865814 7.14819 0.339692 5.81389 0.751577 4.62977L0.75415 4.6217C1.32156 2.99348 2.16317 1.48974 3.24638 0.169112L3.24809 0.166973L3.39419 9.27189e-07L11 2.62268e-07L11 8L6.62119 13.3675L6.61862 13.3709C6.30774 13.7498 6.0711 14.1732 5.9082 14.6403L5.90631 14.6463C5.78816 14.986 5.71563 15.3446 5.69077 15.7166C5.5078 15.8917 5.25556 16 4.97674 16C4.45477 16 4.0993 15.6674 3.88701 15.1011C3.63374 14.4256 3.65586 13.6604 3.65586 13.6604C3.65586 12.6653 4.01528 11.7523 4.61235 11.0286L4.61047 11.0271L5.90631 9.33333ZM12 1.74846e-07L14 0L14 8L12 8L12 1.74846e-07Z" />\n</symbol>'}),u=(a.a.add(l),l),d=n(0),p=n.n(d),b=n(5),m=n(16),h=n(227);const f=(e,t)=>{if(1!==e.length||1!==t.length)return!1;const n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343},v=/[\s\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000]+/g,g=/\n+/g;var y=n(294),O=n(8),_=n(40);n(10),n(429),n(430);const k=Object(m.b)("overflower"),E=({short:e,orientation:t,children:n,className:r})=>p.a.createElement("div",{className:m.b.mix(k({orientation:t}),r)},p.a.createElement("div",{className:k("short")},e),p.a.createElement("div",{className:k("long")},n)),C=({children:e})=>p.a.createElement(E,{orientation:"horizontal",short:" "},p.a.createElement(E,{orientation:"vertical",short:" "},e));var j=n(54);n(44);const w=Object(m.b)("comment-image"),S=(e,t)=>new Promise(n=>{const r=new Image,i=()=>{t&&(r.srcset=t),r.src=e};"function"==typeof r.decode?(i(),n(r.decode().then(()=>r))):(r.onload=(()=>n(r)),i())}),T=({image:{sizes:e},isMobile:t,withBlur:n})=>{const r=t?`${e["mobile-1x"]}, ${e["mobile-2x"]} 2x, ${e["mobile-3x"]} 3x`:`${e["desktop-1x"]}, ${e["desktop-2x"]} 2x`,i=t?e["mobile-1x"]:e["desktop-1x"],[o,a]=Object(d.useState)(!1),[s,c]=Object(d.useState)(""),{blur:l}=e;return Object(d.useEffect)(()=>{let e=!0;return Promise.all([S(i,r),n?S(l):Promise.resolve()]).then(([t])=>{e&&(a(!0),c(t.currentSrc||t.src))}),()=>{e=!1}},[i,r,l,n]),{loaded:o,src:s,blurSrc:l}},x=({boundary:{width:e,height:t},height:n,width:r,shouldFit:i})=>{const o=n/r;if(i){if(o<t/e){const t=Math.min(r,e);return{width:t,height:t*o}}{const e=Math.min(n,t);return{width:e/o,height:e}}}{const n=Math.min(r,e);let i=n*o;return{width:n,height:i=Math.min(i,t)}}},A=({src:e,blurSrc:t,isAdult:n,mainColor:r,loaded:i,style:o,containerRef:a,darkLoader:s,onClick:c})=>{const{l10n:l}=Object(y.a)(),u=(e=>Object(d.useMemo)(()=>{if(e){const[t,n,r]=Object(j.a)(e);return Object(j.b)(t,n,r)}},[e]))(n?r:void 0);return p.a.createElement("div",{className:w({loaded:i,darkLoader:s}),ref:a},p.a.createElement("div",{className:w("wrap"),style:o,onClick:c},p.a.createElement("div",{className:w("loader")}),p.a.createElement("div",{className:w("image"),style:{backgroundImage:`url(${n?t:e})`}},n?p.a.createElement(C,null,p.a.createElement("div",{className:w("adult",{dark:u})},p.a.createElement("div",{className:w("adult-title")},l("comments.adult-image")),p.a.createElement("div",{className:w("adult-subtitle")},l("comments.adult-image-show")))):null)))},I=({image:e,maxHeight:t,maxWidth:n})=>{const[r,i]=Object(d.useState)(e.isAdult),{loaded:o,src:a,blurSrc:s}=T({image:e,isMobile:!0,withBlur:r}),{width:c,height:l}=e,u="GIF"===e.format,b=x({boundary:{width:n,height:t},height:l,width:c,shouldFit:u}),m=Object(d.useCallback)(e=>{r&&(e.stopPropagation(),e.preventDefault(),i(!1))},[r]);return p.a.createElement(A,{src:a,blurSrc:s,isAdult:r,mainColor:e.mainColor,loaded:o,style:b,darkLoader:!0,onClick:m})};var P=n(14),N=n(22),R=n(2);n.d(t,"a",function(){return M});const L=Object(m.a)("comment-doc"),M=Object(d.memo)(({id:e})=>{const t=Boolean(!1),{l10n:n}=Object(y.a)(),r=Object(d.useMemo)(_.c,[]),{comment:i,isCommentsDislikeEnabled:o,author:a,source:s}=Object(b.g)(t=>{const n=Object(O.w)(t,e,R.e.COMMENT),{isCommentsDislikeEnabled:i}=Object(P.a)(t);return Object.assign({},n,{source:r(t,e),isMobile:Boolean(t.params.isMobile),isCommentsDislikeEnabled:i})},b.e),{text:l,images:m,likeCount:k,dislikeCount:E,reactions:C,url:j}=i,w=m[0],S=Boolean(w),T=k-E,[x,A]=Object(d.useState)(null),M=Object(d.useRef)(null),B=Object(d.useRef)(null),D=Object(d.useRef)(0),F=Object(d.useRef)();Object(N.a)(()=>{const e=M.current;if(!e)return;D.current=M&&e.clientWidth||0;const t=B.current;t&&(F.current=Object(h.a)({containerElem:e,textElem:t,linesLimit:2+(w?4:9)}))});const V=Object(d.useCallback)(e=>{B.current=e,e&&A(e.getBoundingClientRect())},[]);if(!i)return null;const U=()=>F.current?(({descriptor:e={},rowsCount:t,text:n="",fullTextButtonWidth:r=0,threshold:i=0,maxLineWidth:o=0,addEllipsis:a=!1})=>{const{lines:s=[]}=e;if(s.length<=t)return{text:`${n} `};const c=n.replace(v,e=>e.includes("\n")?"\n":" ").replace(g,"\n");let l=0,u="";for(let e=0;e<t;e++){const n=s[e]||[],a=t===e+1;for(let e=0;e<n.length;e++){const t=n[e],s=n[e-1];if(a){const e=t.rect.right-n[0].rect.left;if(e+r+i>=o&&(!s||!f(s.value,t.value)))break;l=e}u=`${u}${t.value}`}}const d=!!r&&l+r>=o;let p=0,b="";for(let e=0,t=c.length;e<t&&p<u.length;e+=1)b+=c[e],c[e]===u[p]&&p++;return{shouldRenderFullTextButton:d,text:`${b.trim()}${a&&!d?"... ":" "}`}})({descriptor:F.current,rowsCount:m[0]?4:9,text:l,maxLineWidth:D.current,addEllipsis:!0}).text:l;return p.a.createElement("div",{className:L()},(()=>{if(!a)return null;const e={backgroundImage:`url(${a.avatarUrl})`};return p.a.createElement("div",{className:L("user")},p.a.createElement("div",{className:L("user-avatar")},p.a.createElement("div",{className:L("user-avatar-image"),style:e})),p.a.createElement("div",{className:L("user-name")},a.name))})(),p.a.createElement("a",{href:j,target:"_blank",rel:"noreferrer noopener",className:L("bubble")},(()=>{const e=U();return p.a.createElement("div",{ref:M},p.a.createElement("div",{key:e.length,className:L("comment",{isMobile:t,hasTextAndImage:Boolean(S&&e)}),ref:V},e),w&&x?p.a.createElement(I,{image:w,maxHeight:203-x.height,maxWidth:x.width}):null)})()),p.a.createElement("div",{className:L("footer")},(()=>{if(o){const e=L("reactions-counter",{isPositive:T>0,isNegative:T<0,isNew:!0}),t=C.includes("LIKE"),n=C.includes("DISLIKE");return p.a.createElement("div",{className:L("reactions")},p.a.createElement("svg",{viewBox:u.viewBox,className:L("reactions-icon",{isLike:!0,isLiked:t})},p.a.createElement("use",{xlinkHref:`#${c.id}`})),p.a.createElement("span",{className:e},T),p.a.createElement("svg",{viewBox:u.viewBox,className:L("reactions-icon",{isDislike:!0,isDisliked:n})},p.a.createElement("use",{xlinkHref:`#${u.id}`})))}return p.a.createElement("div",{className:L("reactions")},p.a.createElement("svg",{width:"12",height:"13",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:L("reactions-icon")},p.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.22 5.387h.001c.43 0 .779.353.779.789v.031a12.111 12.111 0 0 1-.579 3.031l-.002.007A12.035 12.035 0 0 1 9.5 12.863l-.001.001-.113.136H3.468V6.28l3.433-4.141.002-.003a3.41 3.41 0 0 0 .547-1.031l.002-.005c.09-.276.147-.568.166-.87a.771.771 0 0 1 .55-.23c.402 0 .675.27.839.73.195.55.178 1.17.178 1.17a3.46 3.46 0 0 1-.737 2.14h.002L7.319 5.388h3.901zM2.312 13H0V6.279h2.312v6.72z"})),p.a.createElement("span",{className:L("reactions-counter")},k))})(),p.a.createElement("div",{className:L("all-comments-wrap")},p.a.createElement("a",{href:`${s.link}#comments_data=p_root`,target:"_blank",rel:"noreferrer noopener",className:L("all-comments")},n("profile.all-comment")))))})},function(e,t,n){"use strict";n(434);var r=n(0),i=n.n(r),o=n(16),a=n(54),s=n(322),c=(n(282),n(183)),l=n(88);const u=Object(o.a)("card-channel-name"),d=({textColor:e,name:t,read:n,className:r,opacity:a,component:s="div",isOneLineForced:d=!1,isCommentCounterAppeared:p=!1})=>{const b={text:t,initialContainerWidth:150,fontSize:14,fontFamily:"bold-ysans",isOneLineForced:d,isCommentCounterAppeared:p},{containerRef:m,isOneLiner:h}=Object(c.a)(b),{containerRef:f,isOneLiner:v}=Object(c.a)(Object.assign({},b,{text:t.split(" ")[0],fontSize:11,toleranceWidth:30})),g=Object(l.a)(m,f);return i.a.createElement(s,{className:o.a.mix(u({read:n,size:h?"medium":"small",isOneLiner:h||!v,flexFix:!0}),r),style:{color:e,opacity:a},ref:g},t)};var p=n(110),b=n(116),m=n(93),h=n(313),f=n(233),v=n(20),g=n(74),y=n(8),O=n(2),_=n(14),k=n(109),E=n(18),C=n(142),j=n(115),w=n(40),S=n(5),T=n(219),x=n(220),A=n(92),I=n(24),P=n(200),N=n(129),R=n(71),L=n(29),M=n(149),B=n(61);n(281);var D=n(70),F=n(606),V=n(64);var U=n(82),z=n(60),H=n(75),$=n(511),W=n(596),q=n(120),G=n(507),K=n(595),Y=n(226),Z=n(42),Q=n(37),X=n(66);var J=n(19);var ee=n(320),te=n(518),ne=n(512),re=n(221),ie=n(34),oe=n(224);n.d(t,"a",function(){return he});const ae=Object(o.a)("tooth-card"),se=[{opacity:0,top:0},{opacity:.0568,top:14.26},{opacity:.1193,top:22.91},{opacity:.4,top:52.72},{opacity:.8,top:100}],ce=[{opacity:1,top:40},{opacity:.8,top:50},{opacity:0,top:68}],le=[{opacity:1,top:45},{opacity:.8,top:53},{opacity:0,top:68}],ue=(e,t)=>{return`linear-gradient(to bottom, ${e.map(({opacity:e,top:n})=>`rgba(${t}, ${e}) ${n}%`).join(",")})`},de=e=>ue(se,e),pe=e=>ue(ce,e),be=e=>ue(le,e),me=({isToothVisible$:e,isVisible$:t,isIntersecting$:n,shortTimeout:r=X.a,showTimeout:i=X.b,onShort:o,onShow:a,onDeepwatch:s})=>{const c=Object(Y.a)(),{zenApi:l}=Object(v.c)();Object(Z.a)(()=>{const o=Object($.a)(t,e).pipe(Object(q.a)(([e,t])=>{var n;return Boolean(!e&&t)||e&&Boolean(null===(n=l.getConfig().deferredEvents)||void 0===n?void 0:n.shouldDeferEvents)})),a=Object(Q.a)(o,c,r).pipe(Object(G.a)(e=>"show"===e.type),Object(q.a)(()=>({type:"short"})),Object(K.a)(e=>e.type,n)),s=Object(Q.a)(t,c,i).pipe(Object(G.a)(e=>"show"===e.type),Object(K.a)(e=>e.type));return Object(W.a)(a,s)},e=>{"show"===e.type&&a?Object(S.c)(()=>{a()}):"short"===e.type&&o?Object(S.c)(()=>{o()}):"deepwatch"===e.type&&s&&Object(S.c)(()=>{s(e.timestamp)})})},he=Object(r.memo)(({id:e,itemIndexInRow:t,containerRef:n,scrollTo:o})=>{const{zenApi:c}=Object(v.c)(),u=Object(r.useMemo)(w.c,[]),{shouldAskUserQuestion:W,scrollToElementImmediately:K,shouldScrollOnOpenCard:Y,itemOrder:Z,promoCardRowsCount:Q,commentsInfo:se,item:ce,host:le,isFeedbackCard:ue,view:he,isTouch:fe,isCommentCounterAppeared:ve,source:ge,hasSubscribeButton:ye,triggerEvent:Oe}=Object(S.g)(t=>{var n;const r=Object(y.x)(t,e,[O.e.TEXT,O.e.IMAGE]),i=Object(U.a)(t),o=u(t,e),{extendFeedback:{isPopup:a}}=Object(_.a)(t),{statEvents:s,feedback:c,type:l,subscribeTriggerEvent:d}=r,p=c&&"liked"!==c,b=Object(z.c)(t,e),m=Object(z.b)(t,e);return{source:o,triggerEvent:d?s[d]:void 0,shouldAskUserQuestion:l===O.e.TEXT&&Boolean(Object(k.b)(t,e)),isFeedbackCard:i&&(p||a),hasSubscribeButton:Object(j.a)(t,r,o),scrollToElementImmediately:Object(E.g)(t),shouldScrollOnOpenCard:Object(E.i)(t),item:r,itemOrder:Object(y.m)(t,e),promoCardRowsCount:Object(y.r)(t),isExtendFeedbackPopupExp:a,commentsInfo:Object(C.b)(t,r),host:t.params.host||"",view:Object(E.l)(t),isTouch:Boolean(null==t?void 0:null===(n=t.params)||void 0===n?void 0:n.isTouch),isCommentCounterAppeared:Boolean(b&&m)}},g.a),{packId:_e,cacheId:ke,statEvents:Ee,bulkParams:Ce,text:je,title:we,image:Se,link:Te,read:xe,feedback:Ae,domainTitle:Ie,mainColor:Pe,cardColors:Ne,pixels:Re}=ce,Le={statEvents:Ee,bulkParams:Ce};Object(T.b)({id:e,isDesktop:!0,promoCardRowsCount:Q,containerRef:n,title:we,domainTitle:Ie,statObject:Le,scrollTo:o,itemIndexInRow:t,itemOrder:Z});const Me=Object(D.a)(Le),Be=(e=>{const t=Object(J.b)();return Object(r.useCallback)(()=>{e&&t("short",e)},[t,e])})(Le),De=se&&se.state.mounted&&(null==se?void 0:se.id)||"",Fe=Object(x.a)(Re),[Ve,Ue,ze,He]=((e=X.d,t=X.c)=>{const n=[0,t,e],[r,i]=Object(re.a)(n),o=Object(oe.a)(),[a,s,c]=Object(ie.a)(()=>{const n=i.pipe(Object(G.a)(e=>null!==e));return[e=>e>0,e=>e>=t,t=>t>=e].map(e=>Object($.a)(n.pipe(Object(q.a)(e)),o).pipe(Object(q.a)(([e,t])=>e&&t),Object(ee.a)(),Object(te.a)(null),Object(ne.a)()))});return[r,s,c,a]})(),$e=Object(l.a)(n,Ve);me({isToothVisible$:Ue,isVisible$:ze,isIntersecting$:He,onShort(){Be()},onShow(){Me({commentId:De}),Fe(),c.packShown(_e,ke)}});const{handleClick:We,handleAuxClick:qe}=(({id:e,shouldAskUserQuestion:t,commentsInfo:n,shouldScrollOnOpenCard:i,scrollToElementImmediately:o,scrollTo:a,statObject:s,similarLink:c,pos:l,link:u,toothRef:d})=>{const p=Object(S.f)(),b=Object(N.a)(a),m=Object(N.a)(()=>p(Object(I.p)(e))),h=Object(B.a)(I.k),f=Object(C.c)(n),v=Object(R.a)(s),{isMobileSimilarsEnabled:g,shouldCleanCacheOnFeedback:y}=Object(S.g)(e=>({shouldCleanCacheOnFeedback:e.params.shouldCleanCacheOnFeedback,isMobileSimilarsEnabled:Object(_.a)(e).isMobileSimilarsEnabled}),S.e),O=Object(r.useCallback)(()=>{},[h,e,g,l,c]),k=Object(A.a)(n=>{t&&p(Object(I.e)(e)),p(Object(P.a)(e)),v({commentId:f,clickOnComment:"0",link:u}),y&&p(Object(I.l)(e)),i&&(o?b():Object(L.a)(1e3).then(b)),Object(M.a)().then(()=>{m()}),O()},250),E=Object(r.useCallback)(e=>{0!==e.button&&1!==e.button||k(e)},[k]);return{handleClick:k,handleAuxClick:E}})({id:e,shouldAskUserQuestion:W,commentsInfo:se,shouldScrollOnOpenCard:Y,scrollToElementImmediately:K,scrollTo:o,statObject:Le,link:Te,toothRef:n}),Ge=Object(r.useRef)(null),Ke=Object(r.useRef)(null),Ye=Object(r.useCallback)(()=>{Ge.current&&Ge.current.clamp().then(()=>{Ke.current&&Ke.current.clamp()})},[]);Object(b.a)(Ye),Object(r.useEffect)(Ye,[we,je]),Object(m.a)(Ye,He);const Ze=!Se||"white"===he,{backgroundColor:Qe,color:Xe}=(({mainColor:e,cardColors:t,isWhiteTheme:n,view:i})=>Object(r.useMemo)(()=>{if(n||"white-image"===i||"white-flat"===i)return{backgroundColor:"#ffffff",color:"#000000"};if("white-flat-2"===i)return{backgroundColor:"#f2f4f7",color:"#000000"};if(e){const{card:t,text:n}=Object(V.a)(e);return{backgroundColor:t,color:n}}return t?{backgroundColor:t.card,color:t.text}:{backgroundColor:"#ffffff",color:"#000000"}},[e,t,n,i]))({mainColor:Pe,cardColors:Ne,isWhiteTheme:Ze,view:he}),Je=Ze?null:{backgroundImage:`url(${Se})`},et=Object(a.a)(Qe).join(),tt=Ze?"#f0f0f0":Se?`rgba(${et},0.4)`:"#e8e2da",nt={background:("color2"===he?pe:be)(et)},rt={backgroundColor:tt},it={view:he,isFaded:xe||"liked"===Ae,animation:!1,hasImage:Boolean(Se)&&!Ze,isMobile:!1,isDesktop:!0,hasSubscribeButton:ye},ot=["white","white-image","white-flat-2","color","color2"].includes(he);return i.a.createElement(F.a,{withShadows:Boolean(ot)},i.a.createElement("div",{className:ae(it),ref:$e},i.a.createElement(p.b,{className:ae("link"),style:{color:Xe},href:Te,host:le,target:"_blank",onClick:We,onAuxClick:qe},Je?i.a.createElement("div",{className:ae("image"),style:Je}):null,i.a.createElement("div",{className:ae("text-fade"),style:nt}),i.a.createElement("div",{className:ae("hover-fade"),style:rt}),i.a.createElement("div",{className:ae("read-fade"),style:{backgroundColor:Qe}}),i.a.createElement("div",{className:ae("filter-mask")}),"color2"===he&&i.a.createElement("div",{className:ae("bottom-fade"),style:{background:de(et)}}),!["white-flat","white-flat-2"].includes(he)&&i.a.createElement("div",{className:ae("header-source")},Ie),i.a.createElement("div",{className:ae("content")},i.a.createElement(s.a,{className:ae("title"),withAutoClamp:!1,ref:Ge},we),je?i.a.createElement(s.a,{className:ae("text"),withAutoClamp:!1,fitToSpace:!0,shouldResetLineCount:!0,ref:Ke},je):null),i.a.createElement("div",{className:ae("source-controls-wrapper")},i.a.createElement("div",{className:ae("footer-source")},["white-flat","white-flat-2"].includes(he)&&i.a.createElement(d,{className:ae("source-title"),read:!1,textColor:"white-flat-2"===he?Xe:"#fff",name:Ie,isCommentCounterAppeared:ve}),"color2"===he&&i.a.createElement("div",{className:ae("subscribe-button")},i.a.createElement(H.a,{source:ge,triggerEvent:Oe,isVisible:ye,style:{borderColor:Xe,color:Xe,opacity:.7},isMobile:!1,statObject:Le}))),i.a.createElement("div",{className:ae("feedback")},i.a.createElement(h.a,{id:e,isMobile:!1,isHoverable:!fe,backgroundColor:["color2","white-flat-2"].includes(he)?Qe:"#000",iconColor:["color2","white-flat-2"].includes(he)?Xe:"#fff",withoutCommentCounter:!["color2","white-flat-2"].includes(he),onCardClick:We,hasProductsButton:!1})))),ue?i.a.createElement(f.a,{id:e,mainColor:Pe}):null))})},function(e,t,n){"use strict";var r=n(85),i=n(208),o=n(146),a=n(79),s=n(206),c=n(154),l=n(238);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&Object(a.a)(e[1])?Object(c.a)(e[0]):Object(l.a)(1)(s.a.apply(void 0,e))}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];Object(a.a)(n)?e.pop():n=null;var s=e.length;return u(1!==s||n?s>0?Object(r.a)(e,n):Object(o.a)(n):Object(i.a)(e[0]),t)}}n.d(t,"a",function(){return d})},function(e,t,n){"use strict";var r=n(0),i=n.n(r);n(10);const o=new Map,a="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let s;function c(e,t={bubbles:!1,cancelable:!1,detail:void 0}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail),n}a&&(window&&"function"!=typeof window.CustomEvent&&(c.prototype=Object.create(window.Event.prototype),window.CustomEvent=c),s=new c("visible"));const l=(e,t,n)=>new Promise((r,i)=>{const o=()=>{const t=new Image;t.onload=r,t.onerror=i,t.src=e};if(a&&t&&n){const e=d(u,n),r=()=>{o(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else o()}),u=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(s)})},d=(e,t)=>{const n=JSON.stringify(t);if(o.has(n))return o.get(n);const r=new IntersectionObserver(u,t);return o.set(n,r),r};var p=n(59);n.d(t,"a",function(){return h});const b={rootMargin:"0px 0px 500px 0px"},m={};class h extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isImageLoaded:m[this.props.imageUrl]||!1},this._setImageLoaded=Object(p.a)(()=>{m[this.props.imageUrl]=!0,this.setState({isImageLoaded:!0})}),this._ref=Object(r.createRef)(),t}componentDidMount(){this._loadImage()}componentWillUnmount(){this._setImageLoaded.cancel()}componentDidUpdate(e){this.props.imageUrl!==e.imageUrl&&this.setState({isImageLoaded:m[this.props.imageUrl]||!1},()=>{this._loadImage()})}_getLazyLoadingOptions(){const{lazyLoadingOptions:e={}}=this.props,t={};return Object.assign({},b,t,e)}_loadImage(){if(this.state.isImageLoaded)return;const{imageUrl:e}=this.props;if(!e)return;const t=this.props.isImageLazyLoadEnabled?this._ref.current:null,n=this._getLazyLoadingOptions();l(e,t||void 0,n).then(()=>this._setImageLoaded())}render(){const{renderImage:e,renderPlaceholder:t,wrapperClass:n}=this.props,{isImageLoaded:r}=this.state;return i.a.createElement("div",{className:n,ref:this._ref},t&&t(r),e(r))}}h.defaultProps={isImageLazyLoadEnabled:!1}},,function(e,t,n){"use strict";var r=n(17),i=n(23),o=(n(384),n(0)),a=n.n(o),s=n(89),c=n.n(s),l=n(151),u=n.n(l),d=n(229),p=n(36);const b=(e=>{return Object(o.forwardRef)((t,n)=>{const[i,s]=Object(o.useState)(null);let c;return Object(o.useEffect)(()=>{s(Object(d.a)())},[]),c="number"==typeof i&&i>0?Object(p.a)(t,{style:{width:`calc(100vw - ${i}px)`}}):t,a.a.createElement(e,Object(r.a)({},c,{ref:n}))})})("div");var m=n(150),h=n(182),f=n(127),v=n(33),g=n(16),y=n(163);n.d(t,"a",function(){return _});const O=Object(v.a)("modal");class _ extends a.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={placeholderElem:null,margin:null,scrollbarWidth:null,isJustOpened:!1},this._composeInputRefs=Object(h.a)(),this._scrollableContainerElem=null,this._scrollbarFixElem=null,this._whileOpenListenerStorage=new m.a,this._scrollableContainerRef=(e=>{this._scrollableContainerElem=e,e?this._modalDidOpen():this._modalDidClose()}),this._scrollbarFixRef=(e=>{this._scrollbarFixElem=e}),t}componentDidUpdate(e){const{isOpen:t,isMobileMenu:n,onOpen:r,onClose:i}=this.props;!e.isOpen&&t&&("function"==typeof r&&r(),n&&this.setState({isJustOpened:!0})),e.isOpen&&!t&&("function"==typeof i&&i(),n&&this.setState({isJustOpened:!1}))}_isNotModalClick(e){return e.target===this._scrollableContainerElem||e.target===this._scrollbarFixElem}_modalDidOpen(){const{scrollbarWidth:e}=this.state,t=this._scrollableContainerElem;if(!t||"number"!=typeof e)return;const{direction:n}=getComputedStyle(t);this.setState({margin:"rtl"===n?`0 0 0 ${-e}px`:`0 ${-e}px 0 0`}),document.body&&(document.body.style.overflow="hidden");const r=e=>{if(this._isNotModalClick(e)){e.preventDefault();const{shouldCloseOnOuterClick:t,close:n}=this.props;t&&"function"==typeof n&&n()}};this._whileOpenListenerStorage.add(document,"mousedown",r,{passive:!1}),this._whileOpenListenerStorage.add(document,"touchstart",r,{passive:!1}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===y.a){const{shouldCloseOnEscClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}})}_modalDidClose(){this.setState({margin:null}),document.body&&(document.body.style.overflow=""),this._whileOpenListenerStorage.clear()}_renderModal(){const e=this.props,{isOpen:t,isMobileMenu:n,withFixedHeight:s,close:l,containerRef:u,withScrollbarFix:d,withVerticalAlign:m,scrollableContainerRef:h,viewType:v,isClosable:y,children:_,overlayClassName:k}=e,E=Object(i.a)(e,["isOpen","isMobileMenu","withFixedHeight","close","containerRef","withScrollbarFix","withVerticalAlign","scrollableContainerRef","viewType","isClosable","children","overlayClassName"]),{placeholderElem:C,margin:j,scrollbarWidth:w,isJustOpened:S}=this.state,T=d?b:"div";if(!t||!C||"number"!=typeof w)return null;const x=Object(p.a)(Object(f.a)(E,["shouldCloseOnEscClick","shouldCloseOnOuterClick","onClose","onOpen"]),{className:O("content",{isMobileMenu:n}),style:S?{transform:"translateY(0)"}:void 0}),A=this._composeInputRefs(this._scrollableContainerRef,h),I=c.a.createPortal(a.a.createElement("div",{ref:A,className:O({viewType:v,withVerticalAlign:m,withFixedHeight:s,isMobileMenu:n}),style:{margin:j||void 0,visibility:j?void 0:"hidden"}},a.a.createElement(T,{ref:this._scrollbarFixRef,className:Object(g.c)(O("scrollbar-fix"),k)},a.a.createElement("div",Object(r.a)({ref:u},x),_,y?a.a.createElement("div",{className:O("close-wrapper")},a.a.createElement("button",{className:O("close"),onClick:l})):null))),C);return a.a.createElement(o.Fragment,{key:"modal"},I)}componentDidMount(){this.setState({placeholderElem:document.body,scrollbarWidth:Object(d.a)()})}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){return a.a.createElement(u.a,{component:o.Fragment,transitionName:"_transition",transitionEnterTimeout:y.b,transitionLeaveTimeout:y.b},this._renderModal())}}_.defaultProps={isOpen:!1,isClosable:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!1,withVerticalAlign:!1,viewType:"outer-close"}},,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});n(419);var r=n(0),i=n.n(r),o=n(16),a=n(2),s=n(54),c=n(519);let l;!function(e){e.smallImage="si",e.bigImage="bi",e.backgroundCardImage="bci",e.mediumImage="mi"}(l||(l={}));const u=Object(o.a)("blur-image");class d extends r.PureComponent{constructor(e){super(e),this.mode=void 0,this._renderPlaceholder=(e=>{const{color:t,size:n,blurredPreview:r,gradientType:o}=this.props,a=this.mode===l.backgroundCardImage&&!e||this.mode===l.smallImage||this.mode===l.bigImage||this.mode===l.mediumImage;return i.a.createElement("div",null,i.a.createElement(m,{blurredPreview:r,mode:this.mode}),i.a.createElement(b,{color:t,size:n,mode:this.mode,isVisible:a,gradientType:o}))}),this._renderImage=(e=>{const{aspectRatioMode:t,isBlurred:n,imageStyle:r}=this.props,o=this._getImageUrl(),a=e&&o?`url(${o})`:void 0,s=u("image",{mode:this.mode,"is-loaded":e,"aspect-ratio":t,"is-blurred":n,mode_bci_fix:!1});return i.a.createElement("div",{className:s,style:Object.assign({},r,{backgroundImage:a})})}),this.mode=this._getImageMode()}_getImageMode(){const{size:e,cardBackgroundImage:t,forcedMode:n}=this.props;return e===a.d.BIG?l.bigImage:n===l.backgroundCardImage&&t?l.backgroundCardImage:n===l.smallImage?l.smallImage:n===l.mediumImage?l.mediumImage:t?l.backgroundCardImage:l.smallImage}_getImageUrl(){const{theme:e,image:t,bigImage:n,cardBackgroundImage:r,cardBackgroundWhiteImage:i}=this.props;switch(this.mode){case l.bigImage:case l.mediumImage:return n;case l.smallImage:return t;case l.backgroundCardImage:return"white"===e?i:r}return t}render(){const{isImageLazyLoadEnabled:e}=this.props;return i.a.createElement("div",{className:u()},i.a.createElement(c.a,{imageUrl:this._getImageUrl()||"",renderPlaceholder:this._renderPlaceholder,renderImage:this._renderImage,isImageLazyLoadEnabled:e,wrapperClass:u("wrap")}))}}let p;!function(e){e.radial="radial",e.linear="linear"}(p||(p={}));const b=({color:e,size:t,mode:n,isVisible:r,gradientType:o=p.linear})=>{const c=Object(s.a)(e).join();let l="",d="";const b=[`rgba(${c},1) 0%`,`rgba(${c},0.85) 10%`,`rgba(${c},0.6) 20%`,`rgba(${c},0) 50%`],m=[`rgba(${c},0) 55%`,`rgba(${c},0.6) 70%`,`rgba(${c},0.85) 80%`,`rgba(${c},1) 95%`];return"radial"===o?d=`radial-gradient(ellipse at right 50% , ${[`rgba(${c},0) 36%`,`rgba(${c},0.1) 45%`,`rgba(${c},0.16) 47%`,`rgba(${c},0.75) 60%`,`rgba(${c},0.96) 65%`,`rgba(${c},1) 70%`].join(", ")})`:("comment"===t&&(d=`linear-gradient(to right, ${b.join()})`),d=t===a.d.BIG?`radial-gradient(100% 500% at 100%, ${m.join(", ")})`:`linear-gradient(to top, ${b.join()})`),l={background:d},i.a.createElement("div",{className:u("fade",{mode:n,"is-visible":r}),style:l})},m=({blurredPreview:e,mode:t})=>{const n=`data:image/png;base64,${e||""}`;return i.a.createElement("div",{className:u("preview",{mode:t}),style:{backgroundImage:`url(${n})`}})}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(17),i=n(0),o=n.n(i),a=n(81),s=n(294);const c=e=>{const t=Object(i.forwardRef)((t,n)=>{const{l10n:i,lang:a}=Object(s.a)();return o.a.createElement(e,Object(r.a)({},t,{ref:n,l10n:i,lang:a}))});return t.displayName=Object(a.a)("WithTranslation",e),t}},function(e,t,n){"use strict";n(10);var r=n(38),i=n(298);const o=e=>{let t=null,n=null,r=!1;return(...o)=>!n||r||t&&!Object(i.a)(t,o)?(t=o,r=!1,n=e(...o).then(e=>(r=!0,e),e=>{throw r=!0,e})):n};var a=n(90),s=n(171);const c=Object(r.b)({reducer:s.b,selector:(e,t)=>Object(a.c)(e,t).profile});var l=n(175),u=n(176),d=n(194),p=n(66),b=n(94),m=n(3),h=n(27);n.d(t,"a",function(){return f}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return x});const f=e=>({type:m.c,payload:{userId:e}}),v=e=>(t,...n)=>r=>(Object(h.e)(t)?r(f(t)):console.error("ADD_USER action not fired because, userId type is not string"),r(e(t,...n))),g=e=>e===p.e?"":e,y=o(({zenApi:e},t)=>e.getPreferences(g(t))),O=o(({zenApi:e},t)=>{return e.getSocialProfile(g(t)).then(e=>{if(Object(b.a)(e)){const t=e.captcha["captcha-page"];throw window.location.href=t,new Error("Couldn't get a social profile. Captcha received.")}return e})}),_=o(({zenApi:e},t)=>e.getUserSubscribers(g(t))),k=e=>t=>async n=>{const i=(e=>{let t={isFirstCall:!0};return(...n)=>(t.isFirstCall&&(t={isFirstCall:!1,value:e(...n)}),t.value)})(y),[o,a]=Object(r.c)({type:m.Nb,request:i,selector:l.a}).map(v),[s,c]=Object(r.c)({type:m.Hb,request:i,selector:u.a}).map(v);e?await Promise.all([n(a(t)),n(c(t))]):await Promise.all([n(o(t)),n(s(t))])},E=k(!0),[C,j,w]=(k(!0),Object(r.c)({type:m.Lb,request:O,selector:c}).map(v).map(e=>(t,...n)=>async(r,i)=>{const o=i(),s=Object(a.a)(o),[c]=await Promise.all([r(e(t,...n)),r(E(s))]);return c})),[S,T]=Object(r.c)({type:m.Ib,request:_,selector:d.a}).map(v),x=e=>({type:m.Kb,payload:{id:e}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(15),i=n(114),o=n(113);function a(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o.a)(i,r)),i}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(26),i=n(79),o=n(238),a=n(85);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,c=e[e.length-1];return Object(i.a)(c)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(n)(Object(a.a)(e,s))}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});n(282);var r=n(0),i=n.n(r),o=n(16),a=n(183);const s=Object(o.a)("card-channel-name"),c=({textColor:e,name:t,read:n,className:r,opacity:c,component:l="div",isOneLineForced:u=!1,isCommentCounterAppeared:d=!1})=>{const{containerRef:p,isOneLiner:b}=Object(a.a)({text:t,initialContainerWidth:150,fontSize:14,fontFamily:"bold-ysans",isOneLineForced:u,isCommentCounterAppeared:d});return i.a.createElement(l,{className:o.a.mix(s({read:n,size:b?"medium":"small",isOneLiner:b}),r),style:{color:e,opacity:c},ref:p},t)}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});n(379);var r=n(0),i=n.n(r),o=n(16),a=n(135);const s=Object(o.a)("card-controls-container"),c={[a.a.Focused]:"focused",[a.a.Unfocused]:"unfocused",[a.a.Normal]:null},l=({rootRef:e,focus:t,isMobile:n,isHoverable:o,children:a,onClick:l,ariaLabel:u})=>{const d=Object(r.useCallback)(e=>{l&&(e.stopPropagation(),l(e))},[l]),p=c[t];return i.a.createElement("div",{ref:e,className:s("item",{mode:p,isMobile:n,isHoverable:o}),onClick:d,role:"button","aria-label":u},a)},u=({isMobile:e,children:t})=>i.a.createElement("div",{className:s({isMobile:e})},t)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(17),i=n(23),o=(n(383),n(0)),a=n.n(o),s=n(36),c=n(33);const l=Object(c.a)("spinner"),u=100,d=16,p=u/2,b=2e3,m=2*Math.PI*(p-d/2),h=[.8,.2],f=.8*(e=>2*Math.PI*e)(p-d/2),v=e=>-.5*(Math.cos(Math.PI*e)-1);class g extends a.a.Component{constructor(...e){var t;return t=super(...e),this._circleRef=Object(o.createRef)(),this.animateDashOffsetFallback=(()=>{const e=this._circleRef.current;e&&function e(t,n){const r=performance.now();requestAnimationFrame(function i(o){let a=o-r;a>n&&(a=n),t(a),a<n?requestAnimationFrame(i):requestAnimationFrame(()=>e(t,n))})}(t=>{const n=b/h.length,r=t%n,i=Math.floor(t/n),o=(i-1+h.length)%h.length,a=h[i]-h[o];e.style.strokeDashoffset=String(m*(h[o]+a*v(r/n)))},b)}),t}componentDidMount(){this.props.withAnimation&&(document.documentMode||navigator.userAgent.includes("Edge"))&&this.animateDashOffsetFallback()}render(){const e=this.props,{size:t,withAnimation:n}=e,o=Object(i.a)(e,["size","withAnimation"]),c=`0 0 ${u} ${u}`,p=(u-d)/2,b={width:t,height:t},m=Object(s.a)(o,{className:l({withAnimation:n}),style:b}),h={strokeWidth:d};return a.a.createElement("svg",Object(r.a)({},m,{viewBox:c}),a.a.createElement("circle",{ref:this._circleRef,style:h,className:l("circle"),strokeDashoffset:f,cx:"50",cy:"50",r:p}))}}g.defaultProps={size:20,className:"",withAnimation:!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});n(407);var r=n(0),i=n.n(r),o=n(16),a=n(285);const{id:s,viewBox:c}=a.a,l=Object(o.a)("star-tag-view"),u=({label:e,size:t="inline",onClick:n,theme:r="classic",isHoverAnimationEnabled:a,isNoWrap:u,mix:d})=>i.a.createElement("div",{className:o.a.mix(l({size:t,theme:r,isHoverAnimationEnabled:a,isNoWrap:u}),d),onClick:n},i.a.createElement("div",{className:l("icon-box")},i.a.createElement("svg",{className:l("svg-icon"),viewBox:c},i.a.createElement("use",{xlinkHref:`#${s}`}))),"‌",i.a.createElement("h3",{className:l("label")},e))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(425);var r=n(0),i=n.n(r);const o=Object(r.memo)(({width:e,height:t,children:n,isAd:r})=>i.a.createElement("div",{className:r?"zenad-scaled-container":"scaled-container",style:{paddingBottom:`${t/e*100}%`}},i.a.createElement("div",{className:r?"zenad-scaled-container__inner":"scaled-container__inner"},n)))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(443);var r=n(0),i=n.n(r),o=n(16);const a=Object(o.a)("spinner"),s=({dots:e=5})=>{const t=new Array(e).fill(void 0).map((e,t)=>i.a.createElement("div",{key:t,className:a("dot",{[`dot-index_${t}`]:!0})}));return i.a.createElement("div",{className:a()},t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});n(446);var r=n(0),i=n.n(r),o=n(16);const a=Object(o.a)("count-down-circle"),s=(e,t,n,r)=>{if(!t)return;const i=e/n*(r-.25);t.style.strokeDasharray=`${e} ${e}`,t.style.strokeDashoffset=String(i)},c=e=>{const{seconds:t,onFinish:n,isPauseCountDown:o,onClick:c,strokeWidth:l,radius:u,isPlayNext:d}=e,[p,b]=Object(r.useState)(t),m=Object(r.useRef)(null);Object(r.useEffect)(()=>{const e=m.current;if(!e)return;const r=2*u*Math.PI;let i;return s(r,e,t,p),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset 0.25s linear",o||(i=window.setInterval(()=>{b(e=>(e<.5&&n&&n(),e-.25))},250)),i&&(o||0===p)&&window.clearInterval(i),()=>{i&&window.clearInterval(i)}},[u,t,p,n,o]),Object(r.useEffect)(()=>{const e=m.current;if(!e)return;const n=2*u*Math.PI;s(n,e,t,p)},[u,p,t]);const h=u+l/2,f=2*u+l;return i.a.createElement("div",{className:a({isPlayNext:d}),onClick:c},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:f,height:f,className:a("icon")},i.a.createElement("circle",{className:a("circle"),r:u,cx:h,cy:h,ref:m,strokeWidth:l})))}},function(e,t,n){"use strict";var r=n(17),i=n(23),o=(n(457),n(0)),a=n.n(o),s=(n(458),n(459),n(150)),c=n(36),l=n(127),u=n(33);const d=(e,t)=>{let n,r;return(...i)=>{const o=Date.now();clearTimeout(r),n&&o<n+t?r=setTimeout(()=>{n=o,e(...i)},t):(n=o,e(...i))}};var p=n(163);const b=100,m=Object(u.a)("popup-base");class h extends o.PureComponent{constructor(...e){var t;return t=super(...e),this.state={position:null},this._containerElem=null,this._whileOpenListenerStorage=new s.a,this._onOpenTopPosition=null,this.throttledScrollCallback=d(()=>{if(!this._containerElem||null===this._onOpenTopPosition)return;const{close:e}=this.props,t=this._getCloseOnScrollThreshold(),n=this._onOpenTopPosition-this._containerElem.getBoundingClientRect().top;e&&"number"==typeof t&&Math.abs(n)>t&&e()},150),this._containerRef=(e=>{this._containerElem=e,e?this._popupDidOpen():this._popupDidClose()}),t}_getCloseOnScrollThreshold(){const{shouldCloseOnScroll:e}=this.props;return"number"==typeof e?e:e?b:null}_isNotPopupClick(e){const t=this.props.getTriggerElem();let{target:n}=e;for(;n;){if(!(n instanceof Node)||n===t||n===this._containerElem)return!1;n=n.parentNode}return!0}_popupDidOpen(){const e=this._containerElem;if(!e)return;const{getPosition:t,getTriggerElem:n}=this.props;this.setState({position:t(n(),e)},()=>{this._onOpenTopPosition=e.getBoundingClientRect().top}),this._whileOpenListenerStorage.add(document,"click",e=>{if(this._isNotPopupClick(e)){const{shouldCloseOnOuterClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e instanceof KeyboardEvent&&e.keyCode===p.a){const{shouldCloseOnEscClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}}),this._whileOpenListenerStorage.add(document,"scroll",this.throttledScrollCallback,{capture:!0,passive:!0})}_popupDidClose(){this.setState({position:null}),this._onOpenTopPosition=null,this._whileOpenListenerStorage.clear()}recalculatePosition(){const{getPosition:e,getTriggerElem:t}=this.props,n=this._containerElem;n&&this.setState({position:e(t(),n)})}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){const{position:e}=this.state,t=Object(c.a)(Object(l.a)(this.props,["close","getPosition","getTriggerElem","shouldCloseOnEscClick","shouldCloseOnOuterClick","shouldCloseOnScroll"]),{className:m(),style:Object.assign({},e,{visibility:e?void 0:"hidden"})});return a.a.createElement("div",Object(r.a)({ref:this._containerRef},t))}}h.defaultProps={shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,shouldCloseOnScroll:!0};var f=h,v=n(151),g=n.n(v);const y=Object(u.a)("popup"),O=e=>{const{isOpen:t=!1,setRef:n,onOpen:s,onClose:l}=e,u=Object(i.a)(e,["isOpen","setRef","onOpen","onClose"]),d=(e=>{const t=Object(o.useRef)(e);return Object(o.useEffect)(()=>{t.current=e}),t.current})(t);let p;if(Object(o.useEffect)(()=>{!d&&t&&"function"==typeof s&&s(),d&&!t&&"function"==typeof l&&l()},[t,d,s,l]),t){const e=Object(c.a)(u,{className:y()});p=a.a.createElement(f,Object(r.a)({key:"popup",ref:n},e))}else p=null;return a.a.createElement(g.a,{component:o.Fragment,transitionName:"_transition",transitionEnterTimeout:150,transitionLeaveTimeout:150},p)};var _=n(266);const k=Object(_.a)(O);n(10);const E={top:{oppositeSide:"bottom",sizeType:"height",isPrimarySide:!0},bottom:{oppositeSide:"top",sizeType:"height",isPrimarySide:!1},right:{oppositeSide:"left",sizeType:"width",isPrimarySide:!1},left:{oppositeSide:"right",sizeType:"width",isPrimarySide:!0}},C=(e,t)=>({top:e.top-t.top,right:t.right-e.right,bottom:t.bottom-e.bottom,left:e.left-t.left,width:e.width,height:e.height}),j=(e,t,n)=>{if(!t||!n.offsetParent)return null;const{y:r,x:i,shifts:o={},shouldOverlap:a=!1,shouldFlip:s=!1,flipContainer:c}=e,l=n.offsetParent.getBoundingClientRect(),u=t.getBoundingClientRect(),d=n.getBoundingClientRect(),p=C(u,l),b={};let m=!1,h=!1;"object"==typeof a?(m=Boolean(a.x),h=Boolean(a.y)):(m=a,h=a);const f=e=>{const{oppositeSide:t,sizeType:n}=E[e];b[t]=p[t]+p[n]},v=e=>{const{sizeType:t}=E[e];b[e]=p[e]+(p[t]-d[t])/2};if("center"===r?v("top"):E[r]&&(h?b[r]=p[r]:f(r)),"center"===i?v("left"):E[i]&&(m?b[i]=p[i]:f(i)),(e=>Object.keys(e))(o).forEach(e=>{if(E[e]){const t=o[e],{oppositeSide:n}=E[e];if("number"==typeof t){const r=b[e],i=b[n];"number"==typeof r?b[e]=r+t:"number"==typeof i&&(b[n]=i+t)}}}),!s)return b;const g=(e,t)=>((e,t,n,r,i)=>{if("center"===e)return!1;const{oppositeSide:o,sizeType:a,isPrimarySide:s}=E[e],[c,l]=s?[e,o]:[o,e],u=t[c],d=t[l]||0,p=e=>"number"==typeof u?e[c]+u:e[l]-d-n[a];let b,m;if(i){const e=i.getBoundingClientRect();b="width"===a?e.width:e.height,m=p(C(r,e))}else b="width"===a?document.documentElement.clientWidth:document.documentElement.clientHeight,m=p(r);return m<0||m+n[a]>b})(e,b,d,l,t),y=g(i,c)||!1,O=g(r,c)||!1;if(!y&&!O)return b;const _=[[y,"x",i],[O,"y",r]].reduce((e,[t,n,r])=>t?((e,t,n)=>{if("center"===n)return e;const r=Object.assign({},e),{oppositeSide:i}=E[n];if("x"!==t||"left"!==i&&"right"!==i?"y"!==t||"bottom"!==i&&"top"!==i||(r.y=i):r.x=i,e.shifts){const t=Object.assign({},e.shifts),o=e.shifts[n],a=e.shifts[i];"number"==typeof o&&(t[i]=o,delete t[n]),"number"==typeof a&&(t[n]=a,delete t[i]),r.shifts=t}return r})(e,n,r):e,Object.assign({},e,{shouldFlip:!1}));return j(_,t,n)},w=e=>(t,n)=>j(e,t,n);n.d(t,"e",function(){return T}),n.d(t,"d",function(){return x}),n.d(t,"b",function(){return A}),n.d(t,"g",function(){return I}),n.d(t,"c",function(){return P}),n.d(t,"a",function(){return N}),n.d(t,"f",function(){return L});const S=Object(u.a)("context-menu"),T=(e=>{return t=>{let{children:n}=t,r=Object(i.a)(t,["children"]);const o=Object(c.a)(r,{className:S("item-icon-container")}),s=a.a.Children.map(n,e=>a.a.isValidElement(e)?a.a.cloneElement(e,Object(c.a)({className:S("item-icon")},e.props)):e);return a.a.createElement(e,o,s)}})("span"),x=(e=>{return t=>{let{text:n,description:r,isNoWrap:o=!1}=t,s=Object(i.a)(t,["text","description","isNoWrap"]);const l=Object(c.a)(s,{className:S("item-text-container")});return a.a.createElement(e,l,a.a.createElement("span",{className:S("item-text",{isNoWrap:o})},n),r?a.a.createElement("span",{className:S("item-description")},r):null)}})("span"),A=e=>{const t=Object(c.a)(e,{className:S("divider")});return a.a.createElement("hr",t)},I=e=>{return t=>{const{close:n,autoClose:r=!0,alignItems:o}=t,s=Object(i.a)(t,["close","autoClose","alignItems"]),l=Object(c.a)(Object.assign({type:"button"===e?"button":void 0},s),{className:S("item",{alignItems:o}),onClick:r&&"function"==typeof n?n:void 0});return a.a.createElement(e,l)}},P=I("button"),N=(e=>{return t=>{let{children:n,close:r}=t,o=Object(i.a)(t,["children","close"]);const s=a.a.Children.map(n,e=>a.a.isValidElement(e)?a.a.cloneElement(e,{close:r}):e),l=Object(c.a)(o,{className:S()});return a.a.createElement(e,l,s)}})("div"),R={x:"left",y:"bottom",shifts:{bottom:40},shouldOverlap:!0,shouldFlip:!0},L=e=>{let{position:t=R,children:n}=e,o=Object(i.a)(e,["position","children"]);const s=Object(c.a)(o,{className:S("popup")});return a.a.createElement(k,Object(r.a)({},s,{getPosition:w(t),renderContent:({close:e})=>a.a.Children.map(n,t=>a.a.isValidElement(t)?a.a.cloneElement(t,Object.assign({},t.props,{close:e})):t)}))}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=(n(481),n(16)),a=n(75),s=(n(10),n(482),n(294));const c=e=>{const{seconds:t,onFinish:n,isMobile:o,isPauseCountDown:a}=e,[c,l]=Object(r.useState)(t),{l10n:u}=Object(s.a)();Object(r.useEffect)(()=>{let e;return a||(e=window.setInterval(()=>{l(e=>(1===e&&n(),e-1))},1e3)),e&&(a||0===c)&&window.clearInterval(e),()=>{e&&window.clearInterval(e)}},[c,n,a,t]);const d=c.toString().padStart(2,"0"),p=u("desktop.video.replay_in"),b=`${`${o?"":p}`} 0:${d}`;return i.a.createElement(i.a.Fragment,null,b)};var l=n(110);const u=Object(o.a)("video-subscribe-centered"),d=({channelLogo:e,channelTitle:t,channelLink:n,source:r,statObject:o,mittens:d,controls:p,isMobile:b,reloadSecIn:m,onReload:h,onManualReload:f,isPauseCountDown:v,backgroundImage:g})=>{const{l10n:y}=Object(s.a)();return i.a.createElement("div",{className:u(),style:{backgroundImage:`url('${g}')`}},i.a.createElement("div",{className:u("overlay")}),i.a.createElement("div",{className:u("controls")},p),i.a.createElement("div",{className:u("body")},i.a.createElement(l.a,{className:u("channel-logo"),href:n,style:{backgroundImage:`url(${e})`}}),i.a.createElement("div",{className:u("more-interesting-text")},i.a.createElement(l.a,{href:n,className:u("link")},y("desktop.video.more_interesting_on_channel"))),i.a.createElement(l.a,{href:n,className:u("link")},t),i.a.createElement("div",{className:u("subscribe-button")},i.a.createElement(a.a,{source:r,statObject:o,isVisible:!0,isMobile:!1,viewType:"yellow",triggerEvent:"click"}))),i.a.createElement("div",{className:u("bottom",{mobile:b})},i.a.createElement("div",{className:u("reload-container"),onClick:f},i.a.createElement("div",{className:u("reload-icon",{mobile:b})}),i.a.createElement(c,{isMobile:b,seconds:m,onFinish:h,isPauseCountDown:v})),d))};n(480);var p=n(603);const b=Object(o.a)("video-subscribe-simple"),m=e=>{const{title:t,controls:n,channelTitle:o,source:s,statObject:c,mittens:l,isMobile:u,reloadSecIn:d,onReload:m,onManualReload:h,isPauseCountDown:f,backgroundImage:v,isControlsHidden:g}=e,[y,O]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{requestAnimationFrame(()=>O(!0))},[]),i.a.createElement("div",{className:b({isMobile:u,isVisible:y})},i.a.createElement("div",{className:b("overlay")},i.a.createElement("div",{className:b("background"),style:{backgroundImage:`url('${v}')`}})),i.a.createElement("div",{className:b("countdown")},i.a.createElement(p.a,{isPlayNext:!1,seconds:d,onFinish:m,isPauseCountDown:f,onClick:h,strokeWidth:2,radius:40})),i.a.createElement("div",{className:b("body",{isVisible:y||!g})},i.a.createElement("div",{className:b("controls")},n),i.a.createElement("div",{className:b("footer")},t,i.a.createElement("div",{className:b("channel-title")},o),i.a.createElement("div",{className:b("buttons")},i.a.createElement(a.a,{className:b("subscribe-button"),source:s,statObject:c,isVisible:!0,isMobile:!1,triggerEvent:"click",viewType:"yellow"}))),i.a.createElement("div",{className:b("bottom")},l)))};n.d(t,"a",function(){return h});const h=e=>{const{channelTitle:t,source:n,mittens:r,controls:o,isMobile:a,reloadSecIn:s=5,onReload:c,onManualReload:l,isPauseCountDown:u,backgroundImage:p,title:b,channelTitleBlock:h,statObject:f}=e;if("circle"===e.viewType){const{isControlsHidden:t}=e;return i.a.createElement(m,{title:b,channelTitle:h,source:n,statObject:f,mittens:r,controls:o,isMobile:a,reloadSecIn:s,onReload:c,onManualReload:l,isPauseCountDown:u,backgroundImage:p,isControlsHidden:t})}{const{channelLogo:b,channelLink:m}=e;return i.a.createElement(d,{channelLogo:b,channelTitle:t,source:n,statObject:f,mittens:r,controls:o,isMobile:a,reloadSecIn:s,onReload:c,onManualReload:l,isPauseCountDown:u,backgroundImage:p,channelLink:m})}}},function(e,t,n){"use strict";n(424);var r=n(0),i=n.n(r),o=n(16);n.d(t,"a",function(){return s});const a=Object(o.a)("card-wrapper"),s=({children:e,forceDisable:t,withShadows:n,withBorder:o})=>{const s=(()=>{const[e,t]=Object(r.useState)(void 0);return Object(r.useEffect)(()=>{const e=Math.floor(1e3*Math.random()),n=Math.random()>.5?{flexBasis:e}:{columnGap:e};t(n)},[]),e})();return i.a.createElement("div",{className:a({isMobile:!1,isDesktop:!0,isMobileMorda:!1,isForceDisable:t,withShadows:n}),style:s},e,o?i.a.createElement("div",{className:a("border")}):null)}},function(e,t,n){"use strict";n(432);var r=n(0),i=n.n(r);const o=(e,t,n=!1)=>{if(e.length<3||n&&t()>.7)return[e];const r=t()*(e.length-2)+1;return[...o(e.substr(0,r),t,!0),...o(e.substr(r),t,!0)]};n.d(t,"a",function(){return a});const a=({text:e})=>{const[t,n]=Object(r.useState)(null);return Object(r.useEffect)(()=>{const t=o(e,()=>Math.random()).reverse().map((e,t)=>i.a.createElement("div",{key:t},e));n(t)},[e]),i.a.createElement("div",{className:"zenad-cutify-text-view"},t)}},function(e,t,n){"use strict";n(449);var r=n(0),i=n.n(r),o=n(16),a=n(12),s=n.n(a),c=n(13),l=n.n(c),u=new s.a({id:"icon-arrow-s--inline",use:"icon-arrow-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" fill="none" id="icon-arrow-s--inline">\n    <path d="M3 6L9 12L15 6" stroke-width="2" />\n</symbol>'}),d=(l.a.add(u),u);n.d(t,"a",function(){return b});const p=Object(o.a)("button-unfold"),b=({foldedText:e,unfoldedText:t,className:n,isUnfolded:r,isHoverAnimationEnabled:a=!0,onClick:s,isReversed:c=!1,isWhite:l=!1})=>i.a.createElement("button",{className:Object(o.c)(p({unfolded:r,isHoverAnimationEnabled:a,isReversed:c,isWhite:l}),n),onClick:s},i.a.createElement("svg",{className:p("icon"),viewBox:d.viewBox},i.a.createElement("use",{xlinkHref:`#${d.id}`})),r?t:e)},function(e,t,n){"use strict";n(403);var r=n(0),i=n.n(r),o=n(16),a=n(317),s=n(598),c=n(12),l=n.n(c),u=n(13),d=n.n(u),p=new l.a({id:"mitten--inline",use:"mitten--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="mitten--inline">\n    <path d="M16.85 7.49c.64 0 1.17.49 1.17 1.09v.05a17.87 16.6 0 01-.87 4.18 17.84 16.58 0 01-2.88 5l-.17.2H5.22V8.74L10.37 3a5.06 4.7 0 00.82-1.42 5.13 4.77 0 00.25-1.22c.2-.2.5-.31.82-.31.6 0 1.02.37 1.27 1 .3.76.26 1.63.26 1.63a5.12 4.76 0 01-1.1 2.95l-1.7 1.87h5.85zM.01 18.03v-9.3h3.47v9.3H0z" />\n</symbol>'}),b=(d.a.add(p),p);n.d(t,"a",function(){return f});const m=Object(o.a)("mitten-view"),h=({className:e,type:t,fill:n})=>{const[,,o,s]=b.viewBox.split(" "),c=Object(r.useMemo)(()=>{if("dislike"===t)return`scale(-1, -1) translate(${-o}, ${-s-8})`},[s,t,o]);return i.a.createElement("svg",{className:e,viewBox:`0 0 ${o} ${parseFloat(s)+8}`},i.a.createElement("g",{transform:c},i.a.createElement(a.a,{symbol:b,svgBottom:8,fill:n})))},f=({type:e,focus:t,isMobile:n,isHoverable:a,onClick:c=(()=>{}),svgClassName:l,iconColor:u})=>{const d=Object(r.useCallback)(e=>{e.preventDefault(),c()},[c]);return i.a.createElement(s.b,{isMobile:n,isHoverable:a,onClick:d,focus:t,ariaLabel:e},i.a.createElement("div",{className:m({isMobile:n})},i.a.createElement(h,{className:o.a.mix(m("svg"),l),type:e,fill:u})))}}]).default;if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.1428");}